
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Daily Dawn</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=DM+Sans:wght@400;500;700;900&family=Crimson+Text:ital@0;1&display=swap" rel="stylesheet">
    <style>
        :root { 
            --accent: #f59e0b; 
            --bg: #0f172a; 
        }
        body { 
            background: linear-gradient(to bottom, #f1f5f9 0%, #e2e8f0 100%);
            font-family: 'DM Sans', sans-serif;
            touch-action: pan-x pan-y;
            -ms-touch-action: pan-x pan-y;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        .glass-header { 
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border-bottom-left-radius: 2.5rem;
            border-bottom-right-radius: 2.5rem;
        }
        .service-tile { 
            @apply flex flex-col items-center p-2 transition-transform active:scale-90 cursor-pointer; 
        }
        .icon-box { 
            @apply w-14 h-14 rounded-2xl flex items-center justify-center text-xl mb-2 shadow-sm; 
        }
        .page-view {
            display: none;
            animation: fadeIn 0.3s ease-out;
        }
        .page-view.active {
            display: block;
        }
        .content-card {
            background: white;
            border-radius: 1.5rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid rgba(241, 245, 249, 0.8);
        }
        .verse-text {
            font-family: 'Crimson Text', serif;
            font-size: 1.1rem;
            line-height: 1.7;
            font-style: italic;
            color: #1e293b;
        }
        .section-title {
            font-weight: 900;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #64748b;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .entry-item {
            padding: 1rem;
            background: #f8fafc;
            border-radius: 1rem;
            margin-bottom: 0.75rem;
            border: 1px solid #e2e8f0;
        }
        .day-divider {
            font-family: 'Archivo Black', sans-serif;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: 0.75rem;
        }
        .fab-button {
            position: fixed;
            bottom: 100px;
            right: 24px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 16px rgba(245, 158, 11, 0.3);
            cursor: pointer;
            transition: transform 0.2s;
            z-index: 40;
        }
        .fab-button:active {
            transform: scale(0.95);
        }
        .input-field {
            width: 100%;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 0.75rem;
            outline: none;
            border: 1px solid #e2e8f0;
            font-weight: 500;
        }
        .textarea-field {
            width: 100%;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 0.75rem;
            outline: none;
            border: 1px solid #e2e8f0;
            min-height: 100px;
            font-family: 'DM Sans', sans-serif;
        }
        .btn-primary {
            width: 100%;
            background: #0f172a;
            color: white;
            padding: 1.25rem;
            border-radius: 1rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: 0.875rem;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .btn-primary:active {
            transform: scale(0.98);
        }
        .tip-card {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 1rem;
            border-radius: 1rem;
            border: 1px solid #fbbf24;
        }
        .mood-emoji {
            font-size: 2rem;
            cursor: pointer;
            transition: transform 0.2s;
            padding: 0.5rem;
        }
        .mood-emoji:hover {
            transform: scale(1.2);
        }
        .mood-emoji.selected {
            transform: scale(1.3);
            filter: drop-shadow(0 0 10px rgba(245, 158, 11, 0.5));
        }
        .loading-spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #f3f4f6;
            border-radius: 50%;
            border-top-color: #f59e0b;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .habit-checkbox {
            width: 24px;
            height: 24px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .habit-checkbox.checked {
            background: #10b981;
            border-color: #10b981;
        }
        .goal-progress-bar {
            height: 8px;
            background: #e2e8f0;
            border-radius: 999px;
            overflow: hidden;
        }
        .goal-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981 0%, #059669 100%);
            transition: width 0.5s ease;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        .modal.active {
            display: flex;
        }
        .modal-content {
            background: white;
            border-radius: 2rem;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }
        .premium-badge {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 999px;
            font-size: 0.65rem;
            font-weight: 900;
            letter-spacing: 0.05em;
        }
        .premium-feature {
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
            border: 2px solid #fbbf24;
            border-radius: 1rem;
            padding: 1rem;
            margin-bottom: 0.75rem;
        }
        .locked-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 1rem;
            z-index: 10;
        }
        .streak-badge {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 999px;
            font-weight: 900;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        .stat-card {
            background: white;
            border-radius: 1rem;
            padding: 1.25rem;
            text-align: center;
            border: 1px solid #e2e8f0;
        }
        .stat-number {
            font-size: 2rem;
            font-weight: 900;
            color: #0f172a;
            display: block;
        }
        .stat-label {
            font-size: 0.75rem;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-top: 0.25rem;
        }
        * {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        input, textarea {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }
    </style>
</head>
<body>
    <!-- Security Protection Notice -->
    <div id="security-warning" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); z-index:99999; color:white; display:flex; align-items:center; justify-content:center; flex-direction:column; text-align:center; padding:2rem;">
        <h1 style="font-size:3rem; margin-bottom:1rem;">‚ö†Ô∏è UNAUTHORIZED ACCESS DETECTED</h1>
        <p style="font-size:1.5rem;">Developer tools and debugging attempts are not allowed.</p>
        <p style="font-size:1rem; margin-top:1rem; opacity:0.7;">This application is protected. Please use it normally.</p>
    </div>

    <!-- Auth Screen -->
    <div id="auth-screen" class="min-h-screen flex items-center justify-center p-6">
        <div class="w-full max-w-md">
            <!-- Login Form -->
            <div id="login-form" class="content-card">
                <div class="text-center mb-8">
                    <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-amber-500 to-amber-600 flex items-center justify-center shadow-lg">
                        <i class="fas fa-sun text-white text-3xl"></i>
                    </div>
                    <h1 class="text-3xl font-black text-slate-900 mb-2" style="font-family: 'Archivo Black', sans-serif;">DAILY DAWN</h1>
                    <p class="text-slate-600">Welcome back! Sign in to continue</p>
                </div>

                <div class="space-y-4">
                    <div>
                        <label class="section-title"><i class="fas fa-user"></i> USERNAME</label>
                        <input type="text" id="login-username" class="input-field" placeholder="Enter your username" autocomplete="username">
                    </div>

                    <div>
                        <label class="section-title"><i class="fas fa-lock"></i> PASSWORD</label>
                        <input type="password" id="login-password" class="input-field" placeholder="Enter your password" autocomplete="current-password">
                    </div>

                    <button onclick="performLogin()" class="btn-primary mt-6">
                        <i class="fas fa-sign-in-alt mr-2"></i> SIGN IN
                    </button>

                    <div class="text-center mt-4">
                        <button onclick="showSignup()" class="text-amber-600 font-bold text-sm">
                            Don't have an account? <span class="underline">Sign up</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Signup Form -->
            <div id="signup-form" class="content-card" style="display: none;">
                <div class="text-center mb-8">
                    <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-amber-500 to-amber-600 flex items-center justify-center shadow-lg">
                        <i class="fas fa-sun text-white text-3xl"></i>
                    </div>
                    <h1 class="text-3xl font-black text-slate-900 mb-2" style="font-family: 'Archivo Black', sans-serif;">JOIN DAILY DAWN</h1>
                    <p class="text-slate-600">Create your account to get started</p>
                </div>

                <div class="space-y-4">
                    <div>
                        <label class="section-title"><i class="fas fa-user-circle"></i> FULL NAME</label>
                        <input type="text" id="signup-name" class="input-field" placeholder="Enter your full name" autocomplete="name">
                    </div>

                    <div>
                        <label class="section-title"><i class="fas fa-user"></i> USERNAME</label>
                        <input type="text" id="signup-username" class="input-field" placeholder="Choose a username" autocomplete="username">
                    </div>

                    <div>
                        <label class="section-title"><i class="fas fa-envelope"></i> EMAIL</label>
                        <input type="email" id="signup-email" class="input-field" placeholder="Enter your email" autocomplete="email">
                    </div>

                    <div>
                        <label class="section-title"><i class="fas fa-lock"></i> PASSWORD</label>
                        <input type="password" id="signup-password" class="input-field" placeholder="Create a password" autocomplete="new-password">
                    </div>

                    <button onclick="performSignup()" class="btn-primary mt-6">
                        <i class="fas fa-user-plus mr-2"></i> CREATE ACCOUNT
                    </button>

                    <div class="text-center mt-4">
                        <button onclick="showLogin()" class="text-amber-600 font-bold text-sm">
                            Already have an account? <span class="underline">Sign in</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App (Initially Hidden) -->
    <div id="main-app" style="display: none;">
        <!-- Header -->
        <div class="glass-header p-6 pb-8 shadow-xl">
            <div class="flex items-center justify-between mb-6">
                <div>
                    <h1 class="text-white text-2xl font-black" style="font-family: 'Archivo Black', sans-serif;">DAILY DAWN</h1>
                    <p class="text-slate-300 text-sm mt-1">Your journey starts here</p>
                </div>
                <button onclick="showProfile()" class="w-12 h-12 rounded-full bg-amber-500 flex items-center justify-center text-white shadow-lg">
                    <i class="fas fa-user"></i>
                </button>
            </div>

            <!-- Greeting & Streak -->
            <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-white/80 text-sm">Good <span id="time-of-day">Morning</span>,</p>
                        <h2 class="text-white text-xl font-bold mt-1" id="user-name-display">User</h2>
                    </div>
                    <div class="text-right">
                        <div class="streak-badge">
                            <i class="fas fa-fire"></i>
                            <span id="streak-count">0</span>
                        </div>
                        <p class="text-white/70 text-xs mt-1">Day Streak</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Services Grid -->
        <div class="p-6 -mt-4">
            <div class="bg-white rounded-3xl shadow-xl p-6">
                <div class="grid grid-cols-4 gap-4">
                    <div class="service-tile" onclick="showPage('journal')">
                        <div class="icon-box bg-blue-50 text-blue-600">
                            <i class="fas fa-book"></i>
                        </div>
                        <span class="text-xs font-bold text-slate-700">Journal</span>
                    </div>

                    <div class="service-tile" onclick="showPage('goals')">
                        <div class="icon-box bg-purple-50 text-purple-600">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <span class="text-xs font-bold text-slate-700">Goals</span>
                    </div>

                    <div class="service-tile" onclick="showPage('habits')">
                        <div class="icon-box bg-green-50 text-green-600">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <span class="text-xs font-bold text-slate-700">Habits</span>
                    </div>

                    <div class="service-tile" onclick="showPage('mood')">
                        <div class="icon-box bg-amber-50 text-amber-600">
                            <i class="fas fa-smile"></i>
                        </div>
                        <span class="text-xs font-bold text-slate-700">Mood</span>
                    </div>

                    <div class="service-tile" onclick="showPage('gratitude')">
                        <div class="icon-box bg-pink-50 text-pink-600">
                            <i class="fas fa-heart"></i>
                        </div>
                        <span class="text-xs font-bold text-slate-700">Gratitude</span>
                    </div>

                    <div class="service-tile" onclick="showPage('prayer')">
                        <div class="icon-box bg-indigo-50 text-indigo-600">
                            <i class="fas fa-pray"></i>
                        </div>
                        <span class="text-xs font-bold text-slate-700">Prayer</span>
                    </div>

                    <div class="service-tile" onclick="showPage('insights')">
                        <div class="icon-box bg-teal-50 text-teal-600">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <span class="text-xs font-bold text-slate-700">Insights</span>
                    </div>

                    <div class="service-tile" onclick="checkPremium('meditation')">
                        <div class="icon-box bg-cyan-50 text-cyan-600 relative">
                            <i class="fas fa-spa"></i>
                            <span class="premium-badge absolute -top-1 -right-1 text-xs">PRO</span>
                        </div>
                        <span class="text-xs font-bold text-slate-700">Meditate</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Content -->
        <div id="dashboard" class="page-view active px-6 pb-24">
            <!-- Daily Inspiration -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fas fa-lightbulb"></i>
                    DAILY INSPIRATION
                    <button onclick="refreshInspiration()" class="ml-auto text-amber-600">
                        <i class="fas fa-sync-alt text-sm"></i>
                    </button>
                </div>
                <p class="verse-text" id="daily-verse"></p>
                <p class="text-xs text-slate-500 mt-3 font-bold" id="verse-reference"></p>
            </div>

            <!-- Quick Stats -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fas fa-trophy"></i>
                    YOUR PROGRESS
                </div>
                <div class="grid grid-cols-3 gap-3">
                    <div class="stat-card">
                        <span class="stat-number" id="total-entries">0</span>
                        <span class="stat-label">Entries</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="goals-completed">0</span>
                        <span class="stat-label">Goals</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="habits-tracked">0</span>
                        <span class="stat-label">Habits</span>
                    </div>
                </div>
            </div>

            <!-- Daily Tip -->
            <div class="tip-card">
                <div class="flex items-start gap-3">
                    <div class="w-10 h-10 rounded-full bg-amber-600 flex items-center justify-center text-white flex-shrink-0">
                        <i class="fas fa-star"></i>
                    </div>
                    <div>
                        <p class="font-bold text-amber-900 text-sm mb-1">üí° Daily Tip</p>
                        <p class="text-amber-800 text-sm" id="daily-tip"></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Journal Page -->
        <div id="journal" class="page-view px-6 pb-24">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-black text-slate-900">MY JOURNAL</h2>
                <button onclick="showPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center">
                    <i class="fas fa-times text-slate-600"></i>
                </button>
            </div>

            <div id="journal-entries"></div>
        </div>

        <!-- Goals Page -->
        <div id="goals" class="page-view px-6 pb-24">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-black text-slate-900">MY GOALS</h2>
                <button onclick="showPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center">
                    <i class="fas fa-times text-slate-600"></i>
                </button>
            </div>

            <div id="goals-list"></div>
        </div>

        <!-- Habits Page -->
        <div id="habits" class="page-view px-6 pb-24">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-black text-slate-900">DAILY HABITS</h2>
                <button onclick="showPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center">
                    <i class="fas fa-times text-slate-600"></i>
                </button>
            </div>

            <div id="habits-list"></div>
        </div>

        <!-- Mood Page -->
        <div id="mood" class="page-view px-6 pb-24">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-black text-slate-900">MOOD TRACKER</h2>
                <button onclick="showPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center">
                    <i class="fas fa-times text-slate-600"></i>
                </button>
            </div>

            <div class="content-card">
                <div class="section-title">HOW ARE YOU FEELING?</div>
                <div class="flex justify-around mb-6">
                    <span class="mood-emoji" onclick="logMood('üò¢', 'Very Sad')">üò¢</span>
                    <span class="mood-emoji" onclick="logMood('üòï', 'Sad')">üòï</span>
                    <span class="mood-emoji" onclick="logMood('üòê', 'Neutral')">üòê</span>
                    <span class="mood-emoji" onclick="logMood('üòä', 'Happy')">üòä</span>
                    <span class="mood-emoji" onclick="logMood('üòÅ', 'Very Happy')">üòÅ</span>
                </div>
            </div>

            <div id="mood-history"></div>
        </div>

        <!-- Gratitude Page -->
        <div id="gratitude" class="page-view px-6 pb-24">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-black text-slate-900">GRATITUDE LOG</h2>
                <button onclick="showPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center">
                    <i class="fas fa-times text-slate-600"></i>
                </button>
            </div>

            <div id="gratitude-entries"></div>
        </div>

        <!-- Prayer Page -->
        <div id="prayer" class="page-view px-6 pb-24">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-black text-slate-900">PRAYER JOURNAL</h2>
                <button onclick="showPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center">
                    <i class="fas fa-times text-slate-600"></i>
                </button>
            </div>

            <div id="prayer-entries"></div>
        </div>

        <!-- Insights Page -->
        <div id="insights" class="page-view px-6 pb-24">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-black text-slate-900">INSIGHTS</h2>
                <button onclick="showPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center">
                    <i class="fas fa-times text-slate-600"></i>
                </button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fas fa-brain"></i>
                    YOUR JOURNEY
                </div>
                <p class="text-slate-600 mb-4">Track your progress and see patterns in your daily entries.</p>
                
                <div class="space-y-4">
                    <div class="p-4 bg-slate-50 rounded-xl">
                        <p class="text-sm font-bold text-slate-700 mb-2">üìä Most Active Day</p>
                        <p class="text-2xl font-black text-slate-900" id="most-active-day">Loading...</p>
                    </div>
                    
                    <div class="p-4 bg-slate-50 rounded-xl">
                        <p class="text-sm font-bold text-slate-700 mb-2">üòä Dominant Mood</p>
                        <p class="text-2xl font-black text-slate-900" id="dominant-mood">Loading...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Meditation Page (Premium) -->
        <div id="meditation" class="page-view px-6 pb-24">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-black text-slate-900">MEDITATION</h2>
                <button onclick="showPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center">
                    <i class="fas fa-times text-slate-600"></i>
                </button>
            </div>

            <div class="content-card relative">
                <div class="locked-overlay" id="meditation-lock">
                    <div class="text-center">
                        <i class="fas fa-lock text-4xl text-amber-600 mb-3"></i>
                        <p class="font-bold text-slate-900">Premium Feature</p>
                        <button onclick="showUpgradeModal()" class="mt-3 px-6 py-2 bg-amber-600 text-white rounded-full font-bold text-sm">
                            Upgrade Now
                        </button>
                    </div>
                </div>
                
                <div class="section-title">
                    <i class="fas fa-spa"></i>
                    GUIDED SESSIONS
                </div>
                <p class="text-slate-600">Access premium meditation content and guided sessions.</p>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="admin-dashboard" class="page-view px-6 pb-24">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-black text-slate-900">ADMIN PANEL</h2>
                <button onclick="showPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center">
                    <i class="fas fa-times text-slate-600"></i>
                </button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fas fa-users"></i>
                    USER MANAGEMENT
                </div>
                <div id="admin-users-list"></div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fas fa-crown"></i>
                    GRANT PREMIUM
                </div>
                <div class="flex gap-2">
                    <input type="text" id="admin-grant-username" class="input-field" placeholder="Username">
                    <button onclick="grantPremium()" class="px-6 py-3 bg-amber-600 text-white rounded-xl font-bold">
                        <i class="fas fa-star"></i>
                    </button>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fas fa-ban"></i>
                    REVOKE PREMIUM
                </div>
                <div class="flex gap-2">
                    <input type="text" id="admin-revoke-username" class="input-field" placeholder="Username">
                    <button onclick="revokePremium()" class="px-6 py-3 bg-red-600 text-white rounded-xl font-bold">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fas fa-cog"></i>
                    SYSTEM CONTROLS
                </div>
                <div class="space-y-3">
                    <button onclick="exportAllUserData()" class="w-full p-4 bg-blue-50 text-blue-700 rounded-xl font-bold flex items-center justify-between">
                        <span><i class="fas fa-download mr-2"></i>Export User Data</span>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <button onclick="viewSystemLogs()" class="w-full p-4 bg-purple-50 text-purple-700 rounded-xl font-bold flex items-center justify-between">
                        <span><i class="fas fa-file-alt mr-2"></i>View System Logs</span>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <button onclick="broadcastMessage()" class="w-full p-4 bg-green-50 text-green-700 rounded-xl font-bold flex items-center justify-between">
                        <span><i class="fas fa-bullhorn mr-2"></i>Broadcast Message</span>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <button onclick="deleteUser()" class="w-full p-4 bg-orange-50 text-orange-700 rounded-xl font-bold flex items-center justify-between">
                        <span><i class="fas fa-user-times mr-2"></i>Delete User</span>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>

            <div class="content-card bg-red-50 border-red-200">
                <div class="section-title text-red-700">
                    <i class="fas fa-exclamation-triangle"></i>
                    DANGER ZONE
                </div>
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                        <span class="font-bold text-sm text-slate-700">Maintenance Mode</span>
                        <label class="relative inline-block w-12 h-6">
                            <input type="checkbox" id="maintenance-mode" onchange="toggleMaintenanceMode()" class="sr-only peer">
                            <div class="w-full h-full bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:bg-red-600 after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all"></div>
                        </label>
                    </div>
                    <button onclick="clearInactiveUsers()" class="w-full p-4 bg-white text-red-700 border-2 border-red-200 rounded-xl font-bold">
                        <i class="fas fa-user-slash mr-2"></i>Clear Inactive Users
                    </button>
                    <button onclick="resetAllUserData()" class="w-full p-4 bg-red-600 text-white rounded-xl font-bold">
                        <i class="fas fa-trash-alt mr-2"></i>RESET ALL DATA
                    </button>
                </div>
            </div>
        </div>

        <!-- FAB Button -->
        <div class="fab-button" onclick="showNewEntryModal()">
            <i class="fas fa-plus text-xl"></i>
        </div>

        <!-- Bottom Navigation -->
        <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 px-6 py-3 flex items-center justify-around" style="z-index: 50;">
            <button onclick="showPage('dashboard')" class="flex flex-col items-center gap-1 p-2">
                <i class="fas fa-home text-xl text-slate-400"></i>
                <span class="text-xs text-slate-600 font-bold">Home</span>
            </button>
            <button onclick="showPage('insights')" class="flex flex-col items-center gap-1 p-2">
                <i class="fas fa-chart-line text-xl text-slate-400"></i>
                <span class="text-xs text-slate-600 font-bold">Insights</span>
            </button>
            <div class="w-12"></div>
            <button onclick="checkPremium('meditation')" class="flex flex-col items-center gap-1 p-2">
                <i class="fas fa-spa text-xl text-slate-400"></i>
                <span class="text-xs text-slate-600 font-bold">Meditate</span>
            </button>
            <button onclick="showProfile()" class="flex flex-col items-center gap-1 p-2">
                <i class="fas fa-user text-xl text-slate-400"></i>
                <span class="text-xs text-slate-600 font-bold">Profile</span>
            </button>
        </div>
    </div>

    <!-- Modals -->
    <div id="new-entry-modal" class="modal">
        <div class="modal-content">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-black text-slate-900">NEW ENTRY</h3>
                <button onclick="closeModal('new-entry-modal')" class="w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center">
                    <i class="fas fa-times text-slate-600"></i>
                </button>
            </div>

            <div class="space-y-4">
                <div>
                    <label class="section-title">TYPE</label>
                    <select id="entry-type" class="input-field">
                        <option value="journal">Journal Entry</option>
                        <option value="gratitude">Gratitude</option>
                        <option value="prayer">Prayer Request</option>
                        <option value="goal">Goal</option>
                        <option value="habit">Habit</option>
                    </select>
                </div>

                <div>
                    <label class="section-title">TITLE</label>
                    <input type="text" id="entry-title" class="input-field" placeholder="Enter title">
                </div>

                <div>
                    <label class="section-title">CONTENT</label>
                    <textarea id="entry-content" class="textarea-field" placeholder="Write your thoughts..."></textarea>
                </div>

                <button onclick="saveEntry()" class="btn-primary">
                    <i class="fas fa-save mr-2"></i> SAVE ENTRY
                </button>
            </div>
        </div>
    </div>

    <div id="profile-modal" class="modal">
        <div class="modal-content">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-black text-slate-900">PROFILE</h3>
                <button onclick="closeModal('profile-modal')" class="w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center">
                    <i class="fas fa-times text-slate-600"></i>
                </button>
            </div>

            <div class="text-center mb-6">
                <div class="w-24 h-24 mx-auto mb-4 rounded-full bg-gradient-to-br from-amber-500 to-amber-600 flex items-center justify-center text-white text-3xl shadow-lg">
                    <i class="fas fa-user"></i>
                </div>
                <h3 class="text-2xl font-black text-slate-900" id="profile-name">User</h3>
                <p class="text-slate-600" id="profile-username">@username</p>
                <div class="mt-3" id="profile-premium-badge"></div>
            </div>

            <div class="space-y-3">
                <div class="p-4 bg-slate-50 rounded-xl flex items-center justify-between" id="admin-panel-button" style="display: none;">
                    <div>
                        <p class="font-bold text-slate-900">Admin Panel</p>
                        <p class="text-xs text-slate-600">Manage users and settings</p>
                    </div>
                    <button onclick="showAdminPanel()" class="px-4 py-2 bg-slate-900 text-white rounded-lg font-bold text-sm">
                        Open
                    </button>
                </div>

                <div class="p-4 bg-slate-50 rounded-xl flex items-center justify-between">
                    <div>
                        <p class="font-bold text-slate-900">Premium Access</p>
                        <p class="text-xs text-slate-600">Unlock all features</p>
                    </div>
                    <button onclick="showUpgradeModal()" class="px-4 py-2 bg-amber-600 text-white rounded-lg font-bold text-sm" id="upgrade-button">
                        Upgrade
                    </button>
                </div>

                <button onclick="performLogout()" class="w-full p-4 bg-red-50 text-red-700 rounded-xl font-bold flex items-center justify-center gap-2">
                    <i class="fas fa-sign-out-alt"></i>
                    SIGN OUT
                </button>
            </div>
        </div>
    </div>

    <div id="upgrade-modal" class="modal">
        <div class="modal-content">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-black text-slate-900">GO PREMIUM</h3>
                <button onclick="closeModal('upgrade-modal')" class="w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center">
                    <i class="fas fa-times text-slate-600"></i>
                </button>
            </div>

            <div class="text-center mb-6">
                <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-amber-500 to-amber-600 flex items-center justify-center shadow-lg">
                    <i class="fas fa-crown text-white text-3xl"></i>
                </div>
                <h4 class="text-2xl font-black text-slate-900 mb-2">Unlock Everything</h4>
                <p class="text-slate-600">Get access to all premium features</p>
            </div>

            <div class="space-y-3 mb-6">
                <div class="premium-feature">
                    <div class="flex items-center gap-3">
                        <i class="fas fa-spa text-2xl text-amber-600"></i>
                        <div>
                            <p class="font-bold text-slate-900">Guided Meditation</p>
                            <p class="text-xs text-slate-600">Access exclusive meditation sessions</p>
                        </div>
                    </div>
                </div>

                <div class="premium-feature">
                    <div class="flex items-center gap-3">
                        <i class="fas fa-chart-pie text-2xl text-amber-600"></i>
                        <div>
                            <p class="font-bold text-slate-900">Advanced Analytics</p>
                            <p class="text-xs text-slate-600">Deep insights into your journey</p>
                        </div>
                    </div>
                </div>

                <div class="premium-feature">
                    <div class="flex items-center gap-3">
                        <i class="fas fa-cloud text-2xl text-amber-600"></i>
                        <div>
                            <p class="font-bold text-slate-900">Cloud Backup</p>
                            <p class="text-xs text-slate-600">Never lose your data</p>
                        </div>
                    </div>
                </div>

                <div class="premium-feature">
                    <div class="flex items-center gap-3">
                        <i class="fas fa-palette text-2xl text-amber-600"></i>
                        <div>
                            <p class="font-bold text-slate-900">Custom Themes</p>
                            <p class="text-xs text-slate-600">Personalize your experience</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-slate-50 rounded-xl p-4 mb-6 text-center">
                <p class="text-slate-600 text-sm mb-1">Premium pricing</p>
                <p class="text-4xl font-black text-slate-900">$4.99<span class="text-lg text-slate-600">/mo</span></p>
            </div>

            <p class="text-center text-xs text-slate-500 mb-4">Premium features are currently in development. Contact admin for early access.</p>
        </div>
    </div>

    <!-- ENHANCED SECURITY SCRIPT -->
    <script>
        // ==========================================
        // SECURITY LAYER 1: Anti-DevTools Detection
        // ==========================================
        (function() {
            'use strict';
            
            // Disable right-click
            document.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                return false;
            }, false);

            // Disable specific keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                // F12, Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+U, Ctrl+S
                if (e.keyCode === 123 || 
                    (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74)) ||
                    (e.ctrlKey && e.keyCode === 85) ||
                    (e.ctrlKey && e.keyCode === 83)) {
                    e.preventDefault();
                    return false;
                }
            }, false);

            // Detect DevTools opening
            let devtools = { open: false };
            const element = new Image();
            Object.defineProperty(element, 'id', {
                get: function() {
                    devtools.open = true;
                    showSecurityWarning();
                }
            });

            // Check periodically
            setInterval(function() {
                devtools.open = false;
                console.log(element);
                console.clear();
            }, 1000);

            // Detect window resize (DevTools opening)
            let windowWidth = window.outerWidth - window.innerWidth;
            let windowHeight = window.outerHeight - window.innerHeight;
            
            window.addEventListener('resize', function() {
                if (window.outerWidth - window.innerWidth > windowWidth + 160 || 
                    window.outerHeight - window.innerHeight > windowHeight + 160) {
                    showSecurityWarning();
                }
            });

            // Detect debugger
            setInterval(function() {
                const before = new Date();
                debugger;
                const after = new Date();
                if (after - before > 100) {
                    showSecurityWarning();
                }
            }, 1000);

            // Prevent text selection on sensitive areas
            document.addEventListener('selectstart', function(e) {
                if (!e.target.matches('input, textarea')) {
                    e.preventDefault();
                }
            });

            // Disable drag
            document.addEventListener('dragstart', function(e) {
                e.preventDefault();
                return false;
            });

            // Disable copy on non-input elements
            document.addEventListener('copy', function(e) {
                if (!e.target.matches('input, textarea')) {
                    e.preventDefault();
                }
            });

            function showSecurityWarning() {
                const warning = document.getElementById('security-warning');
                if (warning) {
                    warning.style.display = 'flex';
                    setTimeout(function() {
                        warning.style.display = 'none';
                    }, 3000);
                }
            }

            // Clear console periodically
            setInterval(function() {
                console.clear();
            }, 2000);

            // Prevent viewing source via shortcuts
            window.addEventListener('keydown', function(e) {
                if ((e.ctrlKey || e.metaKey) && (e.key === 'u' || e.key === 'U')) {
                    e.preventDefault();
                    return false;
                }
            });

        })();

        // ==========================================
        // SECURITY LAYER 2: Code Obfuscation Wrapper
        // ==========================================
        const _0x4a2b = ['DaveAI', 'DailyDawn', 'admin@dailydawn.com', 'Admin'];
        const getAdminCreds = () => ({ u: _0x4a2b[0], p: _0x4a2b[1], e: _0x4a2b[2], n: _0x4a2b[3] });

        // ==========================================
        // APPLICATION CODE
        // ==========================================

        // Daily Inspiration Verses
        const inspirationVerses = [
            { text: "For I know the plans I have for you, declares the Lord, plans to prosper you and not to harm you, plans to give you hope and a future.", ref: "Jeremiah 29:11" },
            { text: "I can do all things through Christ who strengthens me.", ref: "Philippians 4:13" },
            { text: "The Lord is my shepherd; I shall not want.", ref: "Psalm 23:1" },
            { text: "Trust in the Lord with all your heart and lean not on your own understanding.", ref: "Proverbs 3:5" },
            { text: "Be strong and courageous. Do not be afraid; do not be discouraged, for the Lord your God will be with you wherever you go.", ref: "Joshua 1:9" },
            { text: "Cast all your anxiety on him because he cares for you.", ref: "1 Peter 5:7" },
            { text: "The joy of the Lord is your strength.", ref: "Nehemiah 8:10" },
            { text: "In all your ways acknowledge him, and he will make straight your paths.", ref: "Proverbs 3:6" }
        ];

        // Daily Tips
        const dailyTips = [
            "Start your day with gratitude - write down 3 things you're thankful for",
            "Set one small, achievable goal each morning",
            "Take 5 minutes to reflect on your progress each evening",
            "Celebrate small wins - they lead to big achievements",
            "Practice mindfulness - be present in each moment",
            "Connect with others - share your journey",
            "Rest is productive - take breaks when needed",
            "Your consistency matters more than perfection"
        ];

        // Initialize Admin Account
        function initializeAdminAccount() {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const creds = getAdminCreds();
            
            if (!users[creds.u]) {
                users[creds.u] = {
                    username: creds.u,
                    name: creds.n,
                    email: creds.e,
                    password: creds.p,
                    isPremium: true,
                    isAdmin: true
                };
                localStorage.setItem('users', JSON.stringify(users));
            } else {
                // Update password if changed
                users[creds.u].password = creds.p;
                localStorage.setItem('users', JSON.stringify(users));
            }
        }

        // Authentication Functions
        function performLogin() {
            const username = document.getElementById('login-username').value.trim();
            const password = document.getElementById('login-password').value;

            if (!username || !password) {
                alert('Please enter both username and password');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const user = users[username];

            if (!user) {
                alert('User not found. Please check your username or sign up.');
                return;
            }

            if (user.password !== password) {
                alert('Incorrect password. Please try again.');
                return;
            }

            // Check maintenance mode (admins can bypass)
            if (localStorage.getItem('maintenanceMode') === 'true' && !user.isAdmin) {
                alert('üöß System is under maintenance. Please try again later.');
                return;
            }

            // Successful login
            const currentUser = {
                username: user.username,
                name: user.name,
                email: user.email,
                isPremium: user.isPremium || false,
                isAdmin: user.isAdmin || false
            };

            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            // Show broadcast message if exists
            const broadcast = localStorage.getItem('adminBroadcast');
            if (broadcast) {
                alert('üì¢ Admin Message:\n\n' + broadcast);
            }

            showMainApp();
        }

        function performSignup() {
            const name = document.getElementById('signup-name').value.trim();
            const username = document.getElementById('signup-username').value.trim();
            const email = document.getElementById('signup-email').value.trim();
            const password = document.getElementById('signup-password').value;

            if (!name || !username || !email || !password) {
                alert('Please fill in all fields');
                return;
            }

            if (password.length < 6) {
                alert('Password must be at least 6 characters long');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '{}');

            if (users[username]) {
                alert('Username already exists. Please choose a different username.');
                return;
            }

            // Create new user
            users[username] = {
                username: username,
                name: name,
                email: email,
                password: password,
                isPremium: false,
                isAdmin: false
            };

            localStorage.setItem('users', JSON.stringify(users));

            // Auto login
            const currentUser = {
                username: username,
                name: name,
                email: email,
                isPremium: false,
                isAdmin: false
            };

            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            alert('‚úì Account created successfully! Welcome to Daily Dawn.');
            showMainApp();
        }

        function performLogout() {
            if (confirm('Are you sure you want to sign out?')) {
                localStorage.removeItem('currentUser');
                location.reload();
            }
        }

        function showLogin() {
            document.getElementById('login-form').style.display = 'block';
            document.getElementById('signup-form').style.display = 'none';
        }

        function showSignup() {
            document.getElementById('login-form').style.display = 'none';
            document.getElementById('signup-form').style.display = 'block';
        }

        function showMainApp() {
            document.getElementById('auth-screen').style.display = 'none';
            document.getElementById('main-app').style.display = 'block';
            updateProfileDisplay();
            loadDashboard();
            refreshInspiration();
        }

        // Profile Functions
        function updateProfileDisplay() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
            
            if (!currentUser) return;

            // Update header
            document.getElementById('user-name-display').textContent = currentUser.name;
            
            // Update profile modal
            document.getElementById('profile-name').textContent = currentUser.name;
            document.getElementById('profile-username').textContent = '@' + currentUser.username;

            // Premium badge
            const premiumBadge = document.getElementById('profile-premium-badge');
            const upgradeButton = document.getElementById('upgrade-button');
            
            if (currentUser.isPremium) {
                premiumBadge.innerHTML = '<span class="premium-badge">‚≠ê PREMIUM MEMBER</span>';
                if (upgradeButton) {
                    upgradeButton.style.display = 'none';
                }
            } else {
                premiumBadge.innerHTML = '';
                if (upgradeButton) {
                    upgradeButton.style.display = 'block';
                }
            }

            // Show admin panel button if admin
            const adminButton = document.getElementById('admin-panel-button');
            if (currentUser.isAdmin) {
                adminButton.style.display = 'flex';
            } else {
                adminButton.style.display = 'none';
            }

            // Set time of day
            const hour = new Date().getHours();
            let timeOfDay = 'Morning';
            if (hour >= 12 && hour < 18) timeOfDay = 'Afternoon';
            else if (hour >= 18) timeOfDay = 'Evening';
            document.getElementById('time-of-day').textContent = timeOfDay;
        }

        function showProfile() {
            updateProfileDisplay();
            document.getElementById('profile-modal').classList.add('active');
        }

        function showAdminPanel() {
            closeModal('profile-modal');
            showPage('admin-dashboard');
            loadAdminDashboard();
        }

        // Dashboard Functions
        function loadDashboard() {
            // Calculate stats
            const entries = JSON.parse(localStorage.getItem('entries') || '[]');
            const goals = JSON.parse(localStorage.getItem('goals') || '[]');
            const habits = JSON.parse(localStorage.getItem('habits') || '[]');

            document.getElementById('total-entries').textContent = entries.length;
            document.getElementById('goals-completed').textContent = goals.filter(g => g.completed).length;
            document.getElementById('habits-tracked').textContent = habits.length;

            // Calculate streak
            const streak = calculateStreak(entries);
            document.getElementById('streak-count').textContent = streak;

            // Load content for all sections
            loadJournalEntries();
            loadGoals();
            loadHabits();
            loadMoodHistory();
            loadGratitudeEntries();
            loadPrayerEntries();
            loadInsights();
        }

        function calculateStreak(entries) {
            if (entries.length === 0) return 0;

            const sortedEntries = entries.sort((a, b) => new Date(b.date) - new Date(a.date));
            let streak = 0;
            let currentDate = new Date();
            currentDate.setHours(0, 0, 0, 0);

            for (let entry of sortedEntries) {
                const entryDate = new Date(entry.date);
                entryDate.setHours(0, 0, 0, 0);
                
                const daysDiff = Math.floor((currentDate - entryDate) / (1000 * 60 * 60 * 24));
                
                if (daysDiff === streak) {
                    streak++;
                } else {
                    break;
                }
            }

            return streak;
        }

        function refreshInspiration() {
            const verse = inspirationVerses[Math.floor(Math.random() * inspirationVerses.length)];
            const tip = dailyTips[Math.floor(Math.random() * dailyTips.length)];

            document.getElementById('daily-verse').textContent = verse.text;
            document.getElementById('verse-reference').textContent = verse.ref;
            document.getElementById('daily-tip').textContent = tip;
        }

        // Navigation Functions
        function showPage(pageId) {
            document.querySelectorAll('.page-view').forEach(page => {
                page.classList.remove('active');
            });
            
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
                
                // Reload content when showing specific pages
                if (pageId === 'journal') loadJournalEntries();
                if (pageId === 'goals') loadGoals();
                if (pageId === 'habits') loadHabits();
                if (pageId === 'mood') loadMoodHistory();
                if (pageId === 'gratitude') loadGratitudeEntries();
                if (pageId === 'prayer') loadPrayerEntries();
                if (pageId === 'insights') loadInsights();
            }
        }

        function checkPremium(feature) {
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
            
            if (!currentUser) return;

            if (currentUser.isPremium) {
                showPage(feature);
                // Unlock premium content
                const lock = document.getElementById(feature + '-lock');
                if (lock) lock.style.display = 'none';
            } else {
                showUpgradeModal();
            }
        }

        // Modal Functions
        function showNewEntryModal() {
            document.getElementById('new-entry-modal').classList.add('active');
        }

        function showUpgradeModal() {
            document.getElementById('upgrade-modal').classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        function saveEntry() {
            const type = document.getElementById('entry-type').value;
            const title = document.getElementById('entry-title').value.trim();
            const content = document.getElementById('entry-content').value.trim();

            if (!title || !content) {
                alert('Please fill in all fields');
                return;
            }

            const entry = {
                id: Date.now(),
                type: type,
                title: title,
                content: content,
                date: new Date().toISOString()
            };

            // Save to appropriate storage
            const storageKey = type === 'goal' ? 'goals' : 
                             type === 'habit' ? 'habits' : 
                             'entries';

            const items = JSON.parse(localStorage.getItem(storageKey) || '[]');
            items.unshift(entry);
            localStorage.setItem(storageKey, JSON.stringify(items));

            // Clear form
            document.getElementById('entry-title').value = '';
            document.getElementById('entry-content').value = '';
            
            closeModal('new-entry-modal');
            alert('‚úì Entry saved successfully!');
            loadDashboard();
        }

        // Content Loading Functions
        function loadJournalEntries() {
            const entries = JSON.parse(localStorage.getItem('entries') || '[]');
            const container = document.getElementById('journal-entries');
            
            if (entries.length === 0) {
                container.innerHTML = '<div class="content-card text-center"><p class="text-slate-500">No journal entries yet. Start writing!</p></div>';
                return;
            }

            container.innerHTML = entries
                .filter(e => e.type === 'journal')
                .map(entry => `
                    <div class="entry-item">
                        <div class="flex items-start justify-between mb-2">
                            <h4 class="font-bold text-slate-900">${entry.title}</h4>
                            <span class="text-xs text-slate-500">${new Date(entry.date).toLocaleDateString()}</span>
                        </div>
                        <p class="text-slate-700 text-sm">${entry.content}</p>
                    </div>
                `).join('');
        }

        function loadGoals() {
            const goals = JSON.parse(localStorage.getItem('goals') || '[]');
            const container = document.getElementById('goals-list');
            
            if (goals.length === 0) {
                container.innerHTML = '<div class="content-card text-center"><p class="text-slate-500">No goals set yet. Create your first goal!</p></div>';
                return;
            }

            container.innerHTML = goals.map(goal => `
                <div class="content-card">
                    <div class="flex items-start justify-between mb-3">
                        <h4 class="font-bold text-slate-900">${goal.title}</h4>
                        <button onclick="toggleGoalComplete(${goal.id})" class="px-3 py-1 rounded-lg text-xs font-bold ${goal.completed ? 'bg-green-100 text-green-700' : 'bg-slate-100 text-slate-600'}">
                            ${goal.completed ? '‚úì Done' : 'Mark Done'}
                        </button>
                    </div>
                    <p class="text-slate-700 text-sm mb-3">${goal.content}</p>
                    <div class="goal-progress-bar">
                        <div class="goal-progress-fill" style="width: ${goal.completed ? 100 : 0}%"></div>
                    </div>
                </div>
            `).join('');
        }

        function toggleGoalComplete(goalId) {
            const goals = JSON.parse(localStorage.getItem('goals') || '[]');
            const goal = goals.find(g => g.id === goalId);
            
            if (goal) {
                goal.completed = !goal.completed;
                localStorage.setItem('goals', JSON.stringify(goals));
                loadGoals();
                loadDashboard();
            }
        }

        function loadHabits() {
            const habits = JSON.parse(localStorage.getItem('habits') || '[]');
            const container = document.getElementById('habits-list');
            
            if (habits.length === 0) {
                container.innerHTML = '<div class="content-card text-center"><p class="text-slate-500">No habits tracked yet. Start building good habits!</p></div>';
                return;
            }

            container.innerHTML = habits.map(habit => `
                <div class="content-card">
                    <div class="flex items-center gap-3">
                        <div class="habit-checkbox ${habit.checked ? 'checked' : ''}" onclick="toggleHabit(${habit.id})">
                            ${habit.checked ? '<i class="fas fa-check text-white text-sm"></i>' : ''}
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold text-slate-900">${habit.title}</h4>
                            <p class="text-slate-600 text-sm">${habit.content}</p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function toggleHabit(habitId) {
            const habits = JSON.parse(localStorage.getItem('habits') || '[]');
            const habit = habits.find(h => h.id === habitId);
            
            if (habit) {
                habit.checked = !habit.checked;
                localStorage.setItem('habits', JSON.stringify(habits));
                loadHabits();
            }
        }

        function loadMoodHistory() {
            const moods = JSON.parse(localStorage.getItem('moods') || '[]');
            const container = document.getElementById('mood-history');
            
            if (moods.length === 0) {
                container.innerHTML = '<div class="content-card text-center"><p class="text-slate-500">No mood entries yet. How are you feeling today?</p></div>';
                return;
            }

            container.innerHTML = moods.map(mood => `
                <div class="entry-item">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <span class="text-3xl">${mood.emoji}</span>
                            <div>
                                <p class="font-bold text-slate-900">${mood.label}</p>
                                <p class="text-xs text-slate-500">${new Date(mood.date).toLocaleString()}</p>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function logMood(emoji, label) {
            const moods = JSON.parse(localStorage.getItem('moods') || '[]');
            moods.unshift({
                emoji: emoji,
                label: label,
                date: new Date().toISOString()
            });
            localStorage.setItem('moods', JSON.stringify(moods));
            alert('Mood logged: ' + emoji);
            loadMoodHistory();
        }

        function loadGratitudeEntries() {
            const entries = JSON.parse(localStorage.getItem('entries') || '[]');
            const container = document.getElementById('gratitude-entries');
            
            const gratitudeEntries = entries.filter(e => e.type === 'gratitude');
            
            if (gratitudeEntries.length === 0) {
                container.innerHTML = '<div class="content-card text-center"><p class="text-slate-500">No gratitude entries yet. What are you thankful for today?</p></div>';
                return;
            }

            container.innerHTML = gratitudeEntries.map(entry => `
                <div class="entry-item">
                    <div class="flex items-start gap-3">
                        <div class="w-10 h-10 rounded-full bg-pink-100 flex items-center justify-center text-pink-600 flex-shrink-0">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold text-slate-900 mb-1">${entry.title}</h4>
                            <p class="text-slate-700 text-sm mb-2">${entry.content}</p>
                            <span class="text-xs text-slate-500">${new Date(entry.date).toLocaleDateString()}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function loadPrayerEntries() {
            const entries = JSON.parse(localStorage.getItem('entries') || '[]');
            const container = document.getElementById('prayer-entries');
            
            const prayerEntries = entries.filter(e => e.type === 'prayer');
            
            if (prayerEntries.length === 0) {
                container.innerHTML = '<div class="content-card text-center"><p class="text-slate-500">No prayer requests yet. Share your prayers here.</p></div>';
                return;
            }

            container.innerHTML = prayerEntries.map(entry => `
                <div class="entry-item">
                    <div class="flex items-start gap-3">
                        <div class="w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 flex-shrink-0">
                            <i class="fas fa-pray"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold text-slate-900 mb-1">${entry.title}</h4>
                            <p class="text-slate-700 text-sm mb-2">${entry.content}</p>
                            <span class="text-xs text-slate-500">${new Date(entry.date).toLocaleDateString()}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function loadInsights() {
            const entries = JSON.parse(localStorage.getItem('entries') || '[]');
            const moods = JSON.parse(localStorage.getItem('moods') || '[]');

            // Most active day
            if (entries.length > 0) {
                const dayCounts = {};
                entries.forEach(entry => {
                    const day = new Date(entry.date).toLocaleDateString('en-US', { weekday: 'long' });
                    dayCounts[day] = (dayCounts[day] || 0) + 1;
                });
                
                const mostActive = Object.entries(dayCounts).sort((a, b) => b[1] - a[1])[0];
                document.getElementById('most-active-day').textContent = mostActive ? mostActive[0] : 'N/A';
            } else {
                document.getElementById('most-active-day').textContent = 'No data yet';
            }

            // Dominant mood
            if (moods.length > 0) {
                const moodCounts = {};
                moods.forEach(mood => {
                    moodCounts[mood.label] = (moodCounts[mood.label] || 0) + 1;
                });
                
                const dominantMood = Object.entries(moodCounts).sort((a, b) => b[1] - a[1])[0];
                document.getElementById('dominant-mood').textContent = dominantMood ? dominantMood[0] : 'N/A';
            } else {
                document.getElementById('dominant-mood').textContent = 'No mood data';
            }
        }

        // Admin Functions
        function loadAdminDashboard() {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const container = document.getElementById('admin-users-list');
            const creds = getAdminCreds();
            
            const userList = Object.values(users)
                .filter(u => u.username !== creds.u)
                .map(user => `
                    <div class="entry-item">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="font-bold text-slate-900">${user.name}</p>
                                <p class="text-sm text-slate-600">@${user.username}</p>
                                <p class="text-xs text-slate-500 mt-1">${user.email}</p>
                            </div>
                            <div class="text-right">
                                ${user.isPremium ? '<span class="premium-badge text-xs">Premium</span>' : '<span class="text-xs text-slate-500">Free</span>'}
                                <button onclick="viewUserDetails('${user.username}')" class="block mt-2 text-xs text-blue-600 font-bold">View Details</button>
                            </div>
                        </div>
                    </div>
                `).join('');

            container.innerHTML = userList || '<p class="text-slate-500 text-center">No users yet</p>';
        }

        function grantPremium() {
            const username = document.getElementById('admin-grant-username').value.trim();
            if (!username) {
                alert('Please enter a username');
                return;
            }
            
            grantPremiumToUser(username);
            document.getElementById('admin-grant-username').value = '';
        }

        function grantPremiumToUser(username) {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            
            if (!users[username]) {
                alert('User not found: ' + username);
                return;
            }
            
            if (users[username].isPremium) {
                alert('User already has premium access');
                return;
            }
            
            users[username].isPremium = true;
            localStorage.setItem('users', JSON.stringify(users));
            
            // Update current user if it's them
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
            if (currentUser && currentUser.username === username) {
                currentUser.isPremium = true;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
            }
            
            alert('‚úì Premium access granted to ' + username);
            loadAdminDashboard();
        }

        function revokePremium() {
            const username = document.getElementById('admin-revoke-username').value.trim();
            if (!username) {
                alert('Please enter a username');
                return;
            }
            
            revokePremiumFromUser(username);
            document.getElementById('admin-revoke-username').value = '';
        }

        function revokePremiumFromUser(username) {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            
            if (!users[username]) {
                alert('User not found: ' + username);
                return;
            }
            
            if (!users[username].isPremium) {
                alert('User does not have premium access');
                return;
            }
            
            if (!confirm('Are you sure you want to revoke premium access from ' + username + '?')) {
                return;
            }
            
            users[username].isPremium = false;
            localStorage.setItem('users', JSON.stringify(users));
            
            // Update current user if it's them
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
            if (currentUser && currentUser.username === username) {
                currentUser.isPremium = false;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
            }
            
            alert('‚úì Premium access revoked from ' + username);
            loadAdminDashboard();
        }

        function viewUserDetails(username) {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const user = users[username];
            
            if (!user) {
                alert('User not found');
                return;
            }
            
            const details = `
USER DETAILS
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Name: ${user.name}
Username: @${user.username}
Email: ${user.email}
Status: ${user.isPremium ? '‚≠ê Premium' : 'üîì Free'}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
            `.trim();
            
            alert(details);
        }

        function exportAllUserData() {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const allData = {
                users: users,
                totalUsers: Object.keys(users).length,
                exportDate: new Date().toISOString(),
                exportedBy: 'Admin'
            };
            
            const dataStr = JSON.stringify(allData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'daily-dawn-users-' + new Date().toISOString().split('T')[0] + '.json';
            link.click();
            
            alert('‚úì User data exported successfully');
        }

        function viewSystemLogs() {
            const logs = `
SYSTEM LOGS
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Date: ${new Date().toLocaleString()}
Platform: Daily Dawn v2.0
Status: Operational
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Recent Activity:
‚Ä¢ Admin dashboard accessed
‚Ä¢ All systems nominal
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
            `.trim();
            
            alert(logs);
        }

        function clearInactiveUsers() {
            if (!confirm('This will delete all users who have never logged any entries. Continue?')) {
                return;
            }
            
            alert('Feature coming soon: This will track and remove users with no activity in 90+ days');
        }

        function toggleMaintenanceMode() {
            const isEnabled = document.getElementById('maintenance-mode').checked;
            
            if (isEnabled) {
                if (!confirm('Enable maintenance mode? This will prevent regular users from accessing the app.')) {
                    document.getElementById('maintenance-mode').checked = false;
                    return;
                }
                localStorage.setItem('maintenanceMode', 'true');
                alert('‚ö† Maintenance mode enabled');
            } else {
                localStorage.removeItem('maintenanceMode');
                alert('‚úì Maintenance mode disabled');
            }
        }

        function broadcastMessage() {
            const message = prompt('Enter message to broadcast to all users:');
            if (!message) return;
            
            localStorage.setItem('adminBroadcast', message);
            localStorage.setItem('adminBroadcastTime', new Date().toISOString());
            
            alert('‚úì Message broadcasted to all users!\n\nUsers will see this message on their next login.');
        }

        function deleteUser() {
            const username = prompt('Enter username to delete:');
            if (!username) return;
            
            if (!confirm('‚ö† WARNING: This will permanently delete the user account for "' + username + '". This action cannot be undone. Continue?')) {
                return;
            }
            
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            
            if (!users[username]) {
                alert('User not found: ' + username);
                return;
            }
            
            delete users[username];
            localStorage.setItem('users', JSON.stringify(users));
            
            alert('‚úì User account deleted: ' + username);
            loadAdminDashboard();
        }

        function resetAllUserData() {
            const confirmation = prompt('‚ö† CRITICAL WARNING ‚ö†\n\nThis will DELETE ALL USER DATA permanently.\n\nType "DELETE ALL DATA" to confirm:');
            
            if (confirmation !== 'DELETE ALL DATA') {
                alert('Action cancelled');
                return;
            }
            
            if (!confirm('Last chance! Are you absolutely sure you want to delete ALL user data? This cannot be undone!')) {
                return;
            }
            
            const creds = getAdminCreds();
            
            // Keep admin account
            const adminUser = {
                username: creds.u,
                name: creds.n,
                email: creds.e,
                password: creds.p,
                isPremium: true,
                isAdmin: true
            };
            
            localStorage.clear();
            
            // Restore admin
            const users = {};
            users[creds.u] = adminUser;
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('currentUser', JSON.stringify({
                username: creds.u,
                name: creds.n,
                email: creds.e,
                isPremium: true,
                isAdmin: true
            }));
            
            alert('‚úì All user data has been reset. Admin account preserved.');
            location.reload();
        }

        // Initialize page on load
        window.addEventListener("DOMContentLoaded", function() {
            initializeAdminAccount();
            
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
            
            if (currentUser) {
                showMainApp();
            } else {
                document.getElementById('auth-screen').style.display = 'flex';
            }
        });
    </script>
</body>
</html>



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Daily Dawn</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=DM+Sans:wght@400;500;700;900&family=Crimson+Text:ital@0;1&display=swap" rel="stylesheet">
    <style>
        :root { 
            --accent: #f59e0b; 
            --bg: #0f172a; 
        }
        body { 
            background: linear-gradient(to bottom, #f1f5f9 0%, #e2e8f0 100%);
            font-family: 'DM Sans', sans-serif;
            touch-action: pan-x pan-y;
            -ms-touch-action: pan-x pan-y;
        }
        .glass-header { 
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border-bottom-left-radius: 2.5rem;
            border-bottom-right-radius: 2.5rem;
        }
        .service-tile { 
            @apply flex flex-col items-center p-2 transition-transform active:scale-90 cursor-pointer; 
        }
        .icon-box { 
            @apply w-14 h-14 rounded-2xl flex items-center justify-center text-xl mb-2 shadow-sm; 
        }
        .page-view {
            display: none;
            animation: fadeIn 0.3s ease-out;
        }
        .page-view.active {
            display: block;
        }
        .content-card {
            background: white;
            border-radius: 1.5rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid rgba(241, 245, 249, 0.8);
        }
        .verse-text {
            font-family: 'Crimson Text', serif;
            font-size: 1.1rem;
            line-height: 1.7;
            font-style: italic;
            color: #1e293b;
        }
        .section-title {
            font-weight: 900;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #64748b;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .entry-item {
            padding: 1rem;
            background: #f8fafc;
            border-radius: 1rem;
            margin-bottom: 0.75rem;
            border: 1px solid #e2e8f0;
        }
        .day-divider {
            font-family: 'Archivo Black', sans-serif;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: 0.75rem;
        }
        .fab-button {
            position: fixed;
            bottom: 100px;
            right: 24px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 16px rgba(245, 158, 11, 0.3);
            cursor: pointer;
            transition: transform 0.2s;
            z-index: 40;
        }
        .fab-button:active {
            transform: scale(0.95);
        }
        .input-field {
            width: 100%;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 0.75rem;
            outline: none;
            border: 1px solid #e2e8f0;
            font-weight: 500;
        }
        .textarea-field {
            width: 100%;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 0.75rem;
            outline: none;
            border: 1px solid #e2e8f0;
            min-height: 100px;
            font-family: 'DM Sans', sans-serif;
        }
        .btn-primary {
            width: 100%;
            background: #0f172a;
            color: white;
            padding: 1.25rem;
            border-radius: 1rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: 0.875rem;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .btn-primary:active {
            transform: scale(0.98);
        }
        .tip-card {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 1rem;
            border-radius: 1rem;
            border: 1px solid #fbbf24;
        }
        .mood-emoji {
            font-size: 2rem;
            cursor: pointer;
            transition: transform 0.2s;
            padding: 0.5rem;
        }
        .mood-emoji:hover {
            transform: scale(1.2);
        }
        .mood-emoji.selected {
            transform: scale(1.3);
            filter: drop-shadow(0 0 10px rgba(245, 158, 11, 0.5));
        }
        .loading-spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #f3f4f6;
            border-radius: 50%;
            border-top-color: #f59e0b;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .habit-checkbox {
            width: 24px;
            height: 24px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .habit-checkbox.checked {
            background: #10b981;
            border-color: #10b981;
        }
        .goal-progress-bar {
            height: 8px;
            background: #e2e8f0;
            border-radius: 999px;
            overflow: hidden;
        }
        .goal-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981 0%, #059669 100%);
            transition: width 0.5s ease;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        .modal.active {
            display: flex;
        }
        .modal-content {
            background: white;
            border-radius: 2rem;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }
        .premium-badge {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 999px;
            font-size: 0.65rem;
            font-weight: 900;
            letter-spacing: 0.05em;
        }
        .premium-feature {
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
            border: 2px solid #fbbf24;
            border-radius: 1rem;
            padding: 1rem;
            margin-bottom: 0.75rem;
        }
        .locked-overlay {
            position: relative;
        }
        .locked-overlay::after {
            content: 'ðŸ”’ Premium';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            color: #fbbf24;
            padding: 1rem 2rem;
            border-radius: 1rem;
            font-weight: 900;
            font-size: 0.875rem;
            pointer-events: none;
        }

        .gym-tab {
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            font-weight: 700;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .gym-tab.active {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: white;
        }
        .gym-tab:not(.active) {
            background: #f1f5f9;
            color: #64748b;
        }
        .macro-ring {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 4px solid;
            font-weight: 900;
        }
        .workout-plan-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.25rem;
            border-radius: 1rem;
            margin-bottom: 0.75rem;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .workout-plan-card:active {
            transform: scale(0.98);
        }
        .workout-plan-card.beginner {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
        }
        .workout-plan-card.intermediate {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .workout-plan-card.advanced {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .learning-tab {
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            font-weight: 700;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .learning-tab.active {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: white;
        }
        .learning-tab:not(.active) {
            background: #f1f5f9;
            color: #64748b;
        }
        .book-card {
            background: white;
            border-radius: 1rem;
            padding: 1rem;
            border: 2px solid #e2e8f0;
            transition: all 0.2s;
            cursor: pointer;
        }
        .book-card:hover {
            border-color: #8b5cf6;
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(139, 92, 246, 0.2);
        }
        .book-cover {
            width: 100%;
            aspect-ratio: 2/3;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 900;
            font-size: 0.75rem;
            text-align: center;
            padding: 0.5rem;
            overflow: hidden;
        }
        .book-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 0.5rem;
        }
        .reading-progress-bar {
            height: 0.5rem;
            background: #e2e8f0;
            border-radius: 1rem;
            overflow: hidden;
        }
        .reading-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #8b5cf6 0%, #7c3aed 100%);
            transition: width 0.3s;
        }
        .bible-tab {
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            font-weight: 700;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .bible-tab.active {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: white;
        }
        .bible-tab:not(.active) {
            background: #f1f5f9;
            color: #64748b;
        }
        .bible-tab-content {
            display: none;
        }
        .bible-tab-content.active {
            display: block;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .bible-book-button {
            padding: 0.75rem;
            background: #f8fafc;
            border-radius: 0.75rem;
            border: 1px solid #e2e8f0;
            font-weight: 600;
            font-size: 0.875rem;
            transition: all 0.2s;
            cursor: pointer;
        }
        .bible-book-button:hover {
            background: #f1f5f9;
            border-color: #cbd5e1;
        }
        .bible-book-button.active {
            background: #0f172a;
            color: white;
            border-color: #0f172a;
        }
        .bible-chapter-button {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        .bible-chapter-button:hover {
            background: #f1f5f9;
        }
        .bible-chapter-button.active {
            background: #f59e0b;
            color: white;
            border-color: #f59e0b;
        }
        .bible-verse {
            padding: 0.75rem 0;
            border-bottom: 1px solid #f1f5f9;
        }
        .bible-verse:last-child {
            border-bottom: none;
        }
        .verse-number {
            display: inline-block;
            min-width: 30px;
            font-weight: bold;
            color: #64748b;
            font-size: 0.875rem;
        }
        .verse-text-bible {
            display: inline;
            line-height: 1.8;
            font-family: 'Crimson Text', serif;
            font-size: 1.05rem;
        }
        .book-status-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.65rem;
            font-weight: 800;
            text-transform: uppercase;
        }
        .status-reading {
            background: #dbeafe;
            color: #1e40af;
        }
        .status-completed {
            background: #d1fae5;
            color: #065f46;
        }
        .status-wishlist {
            background: #fef3c7;
            color: #92400e;
        }
        .quote-card {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-left: 4px solid #f59e0b;
            padding: 1rem;
            border-radius: 0.75rem;
            margin-bottom: 0.75rem;
        }
        .book-reader-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            z-index: 1000;
            overflow-y: auto;
            display: none;
        }
        .book-reader-container.active {
            display: block;
        }
        .reader-controls {
            position: sticky;
            top: 0;
            background: white;
            border-bottom: 2px solid #e2e8f0;
            padding: 1rem;
            z-index: 100;
        }
        .book-search-result {
            padding: 1rem;
            border-bottom: 1px solid #e2e8f0;
            cursor: pointer;
            transition: background 0.2s;
        }
        .book-search-result:hover {
            background: #f8fafc;
        }
    </style>
</head>
<body class="max-w-md mx-auto min-h-screen pb-28" oncontextmenu="return false;" onselectstart="return false;" oncopy="return false;">

    <!-- Profile/Settings Page -->
    <div id="profile-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-slate-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">PROFILE</h1>
                        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Account Settings</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center">
                    <i class="fa-solid fa-circle-user"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <!-- User Info Card (shown when logged in) -->
            <div id="user-info-card" class="content-card" style="display: none;">
                <div class="flex items-center gap-4 mb-4">
                    <div class="w-16 h-16 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center text-white text-2xl font-black">
                        <span id="user-initial">?</span>
                    </div>
                    <div>
                        <h3 class="font-black text-slate-800 text-lg" id="user-name-display">User Name</h3>
                        <p class="text-sm text-slate-600" id="user-username-display">@username</p>
                        <p class="text-xs text-slate-500" id="user-email-display"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="81e4ece0e8edc1e4f9e0ecf1ede4afe2eeec">[email&#160;protected]</a></p>
                    </div>
                </div>
                <div class="p-3 bg-amber-50 rounded-xl border border-amber-200">
                    <p class="text-sm font-bold text-amber-800" id="user-status-display">ðŸ”“ Free Account</p>
                </div>
                <button onclick="handleLogout()" class="btn-primary mt-4" style="background: #dc2626;">Logout</button>
                <button onclick="showPremiumModal()" class="btn-primary mt-2" style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);">Upgrade to Premium</button>
            </div>

            <!-- Login/Register Forms (shown when not logged in) -->
            <div id="auth-forms-card" class="content-card">
                <div class="text-center mb-6">
                    <h2 class="text-2xl font-black text-slate-800 mb-2">Welcome to Daily Dawn</h2>
                    <p class="text-sm text-slate-600">Sign in or create an account</p>
                </div>
                
                <div id="login-form">
                    <h3 class="font-bold text-slate-800 mb-4">Login</h3>
                    <input id="login-username" class="input-field mb-3" placeholder="Username" autocomplete="username">
                    <input id="login-password" class="input-field mb-4" type="password" placeholder="Password" autocomplete="current-password">
                    <button onclick="handleLogin()" class="btn-primary mb-3">Login</button>
                    <p class="text-center text-sm text-slate-600">
                        Don't have an account? <span class="text-amber-600 font-bold cursor-pointer" onclick="showSignup()">Sign Up</span>
                    </p>
                </div>

                <div id="signup-form" style="display: none;">
                    <h3 class="font-bold text-slate-800 mb-4">Create Account</h3>
                    <input id="signup-name" class="input-field mb-3" placeholder="Full Name">
                    <input id="signup-username" class="input-field mb-3" placeholder="Username" autocomplete="username">
                    <input id="signup-email" class="input-field mb-3" type="email" placeholder="Email">
                    <input id="signup-password" class="input-field mb-4" type="password" placeholder="Password" autocomplete="new-password">
                    <button onclick="handleSignup()" class="btn-primary mb-3">Create Account</button>
                    <p class="text-center text-sm text-slate-600">
                        Already have an account? <span class="text-amber-600 font-bold cursor-pointer" onclick="showLogin()">Login</span>
                    </p>
                </div>
            </div>

            <!-- Admin Control Panel (shown only for admin users) -->
            <div id="admin-control-panel" class="content-card" style="display: none;">
                <div class="flex items-center justify-between mb-4">
                    <div class="section-title mb-0">
                        <i class="fa-solid fa-shield-halved text-red-600"></i>
                        Admin Control Panel
                    </div>
                    <span class="premium-badge" style="background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);">ADMIN</span>
                </div>
                <button onclick="navigateToPage('admin-dashboard')" class="w-full p-4 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl font-bold text-sm flex items-center justify-between mb-3">
                    <span><i class="fa-solid fa-chart-line mr-2"></i>Open Admin Dashboard</span>
                    <i class="fa-solid fa-chevron-right"></i>
                </button>
            </div>

            <!-- App Settings -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-gear text-slate-500"></i>
                    Settings
                </div>
                <div class="space-y-3">
                    <button onclick="resetData()" class="w-full p-4 bg-red-50 text-red-600 rounded-xl font-bold text-sm flex items-center justify-between">
                        <span><i class="fa-solid fa-trash mr-2"></i>Reset All Data</span>
                        <i class="fa-solid fa-chevron-right"></i>
                    </button>
                </div>
            </div>

            <!-- App Info -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-info-circle text-slate-500"></i>
                    About
                </div>
                <p class="text-sm text-slate-600 mb-2"><strong>Daily Dawn</strong></p>
                <p class="text-xs text-slate-500">Version 2.0</p>
                <p class="text-xs text-slate-500">Your Transformation Journey</p>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Admin Dashboard -->
    <div id="admin-dashboard-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl" style="background: linear-gradient(135deg, #991b1b 0%, #7f1d1d 100%);">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('profile')" class="w-10 h-10 rounded-full bg-red-900 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-red-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">ADMIN DASHBOARD</h1>
                        <p class="text-[10px] text-red-300 font-bold uppercase tracking-widest">Master Control</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-red-600 flex items-center justify-center">
                    <i class="fa-solid fa-shield-halved"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <!-- Admin Stats Overview -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-chart-pie text-red-600"></i>
                    Platform Overview
                </div>
                <div class="grid grid-cols-2 gap-3 mb-4">
                    <div class="text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl">
                        <p class="text-3xl font-black text-blue-600" id="admin-total-users">0</p>
                        <p class="text-xs text-blue-800 font-bold">Total Users</p>
                    </div>
                    <div class="text-center p-4 bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl">
                        <p class="text-3xl font-black text-amber-600" id="admin-premium-users">0</p>
                        <p class="text-xs text-amber-800 font-bold">Premium Users</p>
                    </div>
                    <div class="text-center p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl">
                        <p class="text-3xl font-black text-green-600" id="admin-total-entries">0</p>
                        <p class="text-xs text-green-800 font-bold">Total Entries</p>
                    </div>
                    <div class="text-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl">
                        <p class="text-3xl font-black text-purple-600" id="admin-active-today">0</p>
                        <p class="text-xs text-purple-800 font-bold">Active Today</p>
                    </div>
                </div>
            </div>

            <!-- User Management -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-users text-red-600"></i>
                    User Management
                </div>
                <div class="mb-3">
                    <input id="admin-search-user" class="input-field" placeholder="Search users by username or email..." onkeyup="filterUsers()">
                </div>
                <div id="admin-users-list" class="space-y-2 max-h-96 overflow-y-auto"></div>
            </div>

            <!-- Premium Management -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-crown text-amber-600"></i>
                    Premium Management
                </div>
                <div class="space-y-2">
                    <div class="p-3 bg-amber-50 rounded-xl">
                        <p class="text-sm font-bold text-amber-900 mb-2">Grant Premium Access</p>
                        <input id="admin-premium-username" class="input-field mb-2" placeholder="Enter username">
                        <button onclick="grantPremium()" class="btn-primary" style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);">
                            <i class="fa-solid fa-crown mr-2"></i>Grant Premium
                        </button>
                    </div>
                    <div class="p-3 bg-red-50 rounded-xl">
                        <p class="text-sm font-bold text-red-900 mb-2">Revoke Premium Access</p>
                        <input id="admin-revoke-username" class="input-field mb-2" placeholder="Enter username">
                        <button onclick="revokePremium()" class="btn-primary" style="background: #dc2626;">
                            <i class="fa-solid fa-ban mr-2"></i>Revoke Premium
                        </button>
                    </div>
                </div>
            </div>

            <!-- Data Management -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-database text-red-600"></i>
                    Data Management
                </div>
                <div class="space-y-2">
                    <button onclick="exportAllUserData()" class="w-full p-4 bg-blue-50 text-blue-700 rounded-xl font-bold text-sm flex items-center justify-between">
                        <span><i class="fa-solid fa-download mr-2"></i>Export All User Data</span>
                        <i class="fa-solid fa-chevron-right"></i>
                    </button>
                    <button onclick="viewSystemLogs()" class="w-full p-4 bg-purple-50 text-purple-700 rounded-xl font-bold text-sm flex items-center justify-between">
                        <span><i class="fa-solid fa-file-lines mr-2"></i>View System Logs</span>
                        <i class="fa-solid fa-chevron-right"></i>
                    </button>
                    <button onclick="clearInactiveUsers()" class="w-full p-4 bg-orange-50 text-orange-700 rounded-xl font-bold text-sm flex items-center justify-between">
                        <span><i class="fa-solid fa-user-slash mr-2"></i>Clear Inactive Users</span>
                        <i class="fa-solid fa-chevron-right"></i>
                    </button>
                </div>
            </div>

            <!-- System Settings -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-cog text-red-600"></i>
                    System Settings
                </div>
                <div class="space-y-3">
                    <div class="p-3 bg-slate-50 rounded-xl">
                        <p class="text-sm font-bold text-slate-700 mb-2">Maintenance Mode</p>
                        <label class="flex items-center justify-between">
                            <span class="text-xs text-slate-600">Enable maintenance mode</span>
                            <input type="checkbox" id="maintenance-mode" onchange="toggleMaintenanceMode()" class="w-12 h-6">
                        </label>
                    </div>
                    <button onclick="broadcastMessage()" class="w-full p-4 bg-indigo-50 text-indigo-700 rounded-xl font-bold text-sm flex items-center justify-between">
                        <span><i class="fa-solid fa-bullhorn mr-2"></i>Broadcast Message to All Users</span>
                        <i class="fa-solid fa-chevron-right"></i>
                    </button>
                </div>
            </div>

            <!-- Danger Zone -->
            <div class="content-card" style="border: 2px solid #dc2626;">
                <div class="section-title">
                    <i class="fa-solid fa-exclamation-triangle text-red-600"></i>
                    Danger Zone
                </div>
                <div class="space-y-2">
                    <button onclick="deleteUser()" class="w-full p-4 bg-red-50 text-red-700 rounded-xl font-bold text-sm flex items-center justify-between">
                        <span><i class="fa-solid fa-user-minus mr-2"></i>Delete User Account</span>
                        <i class="fa-solid fa-chevron-right"></i>
                    </button>
                    <button onclick="resetAllUserData()" class="w-full p-4 bg-red-600 text-white rounded-xl font-bold text-sm flex items-center justify-between">
                        <span><i class="fa-solid fa-trash mr-2"></i>RESET ALL USER DATA</span>
                        <i class="fa-solid fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button" style="background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Login/Signup Modal (Deprecated - now in Profile page) -->
    <div id="auth-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="text-center mb-6">
                <h2 class="text-2xl font-black text-slate-800 mb-2">Welcome to Daily Dawn</h2>
                <p class="text-sm text-slate-600">Please go to Profile page to login</p>
            </div>
            <button onclick="navigateToPage('profile')" class="btn-primary">Go to Profile</button>
        </div>
    </div>

    <!-- Premium Modal -->
    <div id="premium-modal" class="modal">
        <div class="modal-content">
            <button onclick="closePremiumModal()" class="float-right text-slate-400 hover:text-slate-600">
                <i class="fa-solid fa-times text-2xl"></i>
            </button>
            
            <div class="text-center mb-6">
                <div class="w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fa-solid fa-crown text-white text-3xl"></i>
                </div>
                <h2 class="text-2xl font-black text-slate-800 mb-2">Unlock Premium</h2>
                <p class="text-lg font-bold text-amber-600 mb-1">â‚¦5,000/month</p>
                <p class="text-sm text-slate-600">or $3.50 USD</p>
            </div>

            <div class="mb-6">
                <h3 class="font-bold text-slate-800 mb-3 text-center">Premium Features</h3>
                <div class="space-y-2">
                    <div class="premium-feature">
                        <p class="font-bold text-slate-800 flex items-center gap-2">
                            <i class="fa-solid fa-robot text-amber-600"></i>
                            AI Life Coach Assistant 24/7
                        </p>
                    </div>
                    <div class="premium-feature">
                        <p class="font-bold text-slate-800 flex items-center gap-2">
                            <i class="fa-solid fa-bell text-amber-600"></i>
                            Smart Alarms & Reminders
                        </p>
                    </div>
                    <div class="premium-feature">
                        <p class="font-bold text-slate-800 flex items-center gap-2">
                            <i class="fa-solid fa-brain text-amber-600"></i>
                            Emotional Analysis & Advice
                        </p>
                    </div>
                    <div class="premium-feature">
                        <p class="font-bold text-slate-800 flex items-center gap-2">
                            <i class="fa-solid fa-chart-line text-amber-600"></i>
                            Advanced Analytics Dashboard
                        </p>
                    </div>
                    <div class="premium-feature">
                        <p class="font-bold text-slate-800 flex items-center gap-2">
                            <i class="fa-solid fa-microphone text-amber-600"></i>
                            Voice Journaling
                        </p>
                    </div>
                    <div class="premium-feature">
                        <p class="font-bold text-slate-800 flex items-center gap-2">
                            <i class="fa-solid fa-download text-amber-600"></i>
                            Export Data (PDF/CSV)
                        </p>
                    </div>
                    <div class="premium-feature">
                        <p class="font-bold text-slate-800 flex items-center gap-2">
                            <i class="fa-solid fa-headset text-amber-600"></i>
                            Priority Support
                        </p>
                    </div>
                    <div class="premium-feature">
                        <p class="font-bold text-slate-800 flex items-center gap-2">
                            <i class="fa-solid fa-user-check text-amber-600"></i>
                            Accountability
                        </p>
                    </div>
                </div>
            </div>

            <a href="https://selar.com/v1l1p9d7z1" target="_blank" class="btn-primary block text-center" style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);">
                Subscribe Now
            </a>
            <p class="text-xs text-center text-slate-500 mt-3">
                After payment, return here and your premium access will be activated automatically.
            </p>
        </div>
    </div>

    <!-- Dashboard View -->
    <div id="dashboard-view" class="page-view active">
        <header class="glass-header text-white p-8 shadow-2xl">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h1 class="text-2xl font-black tracking-tighter italic" style="font-family: 'Archivo Black', sans-serif;">DAILY DAWN</h1>
                    <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Your Transformation Journey</p>
                </div>
                <div class="w-10 h-10 rounded-full border border-slate-700 flex items-center justify-center">
                    <i class="fa-solid fa-sun text-amber-400"></i>
                </div>
            </div>
            
            <div class="space-y-1">
                <p class="text-slate-400 text-xs font-medium">Growth Momentum</p>
                <div class="flex justify-between items-end">
                    <h2 class="text-4xl font-light">Level <span class="font-bold text-amber-500" id="lvl-display">1</span></h2>
                    <p class="text-sm font-mono text-slate-400"><span id="xp-display">0</span> XP</p>
                </div>
                <div class="w-full bg-slate-800 h-1.5 rounded-full mt-4">
                    <div id="xp-bar" class="bg-amber-500 h-full rounded-full shadow-[0_0_10px_#f59e0b] transition-all duration-1000" style="width: 0%"></div>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="bg-white rounded-[2rem] p-6 shadow-xl border border-white mb-6">
                <h3 class="font-black text-slate-800 text-sm uppercase tracking-widest mb-6 flex items-center gap-2">
                    <span class="w-2 h-2 bg-amber-500 rounded-full"></span> Life Transformation Hub
                </h3>
                
                <div class="grid grid-cols-4 gap-y-8">
                    <button onclick="navigateToPage('bible')" class="service-tile">
                        <div class="icon-box bg-blue-50 text-blue-600"><i class="fa-solid fa-book-bible"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">BIBLE</span>
                    </button>
                    <button onclick="navigateToPage('gym')" class="service-tile">
                        <div class="icon-box bg-orange-50 text-orange-600"><i class="fa-solid fa-dumbbell"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">GYM</span>
                    </button>
                    <button onclick="navigateToPage('motivation')" class="service-tile">
                        <div class="icon-box bg-yellow-50 text-yellow-600"><i class="fa-solid fa-bolt"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">MINDSET</span>
                    </button>
                    <button onclick="navigateToPage('habits')" class="service-tile">
                        <div class="icon-box bg-emerald-50 text-emerald-600"><i class="fa-solid fa-repeat"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">HABITS</span>
                    </button>
                    <button onclick="navigateToPage('goals')" class="service-tile">
                        <div class="icon-box bg-red-50 text-red-600"><i class="fa-solid fa-bullseye"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">GOALS</span>
                    </button>
                    <button onclick="navigateToPage('gratitude-view')" class="service-tile">
                        <div class="icon-box bg-rose-50 text-rose-600"><i class="fa-solid fa-heart"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">GRATITUDE</span>
                    </button>
                    <button onclick="navigateToPage('wellness')" class="service-tile">
                        <div class="icon-box bg-cyan-50 text-cyan-600"><i class="fa-solid fa-spa"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">WELLNESS</span>
                    </button>
                    <button onclick="navigateToPage('learning')" class="service-tile">
                        <div class="icon-box bg-purple-50 text-purple-600"><i class="fa-solid fa-brain"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">LEARN</span>
                    </button>
                    <button onclick="navigateToPage('finance')" class="service-tile">
                        <div class="icon-box bg-green-50 text-green-600"><i class="fa-solid fa-wallet"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">FINANCE</span>
                    </button>
                    <button onclick="navigateToPage('productivity')" class="service-tile">
                        <div class="icon-box bg-indigo-50 text-indigo-600"><i class="fa-solid fa-clock"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">FOCUS</span>
                    </button>
                    <button onclick="navigateToPage('journal')" class="service-tile">
                        <div class="icon-box bg-slate-100 text-slate-600"><i class="fa-solid fa-pen-nib"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">JOURNAL</span>
                    </button>
                    <button onclick="navigateToPage('ai-coach')" class="service-tile">
                        <div class="icon-box bg-amber-50 text-amber-600"><i class="fa-solid fa-robot"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">AI COACH</span>
                    </button>
                    <button onclick="navigateToPage('alarms')" class="service-tile">
                        <div class="icon-box bg-orange-50 text-orange-600"><i class="fa-solid fa-bell"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">ALARMS</span>
                    </button>
                    <button onclick="navigateToPage('emotions')" class="service-tile">
                        <div class="icon-box bg-pink-50 text-pink-600"><i class="fa-solid fa-heart-pulse"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">EMOTIONS</span>
                    </button>
                    <button onclick="navigateToPage('analytics')" class="service-tile">
                        <div class="icon-box bg-blue-50 text-blue-600"><i class="fa-solid fa-chart-line"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">ANALYTICS</span>
                    </button>
                    <button onclick="navigateToPage('voice-journal')" class="service-tile">
                        <div class="icon-box bg-purple-50 text-purple-600"><i class="fa-solid fa-microphone"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">VOICE</span>
                    </button>
                    <button onclick="navigateToPage('export-data')" class="service-tile">
                        <div class="icon-box bg-teal-50 text-teal-600"><i class="fa-solid fa-download"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">EXPORT</span>
                    </button>
                    <button onclick="navigateToPage('accountability')" class="service-tile">
                        <div class="icon-box bg-green-50 text-green-600"><i class="fa-solid fa-user-check"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">PARTNER</span>
                    </button>
                    <button onclick="navigateToPage('earn')" class="service-tile">
                        <div class="icon-box bg-emerald-50 text-emerald-600"><i class="fa-solid fa-naira-sign"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">EARN</span>
                    </button>
                    <button onclick="resetData()" class="service-tile">
                        <div class="icon-box bg-slate-50 text-slate-300"><i class="fa-solid fa-rotate-right"></i></div>
                        <span class="text-[10px] font-bold text-slate-500">RESET</span>
                    </button>
                </div>
            </div>

            <!-- Daily Routine Checklist -->
            <div class="mb-6">
                <div class="content-card">
                    <div class="flex items-center gap-2 mb-3 justify-between">
                        <div class="flex items-center gap-2">
                            <i class="fa-solid fa-list-check text-indigo-600 text-sm"></i>
                            <span class="text-xs font-bold text-slate-400 uppercase tracking-widest">Daily Routine</span>
                        </div>
                        <span class="text-xs font-bold text-slate-600" id="routine-progress">0/0</span>
                    </div>
                    <div class="space-y-2" id="routine-checklist">
                        <!-- Routine items will be dynamically added here -->
                    </div>
                    <button onclick="resetDailyRoutine()" class="text-xs text-amber-600 font-bold mt-3 w-full text-center">
                        <i class="fa-solid fa-rotate-right"></i> Reset Today's Routine
                    </button>
                </div>
            </div>

            <!-- Share Achievements -->
            <div class="mb-6">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fas fa-share-alt text-blue-600"></i>
                        SHARE ACHIEVEMENTS
                    </div>
                    <p class="text-sm text-slate-600 mb-4">Generate beautiful quote cards and inspire others with your journey</p>
                    
                    <!-- Quote Card Generator -->
                    <div class="mb-4 p-4 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl border border-indigo-200">
                        <p class="text-xs font-bold text-indigo-900 uppercase tracking-wider mb-2">Create Quote Card</p>
                        <textarea id="quote-card-text" class="textarea-field mb-2" style="min-height: 60px;" placeholder="Enter your inspirational quote or milestone..."></textarea>
                        <button onclick="generateQuoteCard()" class="w-full p-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-bold text-sm hover:opacity-90 transition">
                            <i class="fas fa-image mr-2"></i>Generate Quote Card
                        </button>
                    </div>

                    <!-- Share Milestones -->
                    <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-3">Share Your Milestones</p>
                    <div class="grid grid-cols-2 gap-3">
                        <button onclick="shareToX()" class="p-4 bg-black text-white rounded-xl flex items-center justify-center gap-2 hover:bg-slate-800 transition active:scale-95">
                            <i class="fab fa-x-twitter"></i>
                            <span class="font-bold text-sm">Share to X</span>
                        </button>
                        <button onclick="shareToInstagram()" class="p-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl flex items-center justify-center gap-2 hover:opacity-90 transition active:scale-95">
                            <i class="fab fa-instagram"></i>
                            <span class="font-bold text-sm">Instagram</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Daily Inspiration Section -->
            <div class="mb-6">
                <div class="content-card">
                    <div class="flex items-center gap-2 mb-3 justify-between">
                        <div class="flex items-center gap-2">
                            <i class="fa-solid fa-book-bible text-blue-600 text-sm"></i>
                            <span class="text-xs font-bold text-slate-400 uppercase tracking-widest">Verse for You</span>
                        </div>
                        <button onclick="refreshInspiration()" class="text-xs text-amber-600 font-bold" id="refresh-btn">
                            <i class="fa-solid fa-rotate"></i>
                        </button>
                    </div>
                    <p class="verse-text mb-2" id="daily-verse">Loading your personalized verse...</p>
                    <p class="text-xs font-bold text-slate-500" id="verse-reference"></p>
                </div>

                <div class="content-card">
                    <div class="flex items-center gap-2 mb-3">
                        <i class="fa-solid fa-bolt text-amber-500 text-sm"></i>
                        <span class="text-xs font-bold text-slate-400 uppercase tracking-widest">Daily Motivation</span>
                    </div>
                    <p class="text-base font-medium text-slate-700 mb-2" id="daily-quote">Loading your personalized quote...</p>
                    <p class="text-xs font-bold text-slate-500" id="quote-author"></p>
                </div>
            </div>

            <!-- Mood Check-in -->
            <div class="content-card mb-6">
                <div class="flex items-center gap-2 mb-3">
                    <i class="fa-solid fa-heart-pulse text-rose-600 text-sm"></i>
                    <span class="text-xs font-bold text-slate-400 uppercase tracking-widest">How are you feeling today?</span>
                </div>
                <div class="flex justify-around mb-4" id="mood-selector">
                    <span class="mood-emoji" data-mood="amazing" title="Amazing">ðŸ¤©</span>
                    <span class="mood-emoji" data-mood="happy" title="Happy">ðŸ˜Š</span>
                    <span class="mood-emoji" data-mood="okay" title="Okay">ðŸ˜</span>
                    <span class="mood-emoji" data-mood="sad" title="Sad">ðŸ˜”</span>
                    <span class="mood-emoji" data-mood="stressed" title="Stressed">ðŸ˜°</span>
                </div>
                <textarea id="mood-notes" class="textarea-field" style="min-height: 80px;" placeholder="What's on your mind? (optional)"></textarea>
                <button onclick="saveMoodCheckin()" class="btn-primary mt-3">Save Check-in</button>
            </div>

            <!-- Gratitude Journal -->
            <div class="content-card mb-6">
                <div class="flex items-center gap-2 mb-3">
                    <i class="fa-solid fa-sparkles text-amber-500 text-sm"></i>
                    <span class="text-xs font-bold text-slate-400 uppercase tracking-widest">Gratitude Journal</span>
                </div>
                <p class="text-sm text-slate-600 mb-3">What are you grateful for today?</p>
                <textarea id="gratitude-input" class="textarea-field" style="min-height: 100px;" placeholder="I'm grateful for..."></textarea>
                <button onclick="saveGratitude()" class="btn-primary mt-3">Save Gratitude</button>
            </div>

            <div class="mt-8 px-2">
                <h3 class="font-bold text-slate-800 mb-4 flex justify-between items-center">
                    Recent Activity <span class="text-xs text-indigo-600 underline cursor-pointer" onclick="navigateToPage('history')">View All</span>
                </h3>
                <div id="log-history" class="space-y-4">
                </div>
            </div>
        </main>
    </div>

    <!-- Bible Page -->
    <div id="bible-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-slate-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">BIBLE</h1>
                        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Spiritual Growth</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center">
                    <i class="fa-solid fa-book-bible"></i>
                </div>
            </div>
        </header>

        <!-- Bible Navigation Tabs -->
        <div class="sticky top-0 z-10 bg-white p-5 -mt-6">
            <div class="flex gap-2 mb-4 overflow-x-auto pb-2" style="scrollbar-width: none;">
                <button class="bible-tab active" onclick="switchBibleTab('daily')" id="bible-tab-daily">
                    <i class="fa-solid fa-star"></i> Daily
                </button>
                <button class="bible-tab" onclick="switchBibleTab('read')" id="bible-tab-read">
                    <i class="fa-solid fa-book-open"></i> Read
                </button>
                <button class="bible-tab" onclick="switchBibleTab('audio')" id="bible-tab-audio">
                    <i class="fa-solid fa-headphones"></i> Audio
                </button>
                <button class="bible-tab" onclick="switchBibleTab('prayer')" id="bible-tab-prayer">
                    <i class="fa-solid fa-hands-praying"></i> Prayer
                </button>
            </div>
        </div>

        <!-- Daily Tab Content -->
        <div id="bible-content-daily" class="bible-tab-content active">
            <main class="p-5">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-star text-amber-500"></i>
                        Your Personalized Verse
                    </div>
                    <p class="verse-text mb-2" id="bible-verse-display"></p>
                    <p class="text-xs font-bold text-slate-500" id="bible-verse-ref"></p>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-lightbulb text-yellow-500"></i>
                        Quick Devotional Tips
                    </div>
                    <div class="space-y-2 text-sm text-slate-600">
                        <div class="tip-card">
                            <p class="font-bold text-amber-800 mb-1">Start with Prayer</p>
                            <p class="text-xs text-amber-900">Ask God to open your heart and mind before reading scripture.</p>
                        </div>
                        <div class="tip-card">
                            <p class="font-bold text-amber-800 mb-1">Read with Context</p>
                            <p class="text-xs text-amber-900">Understand the historical and cultural background of the passage.</p>
                        </div>
                        <div class="tip-card">
                            <p class="font-bold text-amber-800 mb-1">Apply Daily</p>
                            <p class="text-xs text-amber-900">Ask: "How does this verse apply to my life today?"</p>
                        </div>
                    </div>
                </div>

                <!-- Fasting & Fasting Tracker -->
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-clock text-indigo-600"></i>
                        Fasting & Fasting Tracker
                    </div>
                    <p class="text-sm text-slate-600 mb-3">Track your spiritual fasting journey</p>
                    
                    <!-- Fasting Timer -->
                    <div class="p-4 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl border border-indigo-200 mb-3">
                        <div class="text-center mb-3">
                            <p class="text-3xl font-black text-indigo-900 mb-1" id="daily-fasting-timer">00:00:00</p>
                            <p class="text-xs text-indigo-700 font-bold" id="daily-fasting-status">Not Fasting</p>
                        </div>
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="startDailyFast()" id="daily-start-fast-btn" class="p-3 bg-indigo-600 text-white rounded-lg font-bold text-sm hover:bg-indigo-700 transition active:scale-95">
                                <i class="fa-solid fa-play mr-1"></i>Start Fast
                            </button>
                            <button onclick="endDailyFast()" id="daily-end-fast-btn" class="p-3 bg-green-600 text-white rounded-lg font-bold text-sm hover:bg-green-700 transition active:scale-95 hidden">
                                <i class="fa-solid fa-stop mr-1"></i>End Fast
                            </button>
                        </div>
                    </div>

                    <!-- Fasting Presets -->
                    <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-2">Quick Start</p>
                    <div class="grid grid-cols-3 gap-2 mb-3">
                        <button onclick="setDailyFastingGoal(16)" class="p-3 bg-white border-2 border-slate-200 rounded-lg hover:border-indigo-600 hover:bg-indigo-50 transition active:scale-95">
                            <p class="font-black text-slate-900">16:8</p>
                            <p class="text-xs text-slate-600">Popular</p>
                        </button>
                        <button onclick="setDailyFastingGoal(18)" class="p-3 bg-white border-2 border-slate-200 rounded-lg hover:border-indigo-600 hover:bg-indigo-50 transition active:scale-95">
                            <p class="font-black text-slate-900">18:6</p>
                            <p class="text-xs text-slate-600">Advanced</p>
                        </button>
                        <button onclick="setDailyFastingGoal(24)" class="p-3 bg-white border-2 border-slate-200 rounded-lg hover:border-indigo-600 hover:bg-indigo-50 transition active:scale-95">
                            <p class="font-black text-slate-900">24hr</p>
                            <p class="text-xs text-slate-600">Extended</p>
                        </button>
                    </div>

                    <!-- Fasting Tips -->
                    <div class="space-y-2 text-sm">
                        <div class="p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                            <p class="font-bold text-sm text-blue-900 mb-1">ðŸ’§ Stay Hydrated</p>
                            <p class="text-xs text-blue-800">Drink plenty of water throughout your fast to stay hydrated and energized.</p>
                        </div>
                        <div class="p-3 bg-purple-50 rounded-lg border-l-4 border-purple-500">
                            <p class="font-bold text-sm text-purple-900 mb-1">ðŸ™ Combine with Prayer</p>
                            <p class="text-xs text-purple-800">Use fasting time for deeper prayer and spiritual connection with God.</p>
                        </div>
                        <div class="p-3 bg-green-50 rounded-lg border-l-4 border-green-500">
                            <p class="font-bold text-sm text-green-900 mb-1">ðŸŽ Break Fast Wisely</p>
                            <p class="text-xs text-green-800">End your fast with light, nutritious foods. Avoid heavy or sugary meals.</p>
                        </div>
                    </div>

                    <!-- Recent Fasting History -->
                    <div class="mt-4">
                        <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-2">Recent Fasts</p>
                        <div id="daily-fasting-history" class="space-y-2">
                            <p class="text-sm text-slate-400 text-center py-2">No fasting records yet</p>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Read Bible Tab Content -->
        <div id="bible-content-read" class="bible-tab-content">
            <main class="p-5">
                <!-- Testament Selection -->
                <div class="flex gap-2 mb-4">
                    <button onclick="switchTestament('old')" id="testament-old" class="flex-1 p-3 bg-slate-800 text-white rounded-xl font-bold text-sm active:scale-95 transition">
                        Old Testament
                    </button>
                    <button onclick="switchTestament('new')" id="testament-new" class="flex-1 p-3 bg-slate-200 text-slate-600 rounded-xl font-bold text-sm active:scale-95 transition">
                        New Testament
                    </button>
                </div>

                <!-- Books Grid -->
                <div class="content-card mb-4">
                    <div class="section-title">
                        <i class="fa-solid fa-book text-blue-600"></i>
                        <span>Select a Book</span>
                    </div>
                    <div id="bible-books-grid" class="grid grid-cols-2 gap-2">
                        <!-- Books will be populated here -->
                    </div>
                </div>

                <!-- Chapters Selection -->
                <div id="chapters-section" class="content-card mb-4" style="display: none;">
                    <div class="section-title">
                        <i class="fa-solid fa-list-ol text-purple-600"></i>
                        <span id="selected-book-name">Select a Chapter</span>
                    </div>
                    <div id="bible-chapters-grid" class="grid grid-cols-6 gap-2">
                        <!-- Chapters will be populated here -->
                    </div>
                </div>

                <!-- Bible Reading View -->
                <div id="bible-reading-section" class="content-card" style="display: none;">
                    <div class="flex justify-between items-center mb-4">
                        <button onclick="closeBibleReading()" class="text-slate-600 hover:text-slate-800">
                            <i class="fa-solid fa-arrow-left mr-2"></i>Back
                        </button>
                        <div class="text-center flex-1">
                            <p class="font-bold text-slate-800" id="reading-book-name">Genesis 1</p>
                            <p class="text-xs text-slate-500" id="reading-version">King James Version</p>
                        </div>
                        <button onclick="toggleBibleSettings()" class="text-slate-600 hover:text-slate-800">
                            <i class="fa-solid fa-cog"></i>
                        </button>
                    </div>

                    <!-- Reading Settings -->
                    <div id="bible-settings" class="mb-4 p-3 bg-slate-50 rounded-xl" style="display: none;">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-bold text-slate-700">Font Size</span>
                            <div class="flex gap-2">
                                <button onclick="adjustFontSize(-1)" class="w-8 h-8 rounded bg-white border border-slate-300 flex items-center justify-center">
                                    <i class="fa-solid fa-minus text-xs"></i>
                                </button>
                                <button onclick="adjustFontSize(1)" class="w-8 h-8 rounded bg-white border border-slate-300 flex items-center justify-center">
                                    <i class="fa-solid fa-plus text-xs"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Bible Verses -->
                    <div id="bible-verses-container" class="space-y-1">
                        <!-- Verses will be displayed here -->
                    </div>

                    <!-- Chapter Navigation -->
                    <div class="flex justify-between items-center mt-6">
                        <button onclick="previousChapter()" id="prev-chapter-btn" class="flex-1 p-3 bg-slate-100 text-slate-700 rounded-xl font-bold text-sm active:scale-95 transition mr-2">
                            <i class="fa-solid fa-chevron-left mr-2"></i>Previous
                        </button>
                        <button onclick="nextChapter()" id="next-chapter-btn" class="flex-1 p-3 bg-slate-100 text-slate-700 rounded-xl font-bold text-sm active:scale-95 transition ml-2">
                            Next<i class="fa-solid fa-chevron-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </main>
        </div>

        <!-- Audio Bible Tab Content -->
        <div id="bible-content-audio" class="bible-tab-content">
            <main class="p-5">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-headphones text-purple-600"></i>
                        AUDIO BIBLE
                    </div>
                    <p class="text-sm text-slate-600 mb-3">Listen while you work or workout</p>
                    <div class="space-y-3">
                        <button onclick="playAudioVerse()" class="w-full p-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl flex items-center justify-center gap-3 hover:opacity-90 transition active:scale-95">
                            <i class="fa-solid fa-play"></i>
                            <span class="font-bold">Listen to Daily Verse</span>
                        </button>
                        <button onclick="playAudioDevotional()" class="w-full p-4 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-xl flex items-center justify-center gap-3 hover:opacity-90 transition active:scale-95">
                            <i class="fa-solid fa-microphone"></i>
                            <span class="font-bold">Audio Devotional</span>
                        </button>
                        <div class="flex items-center justify-between p-3 bg-slate-50 rounded-xl">
                            <div class="flex items-center gap-2">
                                <i class="fa-solid fa-volume-up text-indigo-600"></i>
                                <span class="text-sm font-bold text-slate-700">Background Audio</span>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="background-audio-toggle" class="sr-only peer" onchange="toggleBackgroundAudio()">
                                <div class="w-11 h-6 bg-slate-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"></div>
                            </label>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Prayer Request Tab Content -->
        <div id="bible-content-prayer" class="bible-tab-content">
            <main class="p-5">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-hands-praying text-blue-600"></i>
                        PRAYER REQUESTS
                    </div>
                    <p class="text-sm text-slate-600 mb-3">Track your prayers and see God's faithfulness</p>
                    
                    <!-- Add Prayer Request -->
                    <div class="mb-4">
                        <input id="prayer-request-title" class="input-field mb-2" placeholder="What are you praying for?">
                        <textarea id="prayer-request-details" class="textarea-field mb-2" style="min-height: 80px;" placeholder="Additional details (optional)..."></textarea>
                        <button onclick="addPrayerRequest()" class="btn-primary">
                            <i class="fa-solid fa-plus mr-2"></i>Add Prayer Request
                        </button>
                    </div>

                    <!-- Prayer Reminder -->
                    <div class="flex items-center justify-between p-3 bg-blue-50 rounded-xl mb-4">
                        <div class="flex items-center gap-2">
                            <i class="fa-solid fa-bell text-blue-600"></i>
                            <span class="text-sm font-bold text-blue-900">Daily Prayer Reminder</span>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="prayer-reminder-toggle" class="sr-only peer" onchange="togglePrayerReminder()">
                            <div class="w-11 h-6 bg-slate-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                        </label>
                    </div>

                    <!-- Active Prayer Requests -->
                    <div id="active-prayers" class="space-y-2 mb-3">
                        <!-- Prayer requests will be added here -->
                    </div>

                    <!-- Answered Prayers -->
                    <div class="mt-4">
                        <button onclick="toggleAnsweredPrayers()" class="w-full text-left p-3 bg-green-50 rounded-xl flex items-center justify-between hover:bg-green-100 transition">
                            <div class="flex items-center gap-2">
                                <i class="fa-solid fa-check-circle text-green-600"></i>
                                <span class="text-sm font-bold text-green-900">Answered Prayers</span>
                                <span class="text-xs text-green-700 font-bold" id="answered-prayers-count">(0)</span>
                            </div>
                            <i class="fa-solid fa-chevron-down text-green-600" id="answered-prayers-chevron"></i>
                        </button>
                        <div id="answered-prayers" class="hidden mt-2 space-y-2">
                            <!-- Answered prayers will be shown here -->
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Fasting Tracker Tab Content -->
        <div id="bible-content-fasting" class="bible-tab-content">
            <main class="p-5">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-clock text-indigo-600"></i>
                        FASTING TRACKER
                    </div>
                    <p class="text-sm text-slate-600 mb-3">Track your intermittent fasting journey</p>
                    
                    <!-- Fasting Timer -->
                    <div class="p-4 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl border border-indigo-200 mb-3">
                        <div class="text-center mb-3">
                            <p class="text-4xl font-black text-indigo-900 mb-1" id="fasting-timer">00:00:00</p>
                            <p class="text-xs text-indigo-700 font-bold" id="fasting-status">Not Fasting</p>
                        </div>
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="startFast()" id="start-fast-btn" class="p-3 bg-indigo-600 text-white rounded-lg font-bold text-sm hover:bg-indigo-700 transition active:scale-95">
                                <i class="fa-solid fa-play mr-1"></i>Start Fast
                            </button>
                            <button onclick="endFast()" id="end-fast-btn" class="p-3 bg-green-600 text-white rounded-lg font-bold text-sm hover:bg-green-700 transition active:scale-95 hidden">
                                <i class="fa-solid fa-stop mr-1"></i>End Fast
                            </button>
                        </div>
                    </div>

                    <!-- Fasting Presets -->
                    <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-2">Quick Start</p>
                    <div class="grid grid-cols-3 gap-2 mb-3">
                        <button onclick="setFastingGoal(16)" class="p-3 bg-white border-2 border-slate-200 rounded-lg hover:border-indigo-600 hover:bg-indigo-50 transition">
                            <p class="font-black text-slate-900">16:8</p>
                            <p class="text-xs text-slate-600">Popular</p>
                        </button>
                        <button onclick="setFastingGoal(18)" class="p-3 bg-white border-2 border-slate-200 rounded-lg hover:border-indigo-600 hover:bg-indigo-50 transition">
                            <p class="font-black text-slate-900">18:6</p>
                            <p class="text-xs text-slate-600">Advanced</p>
                        </button>
                        <button onclick="setFastingGoal(24)" class="p-3 bg-white border-2 border-slate-200 rounded-lg hover:border-indigo-600 hover:bg-indigo-50 transition">
                            <p class="font-black text-slate-900">24hr</p>
                            <p class="text-xs text-slate-600">Extended</p>
                        </button>
                    </div>

                    <!-- Fasting History -->
                    <div id="fasting-history" class="space-y-2">
                        <!-- Fasting entries will be added here -->
                    </div>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-pen text-blue-600"></i>
                        What I Learned Today
                    </div>
                    <textarea id="bible-learning" class="textarea-field" placeholder="Write your reflection, insights, or what God is teaching you today..."></textarea>
                    <button onclick="saveBibleEntry()" class="btn-primary mt-4">Save Reflection</button>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-clock-rotate-left text-slate-500"></i>
                        Recent Reflections
                    </div>
                    <div id="bible-entries"></div>
                </div>
            </main>
        </div>
    </div>

    <!-- Continue with other pages --        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Gym Page -->
    <div id="gym-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-slate-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">GYM</h1>
                        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Physical Excellence</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-orange-600 flex items-center justify-center">
                    <i class="fa-solid fa-dumbbell"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <!-- Gym Navigation Tabs -->
            <div class="flex gap-2 mb-4 overflow-x-auto pb-2" style="scrollbar-width: none;">
                <button class="gym-tab active" onclick="switchGymTab('nutrition')" id="gym-tab-nutrition">
                    <i class="fa-solid fa-utensils"></i> Nutrition
                </button>
                <button class="gym-tab" onclick="switchGymTab('workouts')" id="gym-tab-workouts">
                    <i class="fa-solid fa-dumbbell"></i> Workouts
                </button>
                <button class="gym-tab" onclick="switchGymTab('exercises')" id="gym-tab-exercises">
                    <i class="fa-solid fa-video"></i> Exercises
                </button>
                <button class="gym-tab" onclick="switchGymTab('progress')" id="gym-tab-progress">
                    <i class="fa-solid fa-chart-line"></i> Progress
                </button>
            </div>

            <!-- Nutrition Tab Content -->
            <div id="gym-nutrition-content" class="gym-tab-content">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-utensils text-red-500"></i>
                        Today's Macros
                    </div>
                    
                    <div class="flex justify-around mb-6 py-4">
                        <div class="text-center">
                            <div class="macro-ring border-red-500 text-red-600">
                                <span id="protein-today" class="text-xl">0</span>
                                <span class="text-xs">g</span>
                            </div>
                            <p class="text-xs font-bold text-slate-600 mt-2">Protein</p>
                        </div>
                        <div class="text-center">
                            <div class="macro-ring border-blue-500 text-blue-600">
                                <span id="carbs-today" class="text-xl">0</span>
                                <span class="text-xs">g</span>
                            </div>
                            <p class="text-xs font-bold text-slate-600 mt-2">Carbs</p>
                        </div>
                        <div class="text-center">
                            <div class="macro-ring border-amber-500 text-amber-600">
                                <span id="fats-today" class="text-xl">0</span>
                                <span class="text-xs">g</span>
                            </div>
                            <p class="text-xs font-bold text-slate-600 mt-2">Fats</p>
                        </div>
                    </div>

                    <div class="text-center mb-4">
                        <p class="text-sm font-bold text-slate-600">Total Calories Today</p>
                        <p class="text-3xl font-black text-slate-900" id="calories-today">0</p>
                    </div>

                    <button onclick="showLogMealModal()" class="btn-primary">
                        <i class="fa-solid fa-plus"></i> Log Meal
                    </button>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-droplet text-blue-500"></i>
                        Water Intake
                    </div>
                    <div class="mb-3">
                        <div class="flex justify-between items-center mb-2">
                            <p class="text-sm font-bold text-slate-700">Today's Water</p>
                            <p class="text-lg font-black text-blue-600"><span id="water-count">0</span>/8 glasses</p>
                        </div>
                        <div class="h-3 bg-slate-200 rounded-full overflow-hidden">
                            <div id="water-progress" class="h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all duration-500" style="width: 0%"></div>
                        </div>
                    </div>
                    <button onclick="addWaterGlass()" class="w-full bg-blue-600 text-white py-3 rounded-xl font-bold text-sm">
                        <i class="fa-solid fa-plus"></i> Add Glass
                    </button>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-fire text-orange-500"></i>
                        Healthy Eating Streak
                    </div>
                    <div class="text-center p-6 bg-gradient-to-br from-orange-50 to-red-50 rounded-xl">
                        <p class="text-5xl font-black text-orange-600 mb-2" id="eating-streak">0</p>
                        <p class="text-sm font-bold text-orange-800">Days of Healthy Eating</p>
                    </div>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-history text-slate-500"></i>
                        Meal History
                    </div>
                    <div id="meal-history" class="space-y-2">
                        <p class="text-sm text-slate-500 text-center py-4">No meals logged today</p>
                    </div>
                </div>
            </div>

            <!-- Workouts Tab Content -->
            <div id="gym-workouts-content" class="gym-tab-content" style="display: none;">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-clipboard-list text-indigo-500"></i>
                        Workout Plans
                    </div>
                    <p class="text-sm text-slate-600 mb-4">Choose your fitness level and training location</p>

                    <h3 class="font-bold text-sm text-slate-800 mb-3 uppercase tracking-wider">ðŸŒ± Beginner</h3>
                    <div class="workout-plan-card beginner" onclick="showWorkoutPlan('beginner-gym')">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-bold text-lg">Beginner - Gym</p>
                                <p class="text-sm opacity-90">3 days/week â€¢ Full Body</p>
                                <p class="text-xs opacity-75 mt-1">Perfect for building foundation strength</p>
                            </div>
                            <i class="fa-solid fa-chevron-right text-2xl"></i>
                        </div>
                    </div>
                    
                    <div class="workout-plan-card beginner" onclick="showWorkoutPlan('beginner-home')">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-bold text-lg">Beginner - Home</p>
                                <p class="text-sm opacity-90">3 days/week â€¢ Bodyweight</p>
                                <p class="text-xs opacity-75 mt-1">No equipment needed to get started</p>
                            </div>
                            <i class="fa-solid fa-chevron-right text-2xl"></i>
                        </div>
                    </div>

                    <h3 class="font-bold text-sm text-slate-800 mb-3 mt-6 uppercase tracking-wider">ðŸ’ª Intermediate</h3>
                    <div class="workout-plan-card intermediate" onclick="showWorkoutPlan('intermediate-gym')">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-bold text-lg">Intermediate - Gym</p>
                                <p class="text-sm opacity-90">4 days/week â€¢ Push/Pull/Legs</p>
                                <p class="text-xs opacity-75 mt-1">Build muscle and strength efficiently</p>
                            </div>
                            <i class="fa-solid fa-chevron-right text-2xl"></i>
                        </div>
                    </div>
                    
                    <div class="workout-plan-card intermediate" onclick="showWorkoutPlan('intermediate-home')">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-bold text-lg">Intermediate - Home</p>
                                <p class="text-sm opacity-90">4 days/week â€¢ Resistance Bands</p>
                                <p class="text-xs opacity-75 mt-1">Effective training with minimal equipment</p>
                            </div>
                            <i class="fa-solid fa-chevron-right text-2xl"></i>
                        </div>
                    </div>

                    <h3 class="font-bold text-sm text-slate-800 mb-3 mt-6 uppercase tracking-wider">ðŸ”¥ Advanced</h3>
                    <div class="workout-plan-card advanced" onclick="showWorkoutPlan('advanced-gym')">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-bold text-lg">Advanced - Gym</p>
                                <p class="text-sm opacity-90">5-6 days/week â€¢ Split Routine</p>
                                <p class="text-xs opacity-75 mt-1">Maximize muscle growth and performance</p>
                            </div>
                            <i class="fa-solid fa-chevron-right text-2xl"></i>
                        </div>
                    </div>
                    
                    <div class="workout-plan-card advanced" onclick="showWorkoutPlan('advanced-home')">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-bold text-lg">Advanced - Home</p>
                                <p class="text-sm opacity-90">5-6 days/week â€¢ HIIT + Strength</p>
                                <p class="text-xs opacity-75 mt-1">Intense home training protocols</p>
                            </div>
                            <i class="fa-solid fa-chevron-right text-2xl"></i>
                        </div>
                    </div>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-bed text-purple-500"></i>
                        Rest Day Recommendations
                    </div>
                    <div class="space-y-3">
                        <div class="p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                            <p class="font-bold text-sm text-blue-900 mb-1">ðŸ§˜ Active Recovery</p>
                            <p class="text-xs text-blue-800">Light yoga, walking (20-30 min), or stretching to promote blood flow and reduce soreness</p>
                        </div>
                        <div class="p-3 bg-green-50 rounded-lg border-l-4 border-green-500">
                            <p class="font-bold text-sm text-green-900 mb-1">ðŸ’¤ Sleep Optimization</p>
                            <p class="text-xs text-green-800">Aim for 7-9 hours. Recovery and muscle growth happen during sleep. Keep room cool and dark.</p>
                        </div>
                        <div class="p-3 bg-purple-50 rounded-lg border-l-4 border-purple-500">
                            <p class="font-bold text-sm text-purple-900 mb-1">ðŸŽ Nutrition Focus</p>
                            <p class="text-xs text-purple-800">Prioritize protein (0.8-1g per lb bodyweight), stay hydrated, and eat anti-inflammatory foods</p>
                        </div>
                        <div class="p-3 bg-amber-50 rounded-lg border-l-4 border-amber-500">
                            <p class="font-bold text-sm text-amber-900 mb-1">ðŸŽ¯ Mental Recovery</p>
                            <p class="text-xs text-amber-800">Practice mindfulness, journaling, or meditation. Mental rest is as important as physical rest.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Exercises Tab Content -->
            <div id="gym-exercises-content" class="gym-tab-content" style="display: none;">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-video text-red-500"></i>
                        Exercise Video Library
                    </div>
                    <p class="text-sm text-slate-600 mb-4">Learn proper form and technique</p>

                    <div class="space-y-4">
                        <!-- Squat -->
                        <div class="p-4 bg-slate-50 rounded-xl">
                            <h4 class="font-bold text-slate-900 mb-2">Barbell Squat</h4>
                            <div class="aspect-video bg-slate-200 rounded-lg overflow-hidden mb-2">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/ultWZbUMPL8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                            </div>
                            <p class="text-xs text-slate-600 mb-2">
                                <strong>Key Points:</strong> Feet shoulder-width, chest up, knees track over toes, depth to parallel or below
                            </p>
                            <div class="flex flex-wrap gap-1">
                                <span class="px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-bold">Legs</span>
                                <span class="px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-bold">Compound</span>
                            </div>
                        </div>

                        <!-- Deadlift -->
                        <div class="p-4 bg-slate-50 rounded-xl">
                            <h4 class="font-bold text-slate-900 mb-2">Conventional Deadlift</h4>
                            <div class="aspect-video bg-slate-200 rounded-lg overflow-hidden mb-2">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/op9kVnSso6Q" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                            </div>
                            <p class="text-xs text-slate-600 mb-2">
                                <strong>Key Points:</strong> Neutral spine, hip hinge, bar close to body, drive through heels
                            </p>
                            <div class="flex flex-wrap gap-1">
                                <span class="px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-bold">Back</span>
                                <span class="px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-bold">Compound</span>
                            </div>
                        </div>

                        <!-- Bench Press -->
                        <div class="p-4 bg-slate-50 rounded-xl">
                            <h4 class="font-bold text-slate-900 mb-2">Barbell Bench Press</h4>
                            <div class="aspect-video bg-slate-200 rounded-lg overflow-hidden mb-2">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/rT7DgCr-3pg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                            </div>
                            <p class="text-xs text-slate-600 mb-2">
                                <strong>Key Points:</strong> Retract scapula, slight arch, bar to mid-chest, elbows 45 degrees
                            </p>
                            <div class="flex flex-wrap gap-1">
                                <span class="px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-bold">Chest</span>
                                <span class="px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-bold">Compound</span>
                            </div>
                        </div>

                        <!-- Pull-ups -->
                        <div class="p-4 bg-slate-50 rounded-xl">
                            <h4 class="font-bold text-slate-900 mb-2">Pull-ups / Chin-ups</h4>
                            <div class="aspect-video bg-slate-200 rounded-lg overflow-hidden mb-2">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/eGo4IYlbE5g" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                            </div>
                            <p class="text-xs text-slate-600 mb-2">
                                <strong>Key Points:</strong> Full hang, shoulder blades down, pull chest to bar, controlled descent
                            </p>
                            <div class="flex flex-wrap gap-1">
                                <span class="px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-xs font-bold">Back</span>
                                <span class="px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-bold">Bodyweight</span>
                            </div>
                        </div>

                        <!-- Plank -->
                        <div class="p-4 bg-slate-50 rounded-xl">
                            <h4 class="font-bold text-slate-900 mb-2">Plank Variations</h4>
                            <div class="aspect-video bg-slate-200 rounded-lg overflow-hidden mb-2">
                                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/ASdvN_XEl_c" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                            </div>
                            <p class="text-xs text-slate-600 mb-2">
                                <strong>Key Points:</strong> Straight line from head to heels, engage core, don't let hips sag
                            </p>
                            <div class="flex flex-wrap gap-1">
                                <span class="px-2 py-1 bg-amber-100 text-amber-700 rounded text-xs font-bold">Core</span>
                                <span class="px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-bold">Isometric</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Exercise Images (Form Guide) -->
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-images text-pink-500"></i>
                        Exercise Form Guide
                    </div>
                    <p class="text-sm text-slate-600 mb-4">Visual reference for proper technique</p>
                    
                    <div class="grid grid-cols-2 gap-3">
                        <!-- Squat -->
                        <div class="bg-slate-50 rounded-lg overflow-hidden border border-slate-200">
                            <div class="aspect-square bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center p-4">
                                <svg viewBox="0 0 200 200" class="w-full h-full">
                                    <circle cx="100" cy="40" r="15" fill="#1e293b"/>
                                    <rect x="90" y="55" width="20" height="40" fill="#1e293b" rx="5"/>
                                    <rect x="75" y="65" width="15" height="3" fill="#1e293b" transform="rotate(-45 82 66)"/>
                                    <rect x="110" y="65" width="15" height="3" fill="#1e293b" transform="rotate(45 118 66)"/>
                                    <rect x="85" y="95" width="10" height="45" fill="#1e293b" rx="5"/>
                                    <rect x="105" y="95" width="10" height="45" fill="#1e293b" rx="5"/>
                                    <text x="100" y="170" font-size="12" text-anchor="middle" fill="#3b82f6" font-weight="bold">SQUAT</text>
                                    <text x="100" y="185" font-size="8" text-anchor="middle" fill="#64748b">Knees over toes</text>
                                </svg>
                            </div>
                            <div class="p-2 bg-white">
                                <p class="text-xs font-bold text-center text-slate-800">Barbell Squat</p>
                                <p class="text-[10px] text-center text-slate-500">Depth below parallel</p>
                            </div>
                        </div>
                        
                        <!-- Deadlift -->
                        <div class="bg-slate-50 rounded-lg overflow-hidden border border-slate-200">
                            <div class="aspect-square bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center p-4">
                                <svg viewBox="0 0 200 200" class="w-full h-full">
                                    <circle cx="100" cy="35" r="12" fill="#1e293b"/>
                                    <rect x="92" y="47" width="16" height="50" fill="#1e293b" rx="4"/>
                                    <rect x="75" y="55" width="50" height="3" fill="#dc2626" rx="1.5"/>
                                    <rect x="85" y="97" width="8" height="50" fill="#1e293b" rx="4"/>
                                    <rect x="107" y="97" width="8" height="50" fill="#1e293b" rx="4"/>
                                    <rect x="70" y="145" width="60" height="4" fill="#64748b" rx="2"/>
                                    <text x="100" y="170" font-size="12" text-anchor="middle" fill="#dc2626" font-weight="bold">DEADLIFT</text>
                                    <text x="100" y="185" font-size="8" text-anchor="middle" fill="#64748b">Neutral spine</text>
                                </svg>
                            </div>
                            <div class="p-2 bg-white">
                                <p class="text-xs font-bold text-center text-slate-800">Deadlift</p>
                                <p class="text-[10px] text-center text-slate-500">Hip hinge movement</p>
                            </div>
                        </div>
                        
                        <!-- Bench Press -->
                        <div class="bg-slate-50 rounded-lg overflow-hidden border border-slate-200">
                            <div class="aspect-square bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center p-4">
                                <svg viewBox="0 0 200 200" class="w-full h-full">
                                    <rect x="50" y="80" width="100" height="6" fill="#64748b" rx="3"/>
                                    <rect x="70" y="50" width="60" height="3" fill="#a855f7" rx="1.5"/>
                                    <circle cx="100" cy="95" r="12" fill="#1e293b"/>
                                    <rect x="92" y="107" width="16" height="35" fill="#1e293b" rx="4"/>
                                    <rect x="75" y="115" width="15" height="3" fill="#1e293b" transform="rotate(-45 82 116)"/>
                                    <rect x="110" y="115" width="15" height="3" fill="#1e293b" transform="rotate(45 118 116)"/>
                                    <text x="100" y="165" font-size="12" text-anchor="middle" fill="#a855f7" font-weight="bold">BENCH PRESS</text>
                                    <text x="100" y="180" font-size="8" text-anchor="middle" fill="#64748b">Retract scapula</text>
                                </svg>
                            </div>
                            <div class="p-2 bg-white">
                                <p class="text-xs font-bold text-center text-slate-800">Bench Press</p>
                                <p class="text-[10px] text-center text-slate-500">Bar to mid-chest</p>
                            </div>
                        </div>
                        
                        <!-- Pull-ups -->
                        <div class="bg-slate-50 rounded-lg overflow-hidden border border-slate-200">
                            <div class="aspect-square bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center p-4">
                                <svg viewBox="0 0 200 200" class="w-full h-full">
                                    <rect x="60" y="30" width="80" height="4" fill="#64748b" rx="2"/>
                                    <circle cx="100" cy="60" r="12" fill="#1e293b"/>
                                    <rect x="92" y="72" width="16" height="35" fill="#1e293b" rx="4"/>
                                    <rect x="85" y="80" width="12" height="3" fill="#1e293b" transform="rotate(-60 91 81)"/>
                                    <rect x="103" y="80" width="12" height="3" fill="#1e293b" transform="rotate(60 109 81)"/>
                                    <rect x="85" y="107" width="8" height="40" fill="#1e293b" rx="4"/>
                                    <rect x="107" y="107" width="8" height="40" fill="#1e293b" rx="4"/>
                                    <text x="100" y="165" font-size="12" text-anchor="middle" fill="#10b981" font-weight="bold">PULL-UP</text>
                                    <text x="100" y="180" font-size="8" text-anchor="middle" fill="#64748b">Full range motion</text>
                                </svg>
                            </div>
                            <div class="p-2 bg-white">
                                <p class="text-xs font-bold text-center text-slate-800">Pull-ups</p>
                                <p class="text-[10px] text-center text-slate-500">Chest to bar</p>
                            </div>
                        </div>
                        
                        <!-- Overhead Press -->
                        <div class="bg-slate-50 rounded-lg overflow-hidden border border-slate-200">
                            <div class="aspect-square bg-gradient-to-br from-amber-100 to-amber-200 flex items-center justify-center p-4">
                                <svg viewBox="0 0 200 200" class="w-full h-full">
                                    <circle cx="100" cy="65" r="12" fill="#1e293b"/>
                                    <rect x="92" y="77" width="16" height="40" fill="#1e293b" rx="4"/>
                                    <rect x="75" y="50" width="12" height="3" fill="#1e293b" transform="rotate(-75 81 51)"/>
                                    <rect x="113" y="50" width="12" height="3" fill="#1e293b" transform="rotate(75 119 51)"/>
                                    <rect x="70" y="35" width="60" height="4" fill="#f59e0b" rx="2"/>
                                    <rect x="85" y="117" width="8" height="35" fill="#1e293b" rx="4"/>
                                    <rect x="107" y="117" width="8" height="35" fill="#1e293b" rx="4"/>
                                    <text x="100" y="170" font-size="11" text-anchor="middle" fill="#f59e0b" font-weight="bold">OVERHEAD PRESS</text>
                                    <text x="100" y="185" font-size="8" text-anchor="middle" fill="#64748b">Lockout overhead</text>
                                </svg>
                            </div>
                            <div class="p-2 bg-white">
                                <p class="text-xs font-bold text-center text-slate-800">Overhead Press</p>
                                <p class="text-[10px] text-center text-slate-500">Full lockout</p>
                            </div>
                        </div>
                        
                        <!-- Romanian Deadlift -->
                        <div class="bg-slate-50 rounded-lg overflow-hidden border border-slate-200">
                            <div class="aspect-square bg-gradient-to-br from-rose-100 to-rose-200 flex items-center justify-center p-4">
                                <svg viewBox="0 0 200 200" class="w-full h-full">
                                    <circle cx="100" cy="45" r="12" fill="#1e293b"/>
                                    <rect x="92" y="57" width="16" height="40" fill="#1e293b" rx="4" transform="rotate(20 100 77)"/>
                                    <rect x="75" y="65" width="50" height="3" fill="#e11d48" rx="1.5" transform="rotate(20 100 66)"/>
                                    <rect x="88" y="100" width="8" height="45" fill="#1e293b" rx="4"/>
                                    <rect x="104" y="100" width="8" height="45" fill="#1e293b" rx="4"/>
                                    <text x="100" y="165" font-size="10" text-anchor="middle" fill="#e11d48" font-weight="bold">ROMANIAN DL</text>
                                    <text x="100" y="180" font-size="8" text-anchor="middle" fill="#64748b">Hamstring stretch</text>
                                </svg>
                            </div>
                            <div class="p-2 bg-white">
                                <p class="text-xs font-bold text-center text-slate-800">Romanian Deadlift</p>
                                <p class="text-[10px] text-center text-slate-500">Knee soft bend</p>
                            </div>
                        </div>
                        
                        <!-- Plank -->
                        <div class="bg-slate-50 rounded-lg overflow-hidden border border-slate-200">
                            <div class="aspect-square bg-gradient-to-br from-indigo-100 to-indigo-200 flex items-center justify-center p-4">
                                <svg viewBox="0 0 200 200" class="w-full h-full">
                                    <circle cx="90" cy="85" r="10" fill="#1e293b"/>
                                    <rect x="100" y="80" width="40" height="12" fill="#1e293b" rx="3"/>
                                    <rect x="55" y="90" width="25" height="4" fill="#1e293b" rx="2"/>
                                    <rect x="145" y="95" width="25" height="4" fill="#1e293b" rx="2"/>
                                    <line x1="70" y1="92" x2="150" y2="97" stroke="#6366f1" stroke-width="2" stroke-dasharray="3,3"/>
                                    <text x="100" y="130" font-size="12" text-anchor="middle" fill="#6366f1" font-weight="bold">PLANK</text>
                                    <text x="100" y="145" font-size="8" text-anchor="middle" fill="#64748b">Straight body line</text>
                                </svg>
                            </div>
                            <div class="p-2 bg-white">
                                <p class="text-xs font-bold text-center text-slate-800">Plank Hold</p>
                                <p class="text-[10px] text-center text-slate-500">Core engaged</p>
                            </div>
                        </div>
                        
                        <!-- Rows -->
                        <div class="bg-slate-50 rounded-lg overflow-hidden border border-slate-200">
                            <div class="aspect-square bg-gradient-to-br from-teal-100 to-teal-200 flex items-center justify-center p-4">
                                <svg viewBox="0 0 200 200" class="w-full h-full">
                                    <circle cx="110" cy="70" r="11" fill="#1e293b"/>
                                    <rect x="103" y="81" width="14" height="38" fill="#1e293b" rx="4" transform="rotate(20 110 100)"/>
                                    <rect x="125" y="90" width="25" height="3" fill="#14b8a6" rx="1.5"/>
                                    <rect x="92" y="120" width="8" height="35" fill="#1e293b" rx="4"/>
                                    <rect x="108" y="120" width="8" height="35" fill="#1e293b" rx="4"/>
                                    <text x="100" y="175" font-size="12" text-anchor="middle" fill="#14b8a6" font-weight="bold">BARBELL ROW</text>
                                    <text x="100" y="190" font-size="8" text-anchor="middle" fill="#64748b">Pull to sternum</text>
                                </svg>
                            </div>
                            <div class="p-2 bg-white">
                                <p class="text-xs font-bold text-center text-slate-800">Barbell Row</p>
                                <p class="text-[10px] text-center text-slate-500">Elbow high</p>
                            </div>
                        </div>
                    </div>
                    <p class="text-xs text-slate-500 mt-3 text-center">âœ“ Illustrated form guides â€¢ Click exercises above for video demos</p>
                </div>
            </div>

            <!-- Progress Tab Content -->
            <div id="gym-progress-content" class="gym-tab-content" style="display: none;">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-chart-line text-green-500"></i>
                        Progressive Overload Tracking
                    </div>
                    <p class="text-sm text-slate-600 mb-4">Track your strength gains over time</p>

                    <div id="overload-summary" class="p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl mb-4">
                        <p class="font-bold text-sm text-emerald-900 mb-2">ðŸ“ˆ This Week's Progress</p>
                        <div id="weekly-progress">
                            <p class="text-xs text-emerald-700">Log your first workout to see progress</p>
                        </div>
                    </div>

                    <button onclick="showLogWorkoutModal()" class="btn-primary mb-4">
                        <i class="fa-solid fa-plus"></i> Log Workout Session
                    </button>

                    <div class="tip-card mb-4">
                        <p class="text-xs font-bold text-amber-900 mb-1">ðŸ’¡ Progressive Overload</p>
                        <p class="text-xs text-amber-800">Gradually increase weight (2.5-5%), reps (+1-2), or sets over time to continue building strength and muscle.</p>
                    </div>

                    <div id="exercise-progress-list" class="space-y-3">
                        <!-- Exercise progress will be loaded here -->
                    </div>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-history text-slate-500"></i>
                        Workout History
                    </div>
                    <div id="workout-history-list" class="space-y-2">
                        <p class="text-sm text-slate-500 text-center py-4">No workouts logged yet</p>
                    </div>
                </div>
            </div>
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Mindset/Motivation Page -->
    <div id="motivation-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-slate-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">MINDSET</h1>
                        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Mental Fortitude</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-yellow-600 flex items-center justify-center">
                    <i class="fa-solid fa-bolt"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-fire text-amber-500"></i>
                    Power Principles
                </div>
                <div class="space-y-2 text-sm">
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Growth Mindset</p>
                        <p class="text-xs text-amber-900">Embrace challenges as opportunities to grow stronger.</p>
                    </div>
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Positive Self-Talk</p>
                        <p class="text-xs text-amber-900">Speak to yourself the way you'd speak to someone you love.</p>
                    </div>
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Embrace Discomfort</p>
                        <p class="text-xs text-amber-900">Growth happens outside your comfort zone.</p>
                    </div>
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Daily Affirmations</p>
                        <p class="text-xs text-amber-900">What you repeatedly tell yourself, you become.</p>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-trophy text-yellow-500"></i>
                    My Wins Today
                </div>
                <p class="text-sm text-slate-600 mb-3">Celebrate your progress, no matter how small</p>
                <textarea id="mindset-wins" class="textarea-field" placeholder="What did I accomplish today? What am I proud of?"></textarea>
                <button onclick="saveMindsetWin()" class="btn-primary mt-4">Log Win</button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-mountain text-slate-600"></i>
                    Challenges I'm Facing
                </div>
                <textarea id="mindset-challenge" class="textarea-field" placeholder="What's difficult right now? How can I reframe it as growth?"></textarea>
                <button onclick="saveMindsetChallenge()" class="btn-primary mt-4">Save Reflection</button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-list text-slate-500"></i>
                    Mindset Journal
                </div>
                <div id="mindset-entries"></div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Habits Page -->
    <div id="habits-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-slate-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">HABITS</h1>
                        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Daily Discipline</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-emerald-600 flex items-center justify-center">
                    <i class="fa-solid fa-repeat"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-flame text-orange-500"></i>
                    Today's Habits
                </div>
                <div id="habits-today" class="space-y-3"></div>
                <button onclick="showAddHabitForm()" class="btn-primary mt-4">+ Add New Habit</button>
            </div>

            <div class="content-card" id="add-habit-form" style="display: none;">
                <div class="section-title">
                    <i class="fa-solid fa-plus text-emerald-500"></i>
                    Create Habit
                </div>
                <input id="habit-name" class="input-field mb-3" placeholder="Habit name (e.g., Drink 8 glasses of water)">
                <select id="habit-frequency" class="input-field mb-3">
                    <option value="daily">Daily</option>
                    <option value="weekdays">Weekdays Only</option>
                    <option value="weekly">Weekly</option>
                </select>
                <button onclick="saveNewHabit()" class="btn-primary">Create Habit</button>
                <button onclick="hideAddHabitForm()" class="btn-primary mt-2" style="background: #e2e8f0; color: #64748b;">Cancel</button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-lightbulb text-yellow-500"></i>
                    Habit Building Tips
                </div>
                <div class="space-y-2 text-sm">
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Start Small</p>
                        <p class="text-xs text-amber-900">Make it so easy you can't say no. Build from there.</p>
                    </div>
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Stack Habits</p>
                        <p class="text-xs text-amber-900">After [existing habit], I will [new habit].</p>
                    </div>
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Track Visibly</p>
                        <p class="text-xs text-amber-900">Don't break the chain. Each check builds momentum.</p>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-user-graduate text-purple-500"></i>
                    Character Development
                </div>
                <p class="text-sm text-slate-600 mb-4">Build lasting character traits</p>
                
                <div class="mb-4">
                    <div class="flex gap-2 mb-3">
                        <button onclick="switchCharacterTab('traits')" id="char-tab-traits" class="flex-1 py-2 px-4 rounded-lg font-bold text-sm bg-slate-900 text-white">
                            My Traits
                        </button>
                        <button onclick="switchCharacterTab('assessment')" id="char-tab-assessment" class="flex-1 py-2 px-4 rounded-lg font-bold text-sm bg-slate-100 text-slate-700">
                            Assessment
                        </button>
                    </div>

                    <!-- Traits Tab -->
                    <div id="character-traits-content">
                        <div id="character-traits-list" class="space-y-3 mb-4">
                            <!-- Character traits will be loaded here by JS -->
                        </div>
                        
                        <button onclick="showAddCharacterTrait()" class="w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 px-4 rounded-xl font-bold text-sm">
                            <i class="fa-solid fa-plus"></i> Add Character Goal
                        </button>
                    </div>

                    <!-- Assessment Tab -->
                    <div id="character-assessment-content" style="display: none;">
                        <div class="mb-4">
                            <h3 class="font-bold text-sm text-slate-800 mb-3">Weekly Self-Assessment</h3>
                            <div class="space-y-3">
                                <div>
                                    <label class="text-xs font-bold text-slate-600 block mb-1">How would you rate your growth this week? (1-10)</label>
                                    <input type="number" id="assess-growth" min="1" max="10" class="input-field" placeholder="1-10">
                                </div>
                                <div>
                                    <label class="text-xs font-bold text-slate-600 block mb-1">Which character trait did you display most?</label>
                                    <input type="text" id="assess-trait" class="input-field" placeholder="e.g., Patience">
                                </div>
                                <div>
                                    <label class="text-xs font-bold text-slate-600 block mb-1">What area would you like to improve next week?</label>
                                    <textarea id="assess-improve" class="textarea-field" style="min-height: 60px;" placeholder="Focus area for improvement..."></textarea>
                                </div>
                                <div>
                                    <label class="text-xs font-bold text-slate-600 block mb-1">What challenges did you face and how did you respond?</label>
                                    <textarea id="assess-challenges" class="textarea-field" style="min-height: 60px;" placeholder="Challenges and responses..."></textarea>
                                </div>
                                <div>
                                    <label class="text-xs font-bold text-slate-600 block mb-1">What are you most grateful for this week?</label>
                                    <textarea id="assess-gratitude" class="textarea-field" style="min-height: 60px;" placeholder="Gratitude reflection..."></textarea>
                                </div>
                            </div>
                            <button onclick="saveWeeklyAssessment()" class="btn-primary mt-4">Save Assessment</button>
                        </div>

                        <div class="p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl mb-4">
                            <p class="font-bold text-sm text-emerald-900 mb-2">ðŸ“Š Growth Metrics</p>
                            <div id="growth-metrics">
                                <p class="text-xs text-emerald-700">Complete an assessment to see your growth metrics</p>
                            </div>
                        </div>

                        <div>
                            <p class="font-bold text-sm text-slate-800 mb-3">Past Assessments</p>
                            <div id="past-assessments-list" class="space-y-2">
                                <!-- Past assessments will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-book-open text-blue-500"></i>
                    How to Form Habits
                </div>
                <div class="space-y-3">
                    <div class="p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                        <p class="font-bold text-sm text-blue-900 mb-1">ðŸŽ¯ Start Small</p>
                        <p class="text-xs text-blue-800">Begin with tiny habits that take less than 2 minutes. Want to read more? Start with just 2 pages daily. Build from there.</p>
                    </div>
                    <div class="p-3 bg-green-50 rounded-lg border-l-4 border-green-500">
                        <p class="font-bold text-sm text-green-900 mb-1">ðŸ”— Stack Habits</p>
                        <p class="text-xs text-green-800">Link new habits to existing ones. "After I brush my teeth, I will do 10 pushups." Use your current routine as triggers.</p>
                    </div>
                    <div class="p-3 bg-purple-50 rounded-lg border-l-4 border-purple-500">
                        <p class="font-bold text-sm text-purple-900 mb-1">ðŸ“… Be Consistent</p>
                        <p class="text-xs text-purple-800">Same time, same place. Consistency builds neural pathways. Don't aim for perfect - aim for consistent.</p>
                    </div>
                    <div class="p-3 bg-amber-50 rounded-lg border-l-4 border-amber-500">
                        <p class="font-bold text-sm text-amber-900 mb-1">ðŸŽ‰ Celebrate Wins</p>
                        <p class="text-xs text-amber-800">Acknowledge your progress immediately after completing the habit. Positive reinforcement rewires your brain.</p>
                    </div>
                    <div class="p-3 bg-rose-50 rounded-lg border-l-4 border-rose-500">
                        <p class="font-bold text-sm text-rose-900 mb-1">â±ï¸ The 66-Day Rule</p>
                        <p class="text-xs text-rose-800">Research shows it takes an average of 66 days to form a new habit. Be patient with yourself during the formation phase!</p>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-chart-line text-slate-500"></i>
                    Streak Stats
                </div>
                <div id="habit-stats" class="grid grid-cols-2 gap-3">
                    <div class="text-center p-3 bg-slate-50 rounded-xl">
                        <p class="text-2xl font-black text-emerald-600" id="total-habits">0</p>
                        <p class="text-xs text-slate-500 font-bold">Active Habits</p>
                    </div>
                    <div class="text-center p-3 bg-slate-50 rounded-xl">
                        <p class="text-2xl font-black text-emerald-600" id="completed-today">0</p>
                        <p class="text-xs text-slate-500 font-bold">Done Today</p>
                    </div>
                </div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Goals Page -->
    <div id="goals-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-slate-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">GOALS</h1>
                        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Vision & Targets</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-red-600 flex items-center justify-center">
                    <i class="fa-solid fa-bullseye"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-star text-amber-500"></i>
                    SMART Goal Framework
                </div>
                <div class="space-y-2 text-xs text-slate-600">
                    <p><strong>S</strong>pecific: Clearly defined and focused</p>
                    <p><strong>M</strong>easurable: Track progress with numbers</p>
                    <p><strong>A</strong>chievable: Realistic but challenging</p>
                    <p><strong>R</strong>elevant: Aligned with your values</p>
                    <p><strong>T</strong>ime-bound: Has a deadline</p>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-plus text-red-600"></i>
                    Create New Goal
                </div>
                <input id="goal-title" class="input-field mb-3" placeholder="Goal title (e.g., Run 5K in under 30 minutes)">
                <input id="goal-deadline" class="input-field mb-3" type="date">
                <textarea id="goal-action-steps" class="textarea-field" placeholder="Action steps to achieve this goal..."></textarea>
                <div class="mb-3">
                    <label class="text-xs font-bold text-slate-600 block mb-2">Category</label>
                    <select id="goal-category" class="input-field">
                        <option value="fitness">Fitness</option>
                        <option value="career">Career</option>
                        <option value="spiritual">Spiritual</option>
                        <option value="financial">Financial</option>
                        <option value="personal">Personal Growth</option>
                        <option value="relationships">Relationships</option>
                    </select>
                </div>
                <button onclick="saveGoal()" class="btn-primary mt-4">Create Goal</button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-list-check text-slate-500"></i>
                    Active Goals
                </div>
                <div id="goals-list"></div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Wellness Page -->
    <div id="wellness-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-slate-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">WELLNESS</h1>
                        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Mind & Body Care</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-cyan-600 flex items-center justify-center">
                    <i class="fa-solid fa-spa"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-bed text-indigo-500"></i>
                    Sleep Tracker
                </div>
                <div class="grid grid-cols-2 gap-3 mb-3">
                    <input id="sleep-hours" class="input-field" type="number" placeholder="Hours slept" step="0.5">
                    <select id="sleep-quality" class="input-field">
                        <option value="">Quality</option>
                        <option value="excellent">Excellent</option>
                        <option value="good">Good</option>
                        <option value="fair">Fair</option>
                        <option value="poor">Poor</option>
                    </select>
                </div>
                <button onclick="logSleep()" class="btn-primary">Log Sleep</button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-droplet text-blue-500"></i>
                    Water Intake
                </div>
                <div class="flex items-center gap-3 mb-3">
                    <div class="flex-1">
                        <div class="text-center p-4 bg-slate-50 rounded-xl">
                            <p class="text-3xl font-black text-cyan-600" id="water-count">0</p>
                            <p class="text-xs text-slate-500 font-bold">Glasses Today</p>
                        </div>
                    </div>
                    <div class="flex flex-col gap-2">
                        <button onclick="addWater()" class="w-12 h-12 bg-cyan-500 text-white rounded-xl font-black text-xl">+</button>
                        <button onclick="removeWater()" class="w-12 h-12 bg-slate-200 text-slate-600 rounded-xl font-black text-xl">-</button>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-brain text-purple-500"></i>
                    Mindfulness & Meditation
                </div>
                <div class="space-y-2 text-sm">
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Box Breathing</p>
                        <p class="text-xs text-amber-900">Breathe in (4s) â†’ Hold (4s) â†’ Out (4s) â†’ Hold (4s)</p>
                    </div>
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">5-Minute Meditation</p>
                        <p class="text-xs text-amber-900">Sit quietly, focus on breath, notice thoughts without judgment.</p>
                    </div>
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Body Scan</p>
                        <p class="text-xs text-amber-900">Notice tension from head to toe, consciously relax each part.</p>
                    </div>
                </div>
                <input id="meditation-minutes" class="input-field mt-3" type="number" placeholder="Minutes meditated">
                <button onclick="logMeditation()" class="btn-primary mt-3">Log Session</button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-clock-rotate-left text-slate-500"></i>
                    Wellness Log
                </div>
                <div id="wellness-entries"></div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Learning Page -->
    <div id="learning-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-slate-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">LEARN</h1>
                        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Continuous Growth</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center">
                    <i class="fa-solid fa-brain"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <!-- Learning Navigation Tabs -->
            <div class="flex gap-2 mb-4 overflow-x-auto pb-2" style="scrollbar-width: none;">
                <button class="learning-tab active" onclick="switchLearningTab('library')" id="learning-tab-library">
                    <i class="fa-solid fa-book"></i> Library
                </button>
                <button class="learning-tab" onclick="switchLearningTab('reading')" id="learning-tab-reading">
                    <i class="fa-solid fa-bookmark"></i> Reading
                </button>
                <button class="learning-tab" onclick="switchLearningTab('quotes')" id="learning-tab-quotes">
                    <i class="fa-solid fa-quote-left"></i> Quotes
                </button>
                <button class="learning-tab" onclick="switchLearningTab('skills')" id="learning-tab-skills">
                    <i class="fa-solid fa-graduation-cap"></i> Skills
                </button>
            </div>

            <!-- Library Tab Content -->
            <div id="learning-library-content" class="learning-tab-content">
                <!-- Reading Goals -->
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-bullseye text-purple-500"></i>
                        Reading Goals 2026
                    </div>
                    <div class="grid grid-cols-3 gap-3 mb-4">
                        <div class="text-center p-4 bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl">
                            <p class="text-3xl font-black text-purple-600" id="books-read-count">0</p>
                            <p class="text-xs font-bold text-purple-800">Books Read</p>
                        </div>
                        <div class="text-center p-4 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl">
                            <p class="text-3xl font-black text-blue-600" id="books-goal-count">24</p>
                            <p class="text-xs font-bold text-blue-800">Annual Goal</p>
                        </div>
                        <div class="text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl">
                            <p class="text-3xl font-black text-green-600" id="pages-read-total">0</p>
                            <p class="text-xs font-bold text-green-800">Pages Read</p>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="flex justify-between items-center mb-2">
                            <p class="text-sm font-bold text-slate-700">Annual Progress</p>
                            <p class="text-sm font-bold text-purple-600"><span id="goal-percentage">0</span>%</p>
                        </div>
                        <div class="h-3 bg-slate-200 rounded-full overflow-hidden">
                            <div id="goal-progress-bar" class="h-full bg-gradient-to-r from-purple-500 to-indigo-600 transition-all duration-500" style="width: 0%"></div>
                        </div>
                    </div>
                    <button onclick="showSetGoalModal()" class="btn-primary text-sm">
                        <i class="fa-solid fa-target"></i> Update Goal
                    </button>
                </div>

                <!-- Book Search -->
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-search text-blue-500"></i>
                        Search Books
                    </div>
                    <p class="text-sm text-slate-600 mb-3">Search millions of books from Google Books</p>
                    <div class="flex gap-2 mb-3">
                        <input type="text" id="book-search-input" class="input-field flex-1" placeholder="Search by title, author, or ISBN..." onkeypress="if(event.key === 'Enter') searchBooks()">
                        <button onclick="searchBooks()" class="bg-blue-600 text-white px-6 rounded-xl font-bold text-sm">
                            <i class="fa-solid fa-search"></i>
                        </button>
                    </div>
                    <div id="book-search-results" class="max-h-96 overflow-y-auto rounded-xl border border-slate-200" style="display: none;">
                        <!-- Search results will appear here -->
                    </div>
                </div>

                <!-- Virtual Bookshelf -->
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-bookshelf text-amber-500"></i>
                        My Bookshelf
                    </div>
                    <div class="flex gap-2 mb-4 overflow-x-auto pb-2">
                        <button onclick="filterBooks('all')" id="filter-all" class="px-4 py-2 rounded-lg text-sm font-bold bg-slate-900 text-white">
                            All
                        </button>
                        <button onclick="filterBooks('reading')" id="filter-reading" class="px-4 py-2 rounded-lg text-sm font-bold bg-slate-100 text-slate-700">
                            Reading
                        </button>
                        <button onclick="filterBooks('completed')" id="filter-completed" class="px-4 py-2 rounded-lg text-sm font-bold bg-slate-100 text-slate-700">
                            Completed
                        </button>
                        <button onclick="filterBooks('wishlist')" id="filter-wishlist" class="px-4 py-2 rounded-lg text-sm font-bold bg-slate-100 text-slate-700">
                            Wishlist
                        </button>
                    </div>
                    <div id="bookshelf-grid" class="grid grid-cols-2 gap-4 mb-4">
                        <!-- Books will be loaded here -->
                        <p class="col-span-2 text-sm text-slate-500 text-center py-8">No books in your library yet. Search and add some!</p>
                    </div>
                </div>

                <!-- Book Recommendations -->
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-star text-yellow-500"></i>
                        Recommended for You
                    </div>
                    <p class="text-sm text-slate-600 mb-3">Based on your interests</p>
                    <div id="recommendations-list" class="space-y-3">
                        <!-- Recommendations will be loaded here -->
                    </div>
                    <button onclick="loadRecommendations()" class="btn-primary mt-3 text-sm">
                        <i class="fa-solid fa-refresh"></i> Refresh Recommendations
                    </button>
                </div>
            </div>

            <!-- Reading Tab Content -->
            <div id="learning-reading-content" class="learning-tab-content" style="display: none;">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-book-open text-purple-500"></i>
                        Currently Reading
                    </div>
                    <div id="currently-reading-list" class="space-y-3 mb-4">
                        <p class="text-sm text-slate-500 text-center py-4">No books in progress</p>
                    </div>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-chart-line text-green-500"></i>
                        Reading Statistics
                    </div>
                    <div class="grid grid-cols-2 gap-3">
                        <div class="text-center p-4 bg-slate-50 rounded-xl">
                            <p class="text-2xl font-black text-slate-900" id="avg-pages-per-day">0</p>
                            <p class="text-xs font-bold text-slate-600">Avg Pages/Day</p>
                        </div>
                        <div class="text-center p-4 bg-slate-50 rounded-xl">
                            <p class="text-2xl font-black text-slate-900" id="reading-streak">0</p>
                            <p class="text-xs font-bold text-slate-600">Day Streak</p>
                        </div>
                        <div class="text-center p-4 bg-slate-50 rounded-xl">
                            <p class="text-2xl font-black text-slate-900" id="total-books-read">0</p>
                            <p class="text-xs font-bold text-slate-600">Total Books</p>
                        </div>
                        <div class="text-center p-4 bg-slate-50 rounded-xl">
                            <p class="text-2xl font-black text-slate-900" id="reading-time-total">0</p>
                            <p class="text-xs font-bold text-slate-600">Hours Read</p>
                        </div>
                    </div>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-calendar-check text-blue-500"></i>
                        Reading History
                    </div>
                    <div id="reading-history-list" class="space-y-2">
                        <p class="text-sm text-slate-500 text-center py-4">No reading sessions logged</p>
                    </div>
                </div>
            </div>

            <!-- Quotes Tab Content -->
            <div id="learning-quotes-content" class="learning-tab-content" style="display: none;">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-plus text-purple-500"></i>
                        Save Quote/Highlight
                    </div>
                    <input type="text" id="quote-book-title" class="input-field mb-3" placeholder="Book title">
                    <textarea id="quote-text" class="textarea-field mb-3" placeholder="Quote or highlight..."></textarea>
                    <input type="text" id="quote-page" class="input-field mb-3" placeholder="Page number (optional)">
                    <button onclick="saveQuote()" class="btn-primary">Save Quote</button>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-quote-left text-amber-500"></i>
                        My Highlights & Quotes
                    </div>
                    <div id="quotes-list" class="space-y-3">
                        <p class="text-sm text-slate-500 text-center py-4">No quotes saved yet</p>
                    </div>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-lightbulb text-yellow-500"></i>
                        Random Inspiration
                    </div>
                    <div id="random-quote-display" class="quote-card">
                        <p class="text-sm font-medium text-amber-900 italic mb-2">"The more that you read, the more things you will know. The more that you learn, the more places you'll go."</p>
                        <p class="text-xs font-bold text-amber-800">â€” Dr. Seuss</p>
                    </div>
                    <button onclick="showRandomQuote()" class="btn-primary text-sm">
                        <i class="fa-solid fa-shuffle"></i> Show Another
                    </button>
                </div>
            </div>

            <!-- Skills Tab Content -->
            <div id="learning-skills-content" class="learning-tab-content" style="display: none;">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-graduation-cap text-indigo-500"></i>
                        Skills I'm Learning
                    </div>
                    <input id="skill-name" class="input-field mb-3" placeholder="Skill (e.g., Spanish, Piano, Coding)">
                    <input id="practice-time" class="input-field mb-3" type="number" placeholder="Minutes practiced">
                    <textarea id="skill-notes" class="textarea-field" placeholder="What did I practice? What did I learn?"></textarea>
                    <button onclick="logSkill()" class="btn-primary mt-4">Log Practice</button>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-lightbulb text-yellow-500"></i>
                        Learning Tips
                    </div>
                    <div class="space-y-2 text-sm">
                        <div class="tip-card">
                            <p class="font-bold text-amber-800 mb-1">Spaced Repetition</p>
                            <p class="text-xs text-amber-900">Review material at increasing intervals for better retention.</p>
                        </div>
                        <div class="tip-card">
                            <p class="font-bold text-amber-800 mb-1">Active Recall</p>
                            <p class="text-xs text-amber-900">Test yourself instead of re-reading. Struggle strengthens memory.</p>
                        </div>
                        <div class="tip-card">
                            <p class="font-bold text-amber-800 mb-1">Teach Others</p>
                            <p class="text-xs text-amber-900">The best way to learn is to teach what you've learned.</p>
                        </div>
                    </div>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-list text-slate-500"></i>
                        Practice Log
                    </div>
                    <div id="learning-entries"></div>
                </div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Book Reader Container -->
    <div id="book-reader-container" class="book-reader-container">
        <div class="reader-controls">
            <div class="flex justify-between items-center">
                <button onclick="closeBookReader()" class="text-slate-600 hover:text-slate-900">
                    <i class="fa-solid fa-arrow-left"></i> Back to Library
                </button>
                <h3 id="reader-book-title" class="font-bold text-sm text-slate-900"></h3>
                <button onclick="toggleReaderSettings()" class="text-slate-600 hover:text-slate-900">
                    <i class="fa-solid fa-gear"></i>
                </button>
            </div>
        </div>
        <div id="book-reader-content" class="p-6 max-w-3xl mx-auto">
            <!-- Book content will be loaded here -->
        </div>
    </div>

    <!-- Finance Page -->
    <div id="finance-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-slate-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">FINANCE</h1>
                        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Wealth Building</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-green-600 flex items-center justify-center">
                    <i class="fa-solid fa-wallet"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-piggy-bank text-green-500"></i>
                    Money Saved Today
                </div>
                <div class="grid grid-cols-2 gap-3">
                    <input id="savings-amount" class="input-field" type="number" placeholder="Amount">
                    <select id="savings-category" class="input-field">
                        <option value="emergency">Emergency Fund</option>
                        <option value="investment">Investment</option>
                        <option value="goal">Savings Goal</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <textarea id="savings-notes" class="textarea-field mt-3" placeholder="What did I save for?"></textarea>
                <button onclick="logSavings()" class="btn-primary mt-4">Log Savings</button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-chart-line text-emerald-500"></i>
                    Financial Wisdom
                </div>
                <div class="space-y-2 text-sm">
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Pay Yourself First</p>
                        <p class="text-xs text-amber-900">Save before you spend. Automate 10-20% to savings.</p>
                    </div>
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">50/30/20 Rule</p>
                        <p class="text-xs text-amber-900">50% needs, 30% wants, 20% savings & debt.</p>
                    </div>
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Avoid Lifestyle Inflation</p>
                        <p class="text-xs text-amber-900">When income rises, save the difference, don't spend it all.</p>
                    </div>
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Invest for Long-Term</p>
                        <p class="text-xs text-amber-900">Time in the market beats timing the market.</p>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-book-open text-green-600"></i>
                    Financial Learning
                </div>
                <textarea id="finance-learning" class="textarea-field" placeholder="What did I learn about money today? Books, podcasts, insights..."></textarea>
                <button onclick="saveFinanceLearning()" class="btn-primary mt-4">Save Learning</button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-history text-slate-500"></i>
                    Finance Log
                </div>
                <div id="finance-entries"></div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Productivity/Focus Page -->
    <div id="productivity-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-slate-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">FOCUS</h1>
                        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Deep Work</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center">
                    <i class="fa-solid fa-clock"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-list-check text-indigo-500"></i>
                    Today's Top 3 Priorities
                </div>
                <input id="priority-1" class="input-field mb-3" placeholder="Priority #1 (Most Important)">
                <input id="priority-2" class="input-field mb-3" placeholder="Priority #2">
                <input id="priority-3" class="input-field mb-3" placeholder="Priority #3">
                <button onclick="savePriorities()" class="btn-primary">Set Priorities</button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-stopwatch text-orange-500"></i>
                    Pomodoro Timer
                </div>
                <div class="text-center mb-4">
                    <p class="text-5xl font-black text-indigo-600" id="timer-display">25:00</p>
                    <p class="text-xs text-slate-500 font-bold mt-2" id="timer-status">Ready to focus</p>
                </div>
                <div class="grid grid-cols-2 gap-3">
                    <button onclick="startPomodoro()" class="btn-primary" id="start-btn">Start Focus</button>
                    <button onclick="resetPomodoro()" class="btn-primary" style="background: #e2e8f0; color: #64748b;">Reset</button>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-brain text-purple-500"></i>
                    Deep Work Session
                </div>
                <input id="deep-work-task" class="input-field mb-3" placeholder="What did you work on?">
                <input id="deep-work-duration" class="input-field mb-3" type="number" placeholder="Minutes of deep work">
                <textarea id="deep-work-notes" class="textarea-field" placeholder="What did you accomplish?"></textarea>
                <button onclick="logDeepWork()" class="btn-primary mt-4">Log Session</button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-lightbulb text-yellow-500"></i>
                    Productivity Principles
                </div>
                <div class="space-y-2 text-sm">
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Eat the Frog</p>
                        <p class="text-xs text-amber-900">Do your hardest task first thing in the morning.</p>
                    </div>
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Time Blocking</p>
                        <p class="text-xs text-amber-900">Schedule specific blocks for specific tasks. Protect that time.</p>
                    </div>
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Single-Tasking</p>
                        <p class="text-xs text-amber-900">Multitasking is a myth. Focus on one thing at a time.</p>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-chart-simple text-slate-500"></i>
                    Productivity Stats
                </div>
                <div class="grid grid-cols-2 gap-3">
                    <div class="text-center p-3 bg-slate-50 rounded-xl">
                        <p class="text-2xl font-black text-indigo-600" id="focus-sessions">0</p>
                        <p class="text-xs text-slate-500 font-bold">Sessions Today</p>
                    </div>
                    <div class="text-center p-3 bg-slate-50 rounded-xl">
                        <p class="text-2xl font-black text-indigo-600" id="focus-minutes">0</p>
                        <p class="text-xs text-slate-500 font-bold">Minutes</p>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-list text-slate-500"></i>
                    Focus Log
                </div>
                <div id="productivity-entries"></div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Journal Page -->
    <div id="journal-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-slate-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">JOURNAL</h1>
                        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Daily Reflection</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-slate-600 flex items-center justify-center">
                    <i class="fa-solid fa-pen-nib"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <!-- Journal Type Selector -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-book text-slate-600"></i>
                    JOURNAL TYPE
                </div>
                <div class="grid grid-cols-3 gap-2">
                    <button onclick="switchJournalType('daily')" id="journal-type-daily" class="p-3 bg-slate-900 text-white rounded-lg font-bold text-xs transition active:scale-95">
                        <i class="fa-solid fa-pen-nib mb-1 block"></i>
                        Daily
                    </button>
                    <button onclick="switchJournalType('prayer')" id="journal-type-prayer" class="p-3 bg-slate-50 text-slate-700 rounded-lg font-bold text-xs border-2 border-slate-200 transition active:scale-95">
                        <i class="fa-solid fa-hands-praying mb-1 block"></i>
                        Prayer
                    </button>
                    <button onclick="switchJournalType('dream')" id="journal-type-dream" class="p-3 bg-slate-50 text-slate-700 rounded-lg font-bold text-xs border-2 border-slate-200 transition active:scale-95">
                        <i class="fa-solid fa-moon mb-1 block"></i>
                        Dreams
                    </button>
                </div>
            </div>

            <!-- Daily Journal (default) -->
            <div id="daily-journal-section">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-lightbulb text-amber-500"></i>
                        Journaling Prompts
                    </div>
                    <div class="space-y-2 text-sm">
                        <p class="text-slate-600">â€¢ What am I grateful for today?</p>
                        <p class="text-slate-600">â€¢ What challenged me and how did I respond?</p>
                        <p class="text-slate-600">â€¢ What did I learn about myself?</p>
                        <p class="text-slate-600">â€¢ What's one thing I can improve tomorrow?</p>
                    </div>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-pen text-slate-600"></i>
                        Today's Entry
                    </div>
                    <input id="journal-title" class="input-field mb-3" placeholder="Entry title...">
                    <textarea id="journal-body" class="textarea-field" style="min-height: 200px;" placeholder="Write your thoughts, feelings, experiences..."></textarea>
                    <button onclick="saveJournalEntry()" class="btn-primary mt-4">Save Entry</button>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-book-open text-slate-500"></i>
                        Journal Entries
                    </div>
                    <div id="journal-entries"></div>
                </div>
            </div>

            <!-- Prayer Journal -->
            <div id="prayer-journal-section" style="display: none;">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-hands-praying text-blue-600"></i>
                        PRAYER JOURNAL
                    </div>
                    <p class="text-sm text-slate-600 mb-3">Document your prayer life and witness God's faithfulness</p>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-plus text-blue-600"></i>
                        New Prayer Entry
                    </div>
                    <input id="prayer-journal-title" class="input-field mb-3" placeholder="Prayer topic or person...">
                    <textarea id="prayer-journal-body" class="textarea-field mb-3" style="min-height: 150px;" placeholder="What are you praying for? Include specific requests, scripture references, or thoughts..."></textarea>
                    
                    <!-- Prayer Tags -->
                    <div class="mb-3">
                        <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-2">Prayer Category</p>
                        <div class="flex flex-wrap gap-2">
                            <button onclick="togglePrayerTag('healing')" class="prayer-tag px-3 py-1 bg-slate-50 border-2 border-slate-200 rounded-lg text-xs font-bold text-slate-700 transition active:scale-95">
                                Healing
                            </button>
                            <button onclick="togglePrayerTag('guidance')" class="prayer-tag px-3 py-1 bg-slate-50 border-2 border-slate-200 rounded-lg text-xs font-bold text-slate-700 transition active:scale-95">
                                Guidance
                            </button>
                            <button onclick="togglePrayerTag('provision')" class="prayer-tag px-3 py-1 bg-slate-50 border-2 border-slate-200 rounded-lg text-xs font-bold text-slate-700 transition active:scale-95">
                                Provision
                            </button>
                            <button onclick="togglePrayerTag('family')" class="prayer-tag px-3 py-1 bg-slate-50 border-2 border-slate-200 rounded-lg text-xs font-bold text-slate-700 transition active:scale-95">
                                Family
                            </button>
                            <button onclick="togglePrayerTag('salvation')" class="prayer-tag px-3 py-1 bg-slate-50 border-2 border-slate-200 rounded-lg text-xs font-bold text-slate-700 transition active:scale-95">
                                Salvation
                            </button>
                        </div>
                    </div>

                    <button onclick="savePrayerJournal()" class="btn-primary">
                        <i class="fa-solid fa-plus mr-2"></i>Save Prayer Entry
                    </button>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-book-open text-blue-600"></i>
                        Prayer History
                    </div>
                    <div id="prayer-journal-entries"></div>
                </div>
            </div>

            <!-- Dream Journal -->
            <div id="dream-journal-section" style="display: none;">
                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-moon text-indigo-600"></i>
                        DREAM JOURNAL
                    </div>
                    <p class="text-sm text-slate-600 mb-3">Capture dreams immediately upon waking and discover patterns</p>
                    <div class="premium-badge inline-block">
                        <i class="fa-solid fa-crown mr-1"></i>PREMIUM
                    </div>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-plus text-indigo-600"></i>
                        Record Dream
                    </div>
                    <input id="dream-journal-title" class="input-field mb-3" placeholder="Dream title or theme...">
                    <textarea id="dream-journal-body" class="textarea-field mb-3" style="min-height: 200px;" placeholder="Describe your dream in as much detail as you can remember..."></textarea>
                    
                    <!-- Dream Emotions -->
                    <div class="mb-3">
                        <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-2">How did you feel?</p>
                        <div class="flex flex-wrap gap-2">
                            <button onclick="toggleDreamEmotion('peaceful')" class="dream-emotion px-3 py-1 bg-slate-50 border-2 border-slate-200 rounded-lg text-xs font-bold text-slate-700 transition active:scale-95">
                                ðŸ˜Œ Peaceful
                            </button>
                            <button onclick="toggleDreamEmotion('scared')" class="dream-emotion px-3 py-1 bg-slate-50 border-2 border-slate-200 rounded-lg text-xs font-bold text-slate-700 transition active:scale-95">
                                ðŸ˜° Scared
                            </button>
                            <button onclick="toggleDreamEmotion('excited')" class="dream-emotion px-3 py-1 bg-slate-50 border-2 border-slate-200 rounded-lg text-xs font-bold text-slate-700 transition active:scale-95">
                                ðŸ¤© Excited
                            </button>
                            <button onclick="toggleDreamEmotion('confused')" class="dream-emotion px-3 py-1 bg-slate-50 border-2 border-slate-200 rounded-lg text-xs font-bold text-slate-700 transition active:scale-95">
                                ðŸ˜• Confused
                            </button>
                            <button onclick="toggleDreamEmotion('sad')" class="dream-emotion px-3 py-1 bg-slate-50 border-2 border-slate-200 rounded-lg text-xs font-bold text-slate-700 transition active:scale-95">
                                ðŸ˜¢ Sad
                            </button>
                        </div>
                    </div>

                    <!-- Recurring Themes -->
                    <div class="mb-3">
                        <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-2">Tag Recurring Themes</p>
                        <input id="dream-tags-input" class="input-field" placeholder="e.g., flying, water, family, school (comma separated)">
                    </div>

                    <button onclick="saveDreamJournal()" class="btn-primary">
                        <i class="fa-solid fa-plus mr-2"></i>Save Dream
                    </button>
                </div>

                <!-- AI Interpretation (Premium) -->
                <div class="content-card premium-feature">
                    <div class="section-title">
                        <i class="fa-solid fa-sparkles text-amber-600"></i>
                        AI DREAM INTERPRETATION
                    </div>
                    <p class="text-sm text-slate-700 mb-3">Get AI-powered insights into your dreams and discover hidden meanings</p>
                    <button onclick="interpretLastDream()" class="w-full p-3 bg-gradient-to-r from-amber-600 to-amber-500 text-white rounded-lg font-bold text-sm hover:opacity-90 transition active:scale-95">
                        <i class="fa-solid fa-wand-magic-sparkles mr-2"></i>Interpret Latest Dream
                    </button>
                </div>

                <!-- Pattern Analysis (Premium) -->
                <div class="content-card premium-feature">
                    <div class="section-title">
                        <i class="fa-solid fa-chart-line text-amber-600"></i>
                        PATTERN ANALYSIS
                    </div>
                    <p class="text-sm text-slate-700 mb-3">Discover recurring themes, emotions, and symbols in your dreams over time</p>
                    <button onclick="analyzeDreamPatterns()" class="w-full p-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-bold text-sm hover:opacity-90 transition active:scale-95">
                        <i class="fa-solid fa-brain mr-2"></i>Analyze Dream Patterns
                    </button>
                </div>

                <div class="content-card">
                    <div class="section-title">
                        <i class="fa-solid fa-book-open text-indigo-600"></i>
                        Dream History
                    </div>
                    <div id="dream-journal-entries"></div>
                </div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Gratitude View Page -->
    <div id="gratitude-view-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-slate-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">GRATITUDE</h1>
                        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Your Blessings</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-rose-600 flex items-center justify-center">
                    <i class="fa-solid fa-heart"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-sparkles text-amber-500"></i>
                    My Gratitude List
                </div>
                <div id="gratitude-entries"></div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

   <!-- Add this to the AI Coach page, replacing the existing AI Coach section -->

<!-- AI Coach Page -->
<div id="ai-coach-view" class="page-view">
    <header class="glass-header text-white p-8 shadow-2xl" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
        <div class="flex justify-between items-center mb-4">
            <div class="flex items-center gap-3">
                <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-amber-800 flex items-center justify-center">
                    <i class="fa-solid fa-arrow-left text-amber-300"></i>
                </button>
                <div>
                    <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">AI LIFE COACH</h1>
                    <p class="text-[10px] text-amber-200 font-bold uppercase tracking-widest">24/7 Intelligent Support</p>
                </div>
            </div>
            <div class="w-10 h-10 rounded-full bg-amber-600 flex items-center justify-center">
                <i class="fa-solid fa-robot"></i>
            </div>
        </div>
    </header>

    <main class="p-5 -mt-6">
        <!-- AI Insights Dashboard -->
        <div class="content-card mb-6">
            <div class="section-title">
                <i class="fa-solid fa-chart-line text-purple-600"></i>
                AI INSIGHTS
            </div>
            <div id="ai-insights-container" class="space-y-3">
                <!-- Insights will be loaded here -->
            </div>
            <button onclick="refreshAIInsights()" class="w-full mt-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-2 rounded-lg text-sm font-bold">
                <i class="fa-solid fa-refresh mr-2"></i>Generate New Insights
            </button>
        </div>

        <!-- Personalized Recommendations -->
        <div class="content-card mb-6">
            <div class="section-title">
                <i class="fa-solid fa-lightbulb text-amber-600"></i>
                TODAY'S RECOMMENDATIONS
            </div>
            <div id="recommendations-container" class="space-y-2">
                <!-- Recommendations will be loaded here -->
            </div>
        </div>

        <!-- Predictive Analytics -->
        <div class="content-card mb-6">
            <div class="section-title">
                <i class="fa-solid fa-crystal-ball text-indigo-600"></i>
                PREDICTIVE ANALYTICS
            </div>
            <div id="predictions-container" class="space-y-3">
                <!-- Predictions will be loaded here -->
            </div>
        </div>

        <!-- Chat with AI Coach -->
        <div class="content-card">
            <div class="section-title">
                <i class="fa-solid fa-comments text-amber-600"></i>
                Chat with Your AI Coach
            </div>
            <div id="ai-chat-messages" class="space-y-3 mb-4" style="max-height: 400px; overflow-y: auto;">
                <div class="p-3 bg-amber-50 rounded-xl border border-amber-200">
                    <p class="text-sm font-bold text-amber-800 mb-1">AI Coach</p>
                    <p class="text-sm text-slate-700">Hello! I've analyzed your patterns and I'm ready to help. What would you like to discuss today?</p>
                </div>
            </div>
            <div class="flex gap-2">
                <input id="ai-coach-input" class="input-field flex-1" placeholder="Ask anything..." onkeypress="if(event.key==='Enter') sendAICoachMessage()">
                <button onclick="sendAICoachMessage()" class="w-12 h-12 rounded-xl bg-amber-600 text-white flex items-center justify-center" id="send-btn">
                    <i class="fa-solid fa-paper-plane"></i>
                </button>
            </div>
        </div>

        <!-- Quick Topics (Enhanced) -->
        <div class="content-card">
            <div class="section-title">
                <i class="fa-solid fa-bolt text-amber-500"></i>
                Quick Topics
            </div>
            <div class="grid grid-cols-2 gap-2">
                <button onclick="quickAIPrompt('Analyze my patterns')" class="p-3 bg-purple-50 rounded-xl text-xs font-bold text-purple-800 border border-purple-200">ðŸ“Š Pattern Analysis</button>
                <button onclick="quickAIPrompt('Give me motivation')" class="p-3 bg-blue-50 rounded-xl text-xs font-bold text-blue-800 border border-blue-200">ðŸ’ª Motivation</button>
                <button onclick="quickAIPrompt('Suggest improvements')" class="p-3 bg-green-50 rounded-xl text-xs font-bold text-green-800 border border-green-200">ðŸ“ˆ Improve</button>
                <button onclick="quickAIPrompt('Plan my day')" class="p-3 bg-amber-50 rounded-xl text-xs font-bold text-amber-800 border border-amber-200">ðŸ“… Daily Plan</button>
                <button onclick="quickAIPrompt('Habit advice')" class="p-3 bg-rose-50 rounded-xl text-xs font-bold text-rose-800 border border-rose-200">ðŸ” Habits</button>
                <button onclick="quickAIPrompt('Stress management')" class="p-3 bg-cyan-50 rounded-xl text-xs font-bold text-cyan-800 border border-cyan-200">ðŸ˜Œ De-stress</button>
            </div>
        </div>
    </main>
    
    <button onclick="scrollToTop()" class="fab-button">
        <i class="fa-solid fa-arrow-up text-xl"></i>
    </button>
</div>

<script>
// ===== AI COACH ENHANCED FUNCTIONS =====

// Generate AI Insights based on user data
function generateAIInsights() {
    const moods = JSON.parse(localStorage.getItem('moodHistory') || '[]');
    const gymEntries = JSON.parse(localStorage.getItem('gymEntries') || '[]');
    const productivity = JSON.parse(localStorage.getItem('productivityEntries') || '[]');
    const habits = JSON.parse(localStorage.getItem('habitCompletions') || '{}');
    
    const insights = [];
    
    // Mood-Exercise correlation
    if (moods.length > 5 && gymEntries.length > 5) {
        const daysWithExercise = new Set(gymEntries.map(e => new Date(e.timestamp).toDateString()));
        const moodsWithExercise = moods.filter(m => daysWithExercise.has(new Date(m.timestamp).toDateString()));
        
        const happyWithExercise = moodsWithExercise.filter(m => ['happy', 'amazing'].includes(m.mood)).length;
        const happyPercentage = Math.round((happyWithExercise / moodsWithExercise.length) * 100);
        
        if (happyPercentage > 50) {
            insights.push({
                icon: 'ðŸ’ª',
                color: 'green',
                text: `Your mood improves ${happyPercentage}% on days you exercise`,
                type: 'positive'
            });
        }
    }
    
    // Productivity time analysis
    if (productivity.length > 5) {
        const times = productivity.map(p => new Date(p.timestamp).getHours());
        const timeCounts = {};
        times.forEach(t => timeCounts[t] = (timeCounts[t] || 0) + 1);
        const peakHour = Object.entries(timeCounts).sort((a, b) => b[1] - a[1])[0][0];
        
        insights.push({
            icon: 'â°',
            color: 'blue',
            text: `You're most productive around ${peakHour}:00 - ${parseInt(peakHour) + 2}:00`,
            type: 'info'
        });
    }
    
    // Habit consistency
    const habitDays = Object.keys(habits);
    if (habitDays.length > 7) {
        const recentWeek = habitDays.slice(0, 7);
        const avgCompletions = recentWeek.reduce((sum, day) => sum + habits[day].length, 0) / 7;
        
        if (avgCompletions > 3) {
            insights.push({
                icon: 'ðŸ”¥',
                color: 'orange',
                text: `Strong consistency! You complete ${avgCompletions.toFixed(1)} habits daily`,
                type: 'positive'
            });
        } else {
            insights.push({
                icon: 'ðŸ“ˆ',
                color: 'amber',
                text: `Boost your routine: aim for 5+ daily habit completions`,
                type: 'suggestion'
            });
        }
    }
    
    // Streak insights
    const xp = parseInt(localStorage.getItem('xp') || '0');
    const level = Math.floor(xp / 100) + 1;
    
    if (level > 5) {
        insights.push({
            icon: 'â­',
            color: 'purple',
            text: `You're Level ${level}! Top ${Math.min(Math.round(100 - level * 2), 10)}% of users`,
            type: 'achievement'
        });
    }
    
    // Default insight if no data
    if (insights.length === 0) {
        insights.push({
            icon: 'ðŸš€',
            color: 'blue',
            text: 'Start logging activities to unlock AI insights about your patterns',
            type: 'info'
        });
    }
    
    return insights;
}

// Display AI Insights
function displayAIInsights() {
    const insights = generateAIInsights();
    const container = document.getElementById('ai-insights-container');
    
    if (!container) return;
    
    const colorClasses = {
        green: 'bg-green-50 border-green-200 text-green-800',
        blue: 'bg-blue-50 border-blue-200 text-blue-800',
        orange: 'bg-orange-50 border-orange-200 text-orange-800',
        amber: 'bg-amber-50 border-amber-200 text-amber-800',
        purple: 'bg-purple-50 border-purple-200 text-purple-800'
    };
    
    container.innerHTML = insights.map(insight => `
        <div class="p-3 ${colorClasses[insight.color]} rounded-xl border-2">
            <p class="text-sm font-bold flex items-center gap-2">
                <span class="text-xl">${insight.icon}</span>
                ${insight.text}
            </p>
        </div>
    `).join('');
}

// Generate Personalized Recommendations
function generateRecommendations() {
    const moods = JSON.parse(localStorage.getItem('moodHistory') || '[]');
    const habits = JSON.parse(localStorage.getItem('habits') || '[]');
    const goals = JSON.parse(localStorage.getItem('goals') || '[]');
    const today = new Date().toDateString();
    const habitCompletions = JSON.parse(localStorage.getItem('habitCompletions') || '{}');
    const todayCompletions = habitCompletions[today] || [];
    
    const recommendations = [];
    
    // Check recent mood
    const recentMood = moods[0]?.mood;
    if (recentMood === 'sad' || recentMood === 'stressed') {
        recommendations.push({
            icon: 'ðŸ§˜',
            text: 'Take 5 minutes for meditation - it can reduce stress by 30%',
            action: 'wellness'
        });
    }
    
    // Check pending habits
    const pendingHabits = habits.filter(h => !todayCompletions.includes(h.name));
    if (pendingHabits.length > 0) {
        recommendations.push({
            icon: 'âœ…',
            text: `Complete "${pendingHabits[0].name}" - you're building a ${todayCompletions.length}-habit streak`,
            action: 'habits'
        });
    }
    
    // Check goals
    if (goals.length === 0) {
        recommendations.push({
            icon: 'ðŸŽ¯',
            text: 'Set your first SMART goal to increase success rate by 42%',
            action: 'goals'
        });
    }
    
    // Time-based recommendations
    const hour = new Date().getHours();
    if (hour < 10) {
        recommendations.push({
            icon: 'â˜€ï¸',
            text: 'Morning energy is high - tackle your most important task now',
            action: 'productivity'
        });
    } else if (hour > 20) {
        recommendations.push({
            icon: 'ðŸŒ™',
            text: 'Wind down with gratitude journaling for better sleep quality',
            action: 'gratitude-view'
        });
    }
    
    // Default recommendation
    if (recommendations.length === 0) {
        recommendations.push({
            icon: 'ðŸ’Ž',
            text: 'Your daily routine is on track - keep up the momentum!',
            action: 'dashboard'
        });
    }
    
    return recommendations.slice(0, 3); // Limit to 3 recommendations
}

// Display Recommendations
function displayRecommendations() {
    const recommendations = generateRecommendations();
    const container = document.getElementById('recommendations-container');
    
    if (!container) return;
    
    container.innerHTML = recommendations.map(rec => `
        <div class="p-3 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200 flex items-center justify-between cursor-pointer hover:shadow-md transition" onclick="navigateToPage('${rec.action}')">
            <div class="flex items-center gap-3">
                <span class="text-2xl">${rec.icon}</span>
                <p class="text-sm font-medium text-slate-800">${rec.text}</p>
            </div>
            <i class="fa-solid fa-chevron-right text-amber-600"></i>
        </div>
    `).join('');
}

// Generate Predictions
function generatePredictions() {
    const moods = JSON.parse(localStorage.getItem('moodHistory') || '[]');
    const gymEntries = JSON.parse(localStorage.getItem('gymEntries') || '[]');
    const habits = JSON.parse(localStorage.getItem('habitCompletions') || '{}');
    const goals = JSON.parse(localStorage.getItem('goals') || '[]');
    
    const predictions = [];
    
    // Mood trend prediction
    if (moods.length >= 7) {
        const last7Moods = moods.slice(0, 7).map(m => m.mood);
        const positiveCount = last7Moods.filter(m => ['happy', 'amazing'].includes(m)).length;
        const trend = positiveCount > 4 ? 'improving' : positiveCount < 2 ? 'declining' : 'stable';
        
        predictions.push({
            title: 'Mood Trend',
            value: trend === 'improving' ? 'ðŸ“ˆ Improving' : trend === 'declining' ? 'ðŸ“‰ Needs attention' : 'âž¡ï¸ Stable',
            description: trend === 'improving' ? 'Keep doing what you\'re doing!' : 
                        trend === 'declining' ? 'Consider more self-care activities' : 
                        'Maintain your current routine',
            color: trend === 'improving' ? 'green' : trend === 'declining' ? 'red' : 'blue'
        });
    }
    
    // Goal completion prediction
    if (goals.length > 0) {
        const activeGoals = goals.filter(g => !g.completed && g.progress < 100);
        const avgProgress = activeGoals.reduce((sum, g) => sum + (g.progress || 0), 0) / activeGoals.length;
        const completionDays = Math.round((100 - avgProgress) / 2); // Assuming 2% daily progress
        
        predictions.push({
            title: 'Goal Completion',
            value: `${completionDays} days`,
            description: `At your current pace, you'll reach your goals in ${completionDays} days`,
            color: 'purple'
        });
    }
    
    // Streak prediction
    const habitDays = Object.keys(habits);
    if (habitDays.length >= 3) {
        const recentConsistency = habitDays.slice(0, 7).every(day => habits[day].length > 0);
        const streakPrediction = recentConsistency ? 7 : 3;
        
        predictions.push({
            title: 'Streak Forecast',
            value: `${streakPrediction} days`,
            description: recentConsistency ? 'High chance of maintaining your streak!' : 'Focus on consistency to build longer streaks',
            color: recentConsistency ? 'green' : 'amber'
        });
    }
    
    return predictions;
}

// Display Predictions
function displayPredictions() {
    const predictions = generatePredictions();
    const container = document.getElementById('predictions-container');
    
    if (!container) return;
    
    if (predictions.length === 0) {
        container.innerHTML = '<p class="text-sm text-slate-500 text-center py-4">Keep logging activities to unlock predictive analytics</p>';
        return;
    }
    
    const colorClasses = {
        green: 'from-green-500 to-emerald-600',
        blue: 'from-blue-500 to-indigo-600',
        purple: 'from-purple-500 to-indigo-600',
        red: 'from-red-500 to-rose-600',
        amber: 'from-amber-500 to-orange-600'
    };
    
    container.innerHTML = predictions.map(pred => `
        <div class="p-4 bg-gradient-to-r ${colorClasses[pred.color]} rounded-xl text-white">
            <p class="text-xs font-bold uppercase tracking-wider opacity-90 mb-1">${pred.title}</p>
            <p class="text-2xl font-black mb-2">${pred.value}</p>
            <p class="text-sm opacity-90">${pred.description}</p>
        </div>
    `).join('');
}

// Refresh all AI insights
function refreshAIInsights() {
    displayAIInsights();
    displayRecommendations();
    displayPredictions();
}

// Enhanced AI Chat with Free API
async function sendAICoachMessage() {
    const input = document.getElementById('ai-coach-input');
    const message = input.value.trim();
    if (!message) return;

    const chatContainer = document.getElementById('ai-chat-messages');
    const sendBtn = document.getElementById('send-btn');
    
    // Add user message
    chatContainer.innerHTML += `
        <div class="p-3 bg-slate-100 rounded-xl border border-slate-200 ml-8">
            <p class="text-sm font-bold text-slate-700 mb-1">You</p>
            <p class="text-sm text-slate-600">${message}</p>
        </div>
    `;
    
    input.value = '';
    chatContainer.scrollTop = chatContainer.scrollHeight;
    
    // Show loading
    sendBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i>';
    sendBtn.disabled = true;

    try {
        // Gather context about user's data
        const context = gatherUserContext();
        
        // Use HuggingFace Inference API (Free!)
        const response = await fetch('https://api-inference.huggingface.co/models/microsoft/DialoGPT-medium', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                inputs: {
                    past_user_inputs: [],
                    generated_responses: [],
                    text: `Context: ${context}\n\nUser: ${message}\n\nAI Coach (respond in under 100 words):`,
                },
                parameters: {
                    max_length: 150,
                    temperature: 0.8,
                    top_p: 0.9
                }
            })
        });

        if (!response.ok) {
            throw new Error('API request failed');
        }

        const data = await response.json();
        let aiResponse = data.generated_text || data.response || '';
        
        // Fallback to intelligent local responses if API fails
        if (!aiResponse || aiResponse.length < 10) {
            aiResponse = generateIntelligentResponse(message, context);
        }
        
        // Ensure response is under 100 words
        const words = aiResponse.split(' ');
        if (words.length > 100) {
            aiResponse = words.slice(0, 100).join(' ') + '...';
        }

        chatContainer.innerHTML += `
            <div class="p-3 bg-amber-50 rounded-xl border border-amber-200 mr-8">
                <p class="text-sm font-bold text-amber-800 mb-1">AI Coach</p>
                <p class="text-sm text-slate-700">${aiResponse}</p>
            </div>
        `;
    } catch (error) {
        console.error('AI API Error:', error);
        
        // Fallback to local intelligent response
        const context = gatherUserContext();
        const fallbackResponse = generateIntelligentResponse(message, context);
        
        chatContainer.innerHTML += `
            <div class="p-3 bg-amber-50 rounded-xl border border-amber-200 mr-8">
                <p class="text-sm font-bold text-amber-800 mb-1">AI Coach</p>
                <p class="text-sm text-slate-700">${fallbackResponse}</p>
            </div>
        `;
    } finally {
        sendBtn.innerHTML = '<i class="fa-solid fa-paper-plane"></i>';
        sendBtn.disabled = false;
        chatContainer.scrollTop = chatContainer.scrollHeight;
    }
}

// Gather user context for AI
function gatherUserContext() {
    const moods = JSON.parse(localStorage.getItem('moodHistory') || '[]');
    const xp = parseInt(localStorage.getItem('xp') || '0');
    const level = Math.floor(xp / 100) + 1;
    const habits = JSON.parse(localStorage.getItem('habits') || '[]');
    const goals = JSON.parse(localStorage.getItem('goals') || '[]');
    
    const recentMood = moods[0]?.mood || 'unknown';
    
    return `User is level ${level}, current mood: ${recentMood}, has ${habits.length} habits, ${goals.length} goals.`;
}

// Generate intelligent local responses (fallback)
function generateIntelligentResponse(message, context) {
    const msg = message.toLowerCase();
    
    // Pattern-based responses
    if (msg.includes('motivat') || msg.includes('inspir')) {
        const motivations = [
            "You're stronger than you think. Every small step forward is progress. Your level shows you're committed - keep that fire burning! ðŸ”¥",
            "Remember why you started. Your journey isn't about perfection, it's about progress. You've got this! ðŸ’ª",
            "Success isn't built overnight. You're planting seeds daily that will bloom into results. Stay consistent! ðŸŒ±"
        ];
        return motivations[Math.floor(Math.random() * motivations.length)];
    }
    
    if (msg.includes('pattern') || msg.includes('analyz')) {
        const insights = generateAIInsights();
        return `Based on your data: ${insights[0]?.text || 'Keep logging to unlock pattern insights'}. ${insights[1]?.text || ''}`;
    }
    
    if (msg.includes('habit') || msg.includes('routine')) {
        return "Great habits = great life. Start small, be consistent. Stack new habits onto existing ones. Track daily to see your progress compound! ðŸ“ˆ";
    }
    
    if (msg.includes('goal') || msg.includes('achieve')) {
        return "SMART goals work: Specific, Measurable, Achievable, Relevant, Time-bound. Break big goals into daily actions. Your current level shows commitment! ðŸŽ¯";
    }
    
    if (msg.includes('stress') || msg.includes('anxious') || msg.includes('worried')) {
        return "Try the 5-4-3-2-1 technique: Name 5 things you see, 4 you can touch, 3 you hear, 2 you smell, 1 you taste. Also, deep breathing helps. You've got this! ðŸ§˜";
    }
    
    if (msg.includes('plan') || msg.includes('schedule')) {
        return "Your peak productivity is in the morning. Use that energy for your top 3 priorities. Schedule breaks every 90 mins. Plan tomorrow tonight. ðŸ“…";
    }
    
    if (msg.includes('improve') || msg.includes('better')) {
        const recommendations = generateRecommendations();
        return `Focus on: ${recommendations[0]?.text || 'Consistency in your daily routine'}. Small improvements compound over time! ðŸ“ˆ`;
    }
    
    if (msg.includes('thank') || msg.includes('thanks')) {
        return "You're welcome! I'm here 24/7 to support your growth journey. Remember, you're capable of amazing things! ðŸŒŸ";
    }
    
    // Default intelligent response
    const defaults = [
        "That's an interesting question. Based on your progress, I recommend focusing on consistency. What specific area would you like to improve?",
        "I'm here to help! Your current level and patterns show good progress. What's your main challenge right now?",
        "Great question! Let's break this down. Your data shows you're making progress. Want specific advice on habits, goals, or routines?",
        "I notice you're at a good level. Keep building on your strengths while addressing areas for growth. What would help you most today?"
    ];
    
    return defaults[Math.floor(Math.random() * defaults.length)];
}

// Quick prompts
function quickAIPrompt(prompt) {
    document.getElementById('ai-coach-input').value = prompt;
    sendAICoachMessage();
}

// Initialize AI Coach page
function loadAICoachPage() {
    displayAIInsights();
    displayRecommendations();
    displayPredictions();
}

// Update the navigateToPage function to load AI Coach data
const originalNavigateToPage = navigateToPage;
navigateToPage = function(page) {
    originalNavigateToPage(page);
    if (page === 'ai-coach') {
        loadAICoachPage();
    }
};

// Auto-refresh insights every 5 minutes
setInterval(() => {
    if (currentView === 'ai-coach') {
        refreshAIInsights();
    }
}, 300000);
</script>

    <!-- Alarms & Reminders Page -->
    <div id="alarms-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl" style="background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-orange-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-orange-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">SMART ALARMS</h1>
                        <p class="text-[10px] text-orange-200 font-bold uppercase tracking-widest">Stay On Track</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-orange-600 flex items-center justify-center">
                    <i class="fa-solid fa-bell"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-plus text-orange-600"></i>
                    Create New Alarm
                </div>
                <input id="alarm-title" class="input-field mb-3" placeholder="Alarm title...">
                <input id="alarm-time" class="input-field mb-3" type="time" placeholder="Time">
                <select id="alarm-repeat" class="input-field mb-3">
                    <option value="daily">Daily</option>
                    <option value="weekdays">Weekdays</option>
                    <option value="weekends">Weekends</option>
                    <option value="once">Once</option>
                </select>
                <textarea id="alarm-message" class="textarea-field mb-3" style="min-height: 80px;" placeholder="Reminder message..."></textarea>
                <button onclick="addAlarm()" class="btn-primary">Set Alarm</button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-clock text-orange-500"></i>
                    Your Alarms
                </div>
                <div id="alarms-list" class="space-y-2">
                    <p class="text-sm text-slate-400">No alarms set yet</p>
                </div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Emotional Analysis Page -->
    <div id="emotions-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl" style="background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-pink-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-pink-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">EMOTIONAL ANALYSIS</h1>
                        <p class="text-[10px] text-pink-200 font-bold uppercase tracking-widest">Understand Your Feelings</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-pink-600 flex items-center justify-center">
                    <i class="fa-solid fa-heart-pulse"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-brain text-pink-600"></i>
                    Emotion Tracker
                </div>
                <div class="space-y-4" id="emotion-insights">
                    <div class="p-4 bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl border border-pink-200">
                        <h3 class="font-bold text-pink-800 mb-2">Your Mood Patterns</h3>
                        <div class="space-y-2 text-sm text-slate-700">
                            <p><strong>Most Common:</strong> <span id="common-mood">Loading...</span></p>
                            <p><strong>Trend:</strong> <span id="mood-trend">Analyzing your patterns...</span></p>
                            <p><strong>Recommendation:</strong> <span id="mood-advice">Keep tracking your emotions daily</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-chart-pie text-pink-500"></i>
                    Emotion Distribution
                </div>
                <div id="emotion-chart" class="space-y-2">
                    <!-- Emotion bars will be rendered here -->
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-lightbulb text-amber-500"></i>
                    Wellness Tips
                </div>
                <div class="space-y-2">
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Practice Mindfulness</p>
                        <p class="text-xs text-amber-900">Take 5 minutes daily to meditate and be present.</p>
                    </div>
                    <div class="tip-card">
                        <p class="font-bold text-amber-800 mb-1">Express Gratitude</p>
                        <p class="text-xs text-amber-900">Write down 3 things you're grateful for each day.</p>
                    </div>
                </div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Analytics Dashboard Page -->
    <div id="analytics-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl" style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-blue-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-blue-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">ANALYTICS</h1>
                        <p class="text-[10px] text-blue-200 font-bold uppercase tracking-widest">Your Progress Dashboard</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center">
                    <i class="fa-solid fa-chart-line"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-chart-bar text-blue-600"></i>
                    Key Metrics
                </div>
                <div class="grid grid-cols-2 gap-3">
                    <div class="p-4 bg-blue-50 rounded-xl border border-blue-200">
                        <p class="text-xs text-blue-600 font-bold mb-1">TOTAL ENTRIES</p>
                        <p class="text-2xl font-black text-blue-800" id="total-entries">0</p>
                    </div>
                    <div class="p-4 bg-green-50 rounded-xl border border-green-200">
                        <p class="text-xs text-green-600 font-bold mb-1">CURRENT STREAK</p>
                        <p class="text-2xl font-black text-green-800" id="current-streak">0 days</p>
                    </div>
                    <div class="p-4 bg-purple-50 rounded-xl border border-purple-200">
                        <p class="text-xs text-purple-600 font-bold mb-1">HABITS TRACKED</p>
                        <p class="text-2xl font-black text-purple-800" id="habits-count">0</p>
                    </div>
                    <div class="p-4 bg-amber-50 rounded-xl border border-amber-200">
                        <p class="text-xs text-amber-600 font-bold mb-1">GOALS ACHIEVED</p>
                        <p class="text-2xl font-black text-amber-800" id="goals-achieved">0</p>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-calendar-days text-blue-500"></i>
                    Activity This Week
                </div>
                <div id="weekly-activity" class="space-y-2">
                    <!-- Weekly bars will be rendered here -->
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-trophy text-amber-500"></i>
                    Achievements
                </div>
                <div class="grid grid-cols-3 gap-2" id="achievements-grid">
                    <div class="p-3 bg-slate-50 rounded-xl text-center border border-slate-200">
                        <p class="text-2xl mb-1">ðŸ†</p>
                        <p class="text-[10px] font-bold text-slate-600">First Entry</p>
                    </div>
                    <div class="p-3 bg-slate-50 rounded-xl text-center border border-slate-200 opacity-40">
                        <p class="text-2xl mb-1">ðŸ”¥</p>
                        <p class="text-[10px] font-bold text-slate-600">7 Day Streak</p>
                    </div>
                    <div class="p-3 bg-slate-50 rounded-xl text-center border border-slate-200 opacity-40">
                        <p class="text-2xl mb-1">â­</p>
                        <p class="text-[10px] font-bold text-slate-600">30 Day Streak</p>
                    </div>
                </div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Voice Journal Page -->
    <div id="voice-journal-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-purple-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-purple-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">VOICE JOURNAL</h1>
                        <p class="text-[10px] text-purple-200 font-bold uppercase tracking-widest">Speak Your Mind</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center">
                    <i class="fa-solid fa-microphone"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-microphone text-purple-600"></i>
                    Record Voice Entry
                </div>
                <div class="text-center py-8">
                    <button id="voice-record-btn" onclick="toggleVoiceRecording()" class="w-24 h-24 rounded-full bg-gradient-to-br from-purple-500 to-purple-700 text-white flex items-center justify-center mx-auto shadow-lg">
                        <i class="fa-solid fa-microphone text-4xl"></i>
                    </button>
                    <p class="mt-4 text-sm font-bold text-slate-600" id="voice-status">Tap to start recording</p>
                    <p class="text-xs text-slate-400 mt-1" id="voice-timer">00:00</p>
                </div>
                <div id="voice-controls" class="flex gap-2 mt-4" style="display: none;">
                    <button onclick="saveVoiceEntry()" class="btn-primary flex-1">Save Recording</button>
                    <button onclick="cancelVoiceRecording()" class="btn-primary flex-1" style="background: #dc2626;">Cancel</button>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-list text-purple-500"></i>
                    Voice Recordings
                </div>
                <div id="voice-recordings" class="space-y-2">
                    <p class="text-sm text-slate-400">No recordings yet</p>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-lightbulb text-amber-500"></i>
                    Voice Journaling Tips
                </div>
                <div class="space-y-2 text-sm text-slate-600">
                    <p>â€¢ Find a quiet space for best audio quality</p>
                    <p>â€¢ Speak naturally and authentically</p>
                    <p>â€¢ Record your thoughts, feelings, and reflections</p>
                    <p>â€¢ Listen back to track your progress</p>
                </div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Export Data Page -->
    <div id="export-data-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl" style="background: linear-gradient(135deg, #14b8a6 0%, #0d9488 100%);">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-teal-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-teal-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">EXPORT DATA</h1>
                        <p class="text-[10px] text-teal-200 font-bold uppercase tracking-widest">Download Your Journey</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-teal-600 flex items-center justify-center">
                    <i class="fa-solid fa-download"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-file-export text-teal-600"></i>
                    Export Options
                </div>
                <div class="space-y-3">
                    <button onclick="exportPDF()" class="w-full p-4 bg-red-50 text-red-700 rounded-xl font-bold text-sm flex items-center justify-between border border-red-200">
                        <span><i class="fa-solid fa-file-pdf mr-2"></i>Export as PDF</span>
                        <i class="fa-solid fa-download"></i>
                    </button>
                    <button onclick="exportCSV()" class="w-full p-4 bg-green-50 text-green-700 rounded-xl font-bold text-sm flex items-center justify-between border border-green-200">
                        <span><i class="fa-solid fa-file-csv mr-2"></i>Export as CSV</span>
                        <i class="fa-solid fa-download"></i>
                    </button>
                    <button onclick="exportJSON()" class="w-full p-4 bg-blue-50 text-blue-700 rounded-xl font-bold text-sm flex items-center justify-between border border-blue-200">
                        <span><i class="fa-solid fa-file-code mr-2"></i>Export as JSON</span>
                        <i class="fa-solid fa-download"></i>
                    </button>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-database text-teal-500"></i>
                    Data Summary
                </div>
                <div class="space-y-2 text-sm">
                    <div class="flex justify-between p-2 bg-slate-50 rounded">
                        <span class="text-slate-600">Mood Check-ins:</span>
                        <span class="font-bold text-slate-800" id="export-moods">0</span>
                    </div>
                    <div class="flex justify-between p-2 bg-slate-50 rounded">
                        <span class="text-slate-600">Gratitude Entries:</span>
                        <span class="font-bold text-slate-800" id="export-gratitude">0</span>
                    </div>
                    <div class="flex justify-between p-2 bg-slate-50 rounded">
                        <span class="text-slate-600">Journal Entries:</span>
                        <span class="font-bold text-slate-800" id="export-journals">0</span>
                    </div>
                    <div class="flex justify-between p-2 bg-slate-50 rounded">
                        <span class="text-slate-600">Bible Reflections:</span>
                        <span class="font-bold text-slate-800" id="export-bible">0</span>
                    </div>
                    <div class="flex justify-between p-2 bg-slate-50 rounded">
                        <span class="text-slate-600">Gym Workouts:</span>
                        <span class="font-bold text-slate-800" id="export-gym">0</span>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-info-circle text-blue-500"></i>
                    About Your Data
                </div>
                <p class="text-sm text-slate-600">
                    All your data is stored locally on your device. When you export, you get a complete copy of your journey including all entries, moods, goals, and habits.
                </p>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Accountability Partner Page -->
    <div id="accountability-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-green-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-green-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">ACCOUNTABILITY</h1>
                        <p class="text-[10px] text-green-200 font-bold uppercase tracking-widest">Stay Committed Together</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-green-600 flex items-center justify-center">
                    <i class="fa-solid fa-user-check"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-users text-green-600"></i>
                    Add Accountability Partner
                </div>
                <input id="partner-name" class="input-field mb-3" placeholder="Partner's name...">
                <input id="partner-email" class="input-field mb-3" type="email" placeholder="Partner's email...">
                <select id="partner-frequency" class="input-field mb-3">
                    <option value="daily">Daily Check-ins</option>
                    <option value="weekly">Weekly Check-ins</option>
                    <option value="biweekly">Bi-weekly Check-ins</option>
                </select>
                <button onclick="addPartner()" class="btn-primary">Add Partner</button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-handshake text-green-500"></i>
                    Your Accountability Partners
                </div>
                <div id="partners-list" class="space-y-2">
                    <p class="text-sm text-slate-400">No accountability partners yet</p>
                </div>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-clipboard-check text-green-500"></i>
                    Weekly Commitments
                </div>
                <textarea id="weekly-commitment" class="textarea-field mb-3" placeholder="What are you committing to this week?"></textarea>
                <button onclick="saveCommitment()" class="btn-primary">Share Commitment</button>
            </div>

            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-lightbulb text-amber-500"></i>
                    Accountability Tips
                </div>
                <div class="space-y-2 text-sm text-slate-600">
                    <p>â€¢ Choose someone who genuinely supports your goals</p>
                    <p>â€¢ Be honest about your progress and setbacks</p>
                    <p>â€¢ Schedule regular check-ins</p>
                    <p>â€¢ Celebrate wins together</p>
                </div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Earn/Withdrawal Page -->
    <div id="earn-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-emerald-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-emerald-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">EARN REWARDS</h1>
                        <p class="text-[10px] text-emerald-200 font-bold uppercase tracking-widest">Convert XP to Cash</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-emerald-600 flex items-center justify-center">
                    <i class="fa-solid fa-money-bill-wave"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <!-- XP Balance Card -->
            <div class="content-card mb-6" style="background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); border: 2px solid #10b981;">
                <div class="text-center">
                    <p class="text-xs font-bold text-emerald-700 mb-2">YOUR XP BALANCE</p>
                    <p class="text-5xl font-black text-emerald-900 mb-3" id="earn-xp-balance">0</p>
                    <div class="inline-block px-4 py-2 bg-white rounded-full">
                        <p class="text-sm font-bold text-emerald-800">
                            = â‚¦<span id="earn-naira-value">0</span>
                        </p>
                    </div>
                    <p class="text-xs text-emerald-700 mt-3">
                        <i class="fa-solid fa-info-circle"></i> 7,000 XP = â‚¦3,500
                    </p>
                </div>
            </div>

            <!-- Withdrawal Status -->
            <div class="content-card mb-6">
                <div class="section-title">
                    <i class="fa-solid fa-chart-line text-emerald-600"></i>
                    Withdrawal Status
                </div>
                <div id="withdrawal-status" class="space-y-2">
                    <!-- Status will be dynamically updated -->
                </div>
            </div>

            <!-- Withdrawal Form -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-bank text-emerald-600"></i>
                    Withdraw to Bank Account
                </div>
                
                <div class="p-4 bg-amber-50 rounded-xl border border-amber-200 mb-4">
                    <p class="text-xs font-bold text-amber-800 mb-1">
                        <i class="fa-solid fa-exclamation-triangle"></i> Minimum Withdrawal
                    </p>
                    <p class="text-sm text-amber-900">
                        You need at least <strong>7,000 XP</strong> to make a withdrawal (â‚¦3,500)
                    </p>
                </div>

                <div id="withdrawal-form">
                    <div class="mb-3">
                        <label class="text-xs font-bold text-slate-600 mb-2 block">SELECT BANK</label>
                        <select id="withdraw-bank" class="input-field" onchange="clearAccountVerification()">
                            <option value="">-- Choose Your Bank --</option>
                            <option value="access">Access Bank</option>
                            <option value="gtbank">GTBank (Guaranty Trust Bank)</option>
                            <option value="zenith">Zenith Bank</option>
                            <option value="firstbank">First Bank of Nigeria</option>
                            <option value="uba">United Bank for Africa (UBA)</option>
                            <option value="sterling">Sterling Bank</option>
                            <option value="fidelity">Fidelity Bank</option>
                            <option value="union">Union Bank</option>
                            <option value="wema">Wema Bank</option>
                            <option value="polaris">Polaris Bank</option>
                            <option value="stanbic">Stanbic IBTC</option>
                            <option value="fcmb">FCMB (First City Monument Bank)</option>
                            <option value="ecobank">Ecobank Nigeria</option>
                            <option value="keystone">Keystone Bank</option>
                            <option value="providus">Providus Bank</option>
                            <option value="kuda">Kuda Bank</option>
                            <option value="opay">OPay</option>
                            <option value="palmpay">PalmPay</option>
                            <option value="moniepoint">Moniepoint</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="text-xs font-bold text-slate-600 mb-2 block">ACCOUNT NUMBER</label>
                        <input 
                            id="withdraw-account" 
                            class="input-field" 
                            type="text" 
                            maxlength="10" 
                            placeholder="Enter 10-digit account number"
                            oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10)"
                            onchange="clearAccountVerification()"
                        >
                    </div>

                    <button onclick="verifyAccountName()" class="w-full p-3 bg-blue-50 text-blue-700 rounded-xl font-bold text-sm mb-3 border border-blue-200">
                        <i class="fa-solid fa-check-circle mr-2"></i>Verify Account Name
                    </button>

                    <div id="account-verification" style="display: none;" class="p-4 bg-green-50 rounded-xl border-2 border-green-300 mb-4">
                        <p class="text-xs font-bold text-green-800 mb-2">
                            <i class="fa-solid fa-check-circle"></i> ACCOUNT VERIFIED
                        </p>
                        <p class="text-sm font-bold text-slate-800" id="verified-account-name">--</p>
                        <p class="text-xs text-slate-600 mt-1">
                            <span id="verified-bank-name">--</span> â€¢ <span id="verified-account-number">--</span>
                        </p>
                    </div>

                    <div class="mb-4">
                        <label class="text-xs font-bold text-slate-600 mb-2 block">AMOUNT TO WITHDRAW (XP)</label>
                        <input 
                            id="withdraw-amount" 
                            class="input-field" 
                            type="number" 
                            min="7000" 
                            step="1000" 
                            placeholder="Enter XP amount (min. 7,000)"
                            oninput="updateWithdrawalPreview()"
                        >
                        <p class="text-xs text-slate-500 mt-2">
                            You'll receive: <strong class="text-emerald-600">â‚¦<span id="withdrawal-preview">0</span></strong>
                        </p>
                    </div>

                    <button onclick="processWithdrawal()" class="btn-primary" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                        <i class="fa-solid fa-money-bill-wave mr-2"></i>Request Withdrawal
                    </button>
                </div>
            </div>

            <!-- How to Earn More XP -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-lightbulb text-amber-500"></i>
                    How to Earn More XP
                </div>
                <div class="space-y-2 text-sm">
                    <div class="flex items-start gap-2 p-2 bg-slate-50 rounded-lg">
                        <span class="text-lg">ðŸ“–</span>
                        <div class="flex-1">
                            <p class="font-bold text-slate-800">Daily Bible Reading</p>
                            <p class="text-xs text-slate-600">+50 XP per entry</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-2 p-2 bg-slate-50 rounded-lg">
                        <span class="text-lg">ðŸ˜Š</span>
                        <div class="flex-1">
                            <p class="font-bold text-slate-800">Mood Check-in</p>
                            <p class="text-xs text-slate-600">+20 XP per check-in</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-2 p-2 bg-slate-50 rounded-lg">
                        <span class="text-lg">ðŸ’›</span>
                        <div class="flex-1">
                            <p class="font-bold text-slate-800">Gratitude Entry</p>
                            <p class="text-xs text-slate-600">+30 XP per entry</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-2 p-2 bg-slate-50 rounded-lg">
                        <span class="text-lg">ðŸ’ª</span>
                        <div class="flex-1">
                            <p class="font-bold text-slate-800">Gym Workout</p>
                            <p class="text-xs text-slate-600">+40 XP per workout</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-2 p-2 bg-slate-50 rounded-lg">
                        <span class="text-lg">âœ…</span>
                        <div class="flex-1">
                            <p class="font-bold text-slate-800">Complete Daily Routine</p>
                            <p class="text-xs text-slate-600">+10 XP per task</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-2 p-2 bg-slate-50 rounded-lg">
                        <span class="text-lg">ðŸŽ™ï¸</span>
                        <div class="flex-1">
                            <p class="font-bold text-slate-800">Voice Journal Entry</p>
                            <p class="text-xs text-slate-600">+20 XP per recording</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Withdrawal History -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-history text-emerald-500"></i>
                    Withdrawal History
                </div>
                <div id="withdrawal-history" class="space-y-2">
                    <p class="text-sm text-slate-400">No withdrawals yet</p>
                </div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- Earn & Withdraw Page -->
    <div id="earn-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-emerald-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-emerald-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">EARN & WITHDRAW</h1>
                        <p class="text-[10px] text-emerald-200 font-bold uppercase tracking-widest">Convert XP to Cash</p>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-emerald-600 flex items-center justify-center">
                    <i class="fa-solid fa-naira-sign"></i>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <!-- XP Balance Card -->
            <div class="content-card mb-6">
                <div class="text-center py-6">
                    <p class="text-xs text-slate-500 font-bold uppercase tracking-widest mb-2">Your XP Balance</p>
                    <div class="text-5xl font-black text-emerald-600 mb-3" id="earn-xp-balance">0</div>
                    <div class="flex items-center justify-center gap-2 mb-2">
                        <div class="h-1 w-full bg-slate-200 rounded-full overflow-hidden max-w-xs">
                            <div id="xp-progress-bar" class="h-full bg-gradient-to-r from-emerald-500 to-green-600" style="width: 0%"></div>
                        </div>
                    </div>
                    <p class="text-sm text-slate-600">
                        <span id="xp-to-minimum">7000</span> XP needed for withdrawal
                    </p>
                </div>
            </div>

            <!-- Conversion Rate -->
            <div class="content-card mb-6">
                <div class="section-title">
                    <i class="fa-solid fa-exchange-alt text-emerald-600"></i>
                    Conversion Rate
                </div>
                <div class="grid grid-cols-2 gap-3">
                    <div class="p-4 bg-emerald-50 rounded-xl border border-emerald-200 text-center">
                        <p class="text-2xl font-black text-emerald-800">7,000</p>
                        <p class="text-xs text-emerald-600 font-bold mt-1">XP Points</p>
                    </div>
                    <div class="p-4 bg-emerald-50 rounded-xl border border-emerald-200 text-center">
                        <p class="text-2xl font-black text-emerald-800">â‚¦3,500</p>
                        <p class="text-xs text-emerald-600 font-bold mt-1">Naira</p>
                    </div>
                </div>
                <div class="mt-3 p-3 bg-blue-50 rounded-xl border border-blue-200">
                    <p class="text-xs text-blue-800">
                        <i class="fa-solid fa-info-circle mr-1"></i>
                        <strong>You can earn:</strong> â‚¦<span id="potential-earnings">0</span> from your current XP
                    </p>
                </div>
            </div>

            <!-- Withdrawal Form -->
            <div class="content-card mb-6" id="withdrawal-form">
                <div class="section-title">
                    <i class="fa-solid fa-university text-emerald-600"></i>
                    Withdraw to Bank Account
                </div>
                
                <div class="mb-3">
                    <label class="text-xs font-bold text-slate-600 mb-2 block">Select Bank</label>
                    <select id="bank-select" class="input-field" onchange="clearVerificationStatus()">
                        <option value="">-- Choose your bank --</option>
                        <option value="access">Access Bank</option>
                        <option value="gtbank">GTBank</option>
                        <option value="zenith">Zenith Bank</option>
                        <option value="firstbank">First Bank</option>
                        <option value="uba">UBA</option>
                        <option value="fidelity">Fidelity Bank</option>
                        <option value="union">Union Bank</option>
                        <option value="sterling">Sterling Bank</option>
                        <option value="stanbic">Stanbic IBTC</option>
                        <option value="fcmb">FCMB</option>
                        <option value="unity">Unity Bank</option>
                        <option value="wema">Wema Bank</option>
                        <option value="providus">Providus Bank</option>
                        <option value="polaris">Polaris Bank</option>
                        <option value="keystone">Keystone Bank</option>
                        <option value="ecobank">Ecobank</option>
                        <option value="heritage">Heritage Bank</option>
                        <option value="jaiz">Jaiz Bank</option>
                        <option value="kuda">Kuda Bank</option>
                        <option value="opay">OPay</option>
                        <option value="palmpay">PalmPay</option>
                        <option value="moniepoint">Moniepoint</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label class="text-xs font-bold text-slate-600 mb-2 block">Account Number</label>
                    <input id="account-number" class="input-field" type="text" maxlength="10" placeholder="0123456789" oninput="this.value = this.value.replace(/[^0-9]/g, '')" onblur="verifyAccountNumber()">
                </div>

                <div id="account-verification" class="mb-3" style="display: none;">
                    <div id="verification-loading" class="p-3 bg-blue-50 rounded-xl border border-blue-200" style="display: none;">
                        <p class="text-sm text-blue-800 flex items-center gap-2">
                            <i class="fa-solid fa-spinner fa-spin"></i>
                            Verifying account...
                        </p>
                    </div>
                    <div id="verification-success" class="p-3 bg-green-50 rounded-xl border border-green-200" style="display: none;">
                        <p class="text-sm text-green-800 font-bold">
                            <i class="fa-solid fa-check-circle mr-1"></i>
                            Account Name: <span id="verified-account-name"></span>
                        </p>
                    </div>
                    <div id="verification-error" class="p-3 bg-red-50 rounded-xl border border-red-200" style="display: none;">
                        <p class="text-sm text-red-800">
                            <i class="fa-solid fa-exclamation-circle mr-1"></i>
                            <span id="verification-error-message">Unable to verify account</span>
                        </p>
                    </div>
                </div>

                <div class="mb-3">
                    <label class="text-xs font-bold text-slate-600 mb-2 block">Amount to Withdraw</label>
                    <div class="relative">
                        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 font-bold">â‚¦</span>
                        <input id="withdrawal-amount" class="input-field pl-8" type="number" step="500" min="3500" placeholder="3,500" readonly>
                    </div>
                    <p class="text-xs text-slate-500 mt-1">
                        XP to use: <span id="xp-cost" class="font-bold text-emerald-600">7,000</span>
                    </p>
                </div>

                <button onclick="initiateWithdrawal()" class="btn-primary" id="withdraw-btn" disabled style="background: #cbd5e1;">
                    <i class="fa-solid fa-lock mr-2"></i>Verify Account First
                </button>

                <div class="mt-4 p-3 bg-amber-50 rounded-xl border border-amber-200">
                    <p class="text-xs text-amber-900">
                        <i class="fa-solid fa-shield-halved mr-1"></i>
                        <strong>Security:</strong> Withdrawals are processed within 24-48 hours. Minimum withdrawal is â‚¦3,500 (7,000 XP).
                    </p>
                </div>
            </div>

            <!-- Withdrawal History -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-history text-emerald-500"></i>
                    Withdrawal History
                </div>
                <div id="withdrawal-history" class="space-y-2">
                    <p class="text-sm text-slate-400">No withdrawals yet</p>
                </div>
            </div>

            <!-- How to Earn More XP -->
            <div class="content-card">
                <div class="section-title">
                    <i class="fa-solid fa-lightbulb text-amber-500"></i>
                    How to Earn More XP
                </div>
                <div class="space-y-2 text-sm text-slate-700">
                    <div class="flex items-center gap-2 p-2 bg-slate-50 rounded">
                        <span class="w-8 h-8 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center font-bold text-xs">10</span>
                        <span>Complete daily routine tasks</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 bg-slate-50 rounded">
                        <span class="w-8 h-8 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center font-bold text-xs">20</span>
                        <span>Voice journal entries</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 bg-slate-50 rounded">
                        <span class="w-8 h-8 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center font-bold text-xs">15</span>
                        <span>Share weekly commitments</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 bg-slate-50 rounded">
                        <span class="w-8 h-8 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center font-bold text-xs">25</span>
                        <span>Complete goals and habits</span>
                    </div>
                </div>
            </div>
        </main>
        
        <button onclick="scrollToTop()" class="fab-button">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </button>
    </div>

    <!-- History View -->
    <div id="history-view" class="page-view">
        <header class="glass-header text-white p-8 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3">
                    <button onclick="navigateToPage('dashboard')" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center">
                        <i class="fa-solid fa-arrow-left text-slate-300"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-black tracking-tighter" style="font-family: 'Archivo Black', sans-serif;">HISTORY</h1>
                        <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Your Journey</p>
                    </div>
                </div>
            </div>
        </header>

        <main class="p-5 -mt-6">
            <div class="bg-white rounded-[2rem] p-6 shadow-xl border border-white">
                <div id="full-history" class="space-y-6">
                </div>
                <div id="no-history" class="text-center py-12 hidden">
                    <i class="fa-solid fa-book-open text-slate-200 text-5xl mb-4"></i>
                    <p class="text-slate-400 font-medium">No entries yet</p>
                    <p class="text-xs text-slate-300 mt-2">Start logging your journey!</p>
                </div>
            </div>
        </main>
    </div>


    <!-- Character Trait Modal -->
    <div id="add-character-trait-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-black">Add Character Trait</h3>
                <button onclick="hideCharacterTraitModal()" class="text-slate-400 hover:text-slate-600">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>
            <p class="text-sm text-slate-600 mb-4">Select a character trait to develop</p>
            <select id="character-trait-select" class="input-field mb-3">
                <option value="">Choose a trait...</option>
                <option value="Integrity">Integrity - Being honest and having strong moral principles</option>
                <option value="Patience">Patience - Ability to wait calmly and persevere</option>
                <option value="Kindness">Kindness - Being friendly, generous, and considerate</option>
                <option value="Discipline">Discipline - Self-control and orderly conduct</option>
                <option value="Humility">Humility - Freedom from pride or arrogance</option>
                <option value="Courage">Courage - Strength to face fear and difficulty</option>
                <option value="Gratitude">Gratitude - Quality of being thankful</option>
                <option value="Self-Control">Self-Control - Restraint of one's impulses</option>
                <option value="Perseverance">Perseverance - Continued effort despite difficulties</option>
                <option value="Honesty">Honesty - Being truthful and sincere</option>
                <option value="Compassion">Compassion - Sympathetic concern for others</option>
                <option value="Wisdom">Wisdom - Experience, knowledge, and good judgment</option>
            </select>
            <textarea id="character-trait-why" class="textarea-field mb-3" placeholder="Why is this trait important to you?"></textarea>
            <div class="mb-3">
                <label class="text-xs font-bold text-slate-600 block mb-1">Daily Action Step</label>
                <input type="text" id="character-trait-action" class="input-field" placeholder="e.g., Practice active listening">
            </div>
            <button onclick="saveCharacterTrait()" class="btn-primary">Add Trait</button>
        </div>
    </div>

    <!-- Log Meal Modal -->
    <div id="log-meal-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-black">Log Meal</h3>
                <button onclick="hideLogMealModal()" class="text-slate-400 hover:text-slate-600">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>
            <input type="text" id="meal-name" class="input-field mb-3" placeholder="Meal name (e.g., Chicken & Rice)">
            <div class="grid grid-cols-3 gap-3 mb-3">
                <div>
                    <label class="text-xs font-bold text-slate-600 block mb-1">Protein (g)</label>
                    <input type="number" id="meal-protein" class="input-field" placeholder="0">
                </div>
                <div>
                    <label class="text-xs font-bold text-slate-600 block mb-1">Carbs (g)</label>
                    <input type="number" id="meal-carbs" class="input-field" placeholder="0">
                </div>
                <div>
                    <label class="text-xs font-bold text-slate-600 block mb-1">Fats (g)</label>
                    <input type="number" id="meal-fats" class="input-field" placeholder="0">
                </div>
            </div>
            <div class="p-3 bg-blue-50 rounded-lg mb-3">
                <p class="text-xs font-bold text-blue-900 mb-1">Estimated Calories</p>
                <p class="text-2xl font-black text-blue-600" id="meal-calories-preview">0</p>
            </div>
            <button onclick="saveMealLog()" class="btn-primary">Log Meal</button>
        </div>
    </div>

    <!-- Log Workout Modal -->
    <div id="log-workout-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-black">Log Workout</h3>
                <button onclick="hideLogWorkoutModal()" class="text-slate-400 hover:text-slate-600">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>
            <input type="text" id="workout-exercise" class="input-field mb-3" placeholder="Exercise name (e.g., Barbell Squat)">
            <div class="grid grid-cols-3 gap-3 mb-3">
                <div>
                    <label class="text-xs font-bold text-slate-600 block mb-1">Sets</label>
                    <input type="number" id="workout-sets" class="input-field" placeholder="3">
                </div>
                <div>
                    <label class="text-xs font-bold text-slate-600 block mb-1">Reps</label>
                    <input type="number" id="workout-reps" class="input-field" placeholder="10">
                </div>
                <div>
                    <label class="text-xs font-bold text-slate-600 block mb-1">Weight (kg)</label>
                    <input type="number" id="workout-weight" class="input-field" placeholder="60">
                </div>
            </div>
            <textarea id="workout-notes" class="textarea-field mb-3" style="min-height: 60px;" placeholder="Notes (optional)"></textarea>
            <button onclick="saveWorkoutLog()" class="btn-primary">Log Workout</button>
        </div>
    </div>

    <!-- Workout Plan Detail Modal -->
    <div id="workout-plan-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-black" id="workout-plan-title">Workout Plan</h3>
                <button onclick="hideWorkoutPlanModal()" class="text-slate-400 hover:text-slate-600">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>
            <div id="workout-plan-details">
                <!-- Plan details will be loaded here -->
            </div>
            <button onclick="hideWorkoutPlanModal()" class="btn-primary mt-4" style="background: #e2e8f0; color: #64748b;">Close</button>
        </div>
    </div>


    <!-- Set Reading Goal Modal -->
    <div id="set-goal-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-black">Set Reading Goal</h3>
                <button onclick="hideSetGoalModal()" class="text-slate-400 hover:text-slate-600">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>
            <p class="text-sm text-slate-600 mb-4">How many books do you want to read this year?</p>
            <input type="number" id="annual-reading-goal" class="input-field mb-3" placeholder="Number of books" min="1" value="24">
            <button onclick="saveReadingGoal()" class="btn-primary">Save Goal</button>
        </div>
    </div>

    <!-- Book Details Modal -->
    <div id="book-details-modal" class="modal">
        <div class="modal-content max-h-screen overflow-y-auto">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-black" id="book-detail-title">Book Details</h3>
                <button onclick="hideBookDetailsModal()" class="text-slate-400 hover:text-slate-600">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>
            <div id="book-details-content">
                <!-- Book details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Update Book Progress Modal -->
    <div id="update-progress-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-black">Update Reading Progress</h3>
                <button onclick="hideUpdateProgressModal()" class="text-slate-400 hover:text-slate-600">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>
            <p class="text-sm font-bold text-slate-700 mb-2" id="progress-book-title"></p>
            <div class="mb-3">
                <label class="text-xs font-bold text-slate-600 block mb-1">Current Page</label>
                <input type="number" id="current-page-input" class="input-field" placeholder="Page number">
            </div>
            <div class="mb-3">
                <label class="text-xs font-bold text-slate-600 block mb-1">Total Pages</label>
                <input type="number" id="total-pages-input" class="input-field" placeholder="Total pages" disabled>
            </div>
            <div class="mb-3">
                <label class="text-xs font-bold text-slate-600 block mb-1">Reading Notes (optional)</label>
                <textarea id="reading-notes-input" class="textarea-field" placeholder="Your thoughts..."></textarea>
            </div>
            <button onclick="saveReadingProgress()" class="btn-primary">Save Progress</button>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-6 left-6 right-6 bg-[#0f172a] rounded-3xl p-4 shadow-2xl z-50 max-w-md mx-auto">
        <div class="flex justify-around items-center text-slate-500">
            <button onclick="navigateToPage('dashboard')" id="nav-home" class="text-amber-500">
                <i class="fa-solid fa-house-user text-xl"></i>
            </button>
            <button onclick="navigateToPage('history')" id="nav-history">
                <i class="fa-solid fa-clock-rotate-left text-xl"></i>
            </button>
            <button onclick="showPremiumModal()" id="nav-stats">
                <i class="fa-solid fa-chart-pie text-xl"></i>
            </button>
            <button onclick="handleProfileClick()" id="nav-profile">
                <i class="fa-solid fa-circle-user text-xl"></i>
            </button>
        </div>
    </nav>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        // Prevent keyboard shortcuts for viewing source
        document.addEventListener('keydown', function(e) {
            // Prevent F12, Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+U
            if (e.keyCode == 123 || 
                (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) ||
                (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) ||
                (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0))) {
                e.preventDefault();
                return false;
            }
        });

        let currentView = 'dashboard';
        let pomodoroTimer = null;
        let pomodoroSeconds = 1500; // 25 minutes

        // Authentication Functions
        function checkAuth() {
            const user = JSON.parse(localStorage.getItem('currentUser') || 'null');
            // No longer blocks the app - just returns auth status
            return user !== null;
        }

        function handleLogin() {
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;

            if (!username || !password) {
                alert('Please fill in all fields');
                return;
            }

            // Check for admin login
            if (username === 'DaveAI' && password === 'DailyDawn') {
                const adminUser = {
                    username: 'DaveAI',
                    name: 'Admin',
                    email: 'admin@dailydawn.com',
                    isPremium: true,
                    isAdmin: true
                };
                localStorage.setItem('currentUser', JSON.stringify(adminUser));
                alert('Welcome Admin!');
                updateProfileDisplay();
                navigateToPage('dashboard');
                return;
            }

            // Check regular users
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            if (users[username] && users[username].password === password) {
                const user = {
                    username: users[username].username,
                    name: users[username].name,
                    email: users[username].email,
                    isPremium: users[username].isPremium || false,
                    isAdmin: false
                };
                localStorage.setItem('currentUser', JSON.stringify(user));
                alert('Welcome back, ' + user.name + '!');
                updateProfileDisplay();
                navigateToPage('dashboard');
            } else {
                alert('Invalid username or password');
            }
        }

        function showSignup() {
            document.getElementById('login-form').style.display = 'none';
            document.getElementById('signup-form').style.display = 'block';
        }

        function showLogin() {
            document.getElementById('login-form').style.display = 'block';
            document.getElementById('signup-form').style.display = 'none';
        }

        function handleSignup() {
            const name = document.getElementById('signup-name').value;
            const username = document.getElementById('signup-username').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;

            if (!name || !username || !email || !password) {
                alert('Please fill in all fields');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '{}');
            
            if (users[username]) {
                alert('Username already exists. Please choose another.');
                return;
            }

            users[username] = {
                name: name,
                username: username,
                email: email,
                password: password,
                isPremium: false
            };

            localStorage.setItem('users', JSON.stringify(users));
            
            const newUser = {
                username: username,
                name: name,
                email: email,
                isPremium: false,
                isAdmin: false
            };
            
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            alert('Account created successfully! Welcome, ' + name + '!');
            updateProfileDisplay();
            navigateToPage('dashboard');
        }

        function handleLogout() {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('currentUser');
                location.reload();
            }
        }

        function updateProfileDisplay() {
            const user = JSON.parse(localStorage.getItem('currentUser') || 'null');
            const userInfoCard = document.getElementById('user-info-card');
            const authFormsCard = document.getElementById('auth-forms-card');
            const adminControlPanel = document.getElementById('admin-control-panel');
            
            if (user) {
                // User is logged in - show user info, hide auth forms
                userInfoCard.style.display = 'block';
                authFormsCard.style.display = 'none';
                
                // Update user info
                document.getElementById('user-initial').innerText = user.name.charAt(0).toUpperCase();
                document.getElementById('user-name-display').innerText = user.name;
                document.getElementById('user-username-display').innerText = '@' + user.username;
                document.getElementById('user-email-display').innerText = user.email;
                
                const statusDisplay = document.getElementById('user-status-display');
                if (user.isAdmin) {
                    statusDisplay.innerText = 'ðŸ‘‘ Administrator';
                    statusDisplay.parentElement.className = 'p-3 bg-red-50 rounded-xl border border-red-300';
                    adminControlPanel.style.display = 'block';
                } else if (user.isPremium) {
                    statusDisplay.innerText = 'â­ Premium Member';
                    statusDisplay.parentElement.className = 'p-3 bg-amber-50 rounded-xl border border-amber-200';
                    adminControlPanel.style.display = 'none';
                } else {
                    statusDisplay.innerText = 'ðŸ”“ Free Account';
                    statusDisplay.parentElement.className = 'p-3 bg-slate-50 rounded-xl border border-slate-200';
                    adminControlPanel.style.display = 'none';
                }
            } else {
                // User is not logged in - hide user info, show auth forms
                userInfoCard.style.display = 'none';
                authFormsCard.style.display = 'block';
                adminControlPanel.style.display = 'none';
            }
        }

        function handleProfileClick() {
            navigateToPage('profile');
        }

        function showPremiumModal() {
            const user = JSON.parse(localStorage.getItem('currentUser') || 'null');
            if (!user) {
                navigateToPage('profile');
                return;
            }

            if (user.isPremium || user.isAdmin) {
                alert('You already have Premium access! ðŸŽ‰\n\nEnjoy all premium features.');
                return;
            }

            document.getElementById('premium-modal').classList.add('active');
        }

        function closePremiumModal() {
            document.getElementById('premium-modal').classList.remove('active');
        }

        // Comprehensive Bible verses categorized by emotional context
        const  bibleVerses = {
    uplifting: [
        { text: "For I know the plans I have for you, declares the Lord, plans to prosper you and not to harm you, plans to give you hope and a future.", ref: "Jeremiah 29:11" },
        { text: "I can do all things through Christ who strengthens me.", ref: "Philippians 4:13" },
        { text: "The Lord is my strength and my shield; my heart trusts in him, and he helps me.", ref: "Psalm 28:7" },
        { text: "But those who hope in the Lord will renew their strength. They will soar on wings like eagles.", ref: "Isaiah 40:31" },
        { text: "The Lord your God is with you, the Mighty Warrior who saves. He will take great delight in you.", ref: "Zephaniah 3:17" },
        { text: "The joy of the Lord is your strength.", ref: "Nehemian 8:10" },
        { text: "You are the light of the world. A town built on a hill cannot be hidden.", ref: "Matthew 5:14" },
        { text: "If God is for us, who can be against us?", ref: "Romans 8:31" },
        { text: "For we are God's handiwork, created in Christ Jesus to do good works.", ref: "Ephesians 2:10" },
        { text: "The Lord will fight for you; you need only to be still.", ref: "Exodus 14:14" },
        { text: "In all your ways submit to him, and he will make your paths straight.", ref: "Proverbs 3:6" },
        { text: "I am fearfully and wonderfully made.", ref: "Psalm 139:14" },
        { text: "For God has not given us a spirit of fear, but of power and of love and of a sound mind.", ref: "2 Timothy 1:7" },
        { text: "The Lord makes firm the steps of the one who delights in him.", ref: "Psalm 37:23" },
        { text: "He will cover you with his feathers, and under his wings you will find refuge.", ref: "Psalm 91:4" },
        { text: "Your word is a lamp for my feet, a light on my path.", ref: "Psalm 119:105" },
        { text: "May the God of hope fill you with all joy and peace as you trust in him.", ref: "Romans 15:13" },
        { text: "The Lord is good to those whose hope is in him, to the one who seeks him.", ref: "Lamentations 3:25" },
        { text: "My grace is sufficient for you, for my power is made perfect in weakness.", ref: "2 Corinthians 12:9" },
        { text: "Delight yourself in the Lord, and he will give you the desires of your heart.", ref: "Psalm 37:4" },
        { text: "The Lord is my shepherd, I lack nothing.", ref: "Psalm 23:1" },
        { text: "Commit to the Lord whatever you do, and he will establish your plans.", ref: "Proverbs 16:3" },
        { text: "Let us not become weary in doing good, for at the proper time we will reap a harvest if we do not give up.", ref: "Galatians 6:9" },
        { text: "With God all things are possible.", ref: "Matthew 19:26" },
        { text: "The Lord is my rock, my fortress and my deliverer.", ref: "Psalm 18:2" },
        { text: "I have come that they may have life, and have it to the full.", ref: "John 10:10" },
        { text: "The Lord will open the heavens, the storehouse of his bounty.", ref: "Deuteronomy 28:12" },
        { text: "You will be a crown of splendor in the Lord's hand, a royal diadem in the hand of your God.", ref: "Isaiah 62:3" },
        { text: "For the Spirit God gave us does not make us timid, but gives us power, love and self-discipline.", ref: "2 Timothy 1:7" },
        { text: "The Lord bless you and keep you; the Lord make his face shine on you.", ref: "Numbers 6:24-25" },
        { text: "No weapon forged against you will prevail.", ref: "Isaiah 54:17" },
        { text: "Therefore, if anyone is in Christ, the new creation has come: The old has gone, the new is here!", ref: "2 Corinthians 5:17" },
        { text: "The one who is in you is greater than the one who is in the world.", ref: "1 John 4:4" },
        { text: "He who began a good work in you will carry it on to completion.", ref: "Philippians 1:6" },
        { text: "The Lord will guide you always; he will satisfy your needs in a sun-scorched land.", ref: "Isaiah 58:11" },
        { text: "I will strengthen you and help you; I will uphold you with my righteous right hand.", ref: "Isaiah 41:10" },
        { text: "Surely goodness and love will follow me all the days of my life.", ref: "Psalm 23:6" },
        { text: "Ask and it will be given to you; seek and you will find; knock and the door will be opened to you.", ref: "Matthew 7:7" },
        { text: "The Lord will make you the head, not the tail.", ref: "Deuteronomy 28:13" },
        { text: "You are a chosen people, a royal priesthood, a holy nation, God's special possession.", ref: "1 Peter 2:9" },
        { text: "The Lord is good, a refuge in times of trouble. He cares for those who trust in him.", ref: "Nahum 1:7" },
        { text: "Those who sow with tears will reap with songs of joy.", ref: "Psalm 126:5" },
        { text: "The Lord is faithful to all his promises and loving toward all he has made.", ref: "Psalm 145:13" },
        { text: "I will refresh the weary and satisfy the faint.", ref: "Jeremiah 31:25" },
        { text: "The Lord your God goes with you; he will never leave you nor forsake you.", ref: "Deuteronomy 31:6" },
        { text: "The Lord will perfect that which concerns me.", ref: "Psalm 138:8" },
        { text: "I am the vine; you are the branches. If you remain in me and I in you, you will bear much fruit.", ref: "John 15:5" },
        { text: "God is able to bless you abundantly, so that in all things at all times you will abound in every good work.", ref: "2 Corinthians 9:8" },
        { text: "Many are the plans in a person's heart, but it is the Lord's purpose that prevails.", ref: "Proverbs 19:21" },
        { text: "Whatever you do, work at it with all your heart, as working for the Lord.", ref: "Colossians 3:23" },
        { text: "The Lord has done great things for us, and we are filled with joy.", ref: "Psalm 126:3" }
    ],
    
    comforting: [
        { text: "The Lord is close to the brokenhearted and saves those who are crushed in spirit.", ref: "Psalm 34:18" },
        { text: "Come to me, all you who are weary and burdened, and I will give you rest.", ref: "Matthew 11:28" },
        { text: "Do not be anxious about anything, but in every situation, by prayer and petition, present your requests to God.", ref: "Philippians 4:6" },
        { text: "Cast all your anxiety on him because he cares for you.", ref: "1 Peter 5:7" },
        { text: "Peace I leave with you; my peace I give you. Do not let your hearts be troubled and do not be afraid.", ref: "John 14:27" },
        { text: "God is our refuge and strength, an ever-present help in trouble.", ref: "Psalm 46:1" },
        { text: "Even though I walk through the darkest valley, I will fear no evil, for you are with me.", ref: "Psalm 23:4" },
        { text: "He heals the brokenhearted and binds up their wounds.", ref: "Psalm 147:3" },
        { text: "The Lord is compassionate and gracious, slow to anger, abounding in love.", ref: "Psalm 103:8" },
        { text: "When you pass through the waters, I will be with you.", ref: "Isaiah 43:2" },
        { text: "The Lord is near to all who call on him, to all who call on him in truth.", ref: "Psalm 145:18" },
        { text: "Blessed are those who mourn, for they will be comforted.", ref: "Matthew 5:4" },
        { text: "Do not fear, for I am with you; do not be dismayed, for I am your God.", ref: "Isaiah 41:10" },
        { text: "The Lord your God is in your midst, a mighty one who will save.", ref: "Zephaniah 3:17" },
        { text: "He gives strength to the weary and increases the power of the weak.", ref: "Isaiah 40:29" },
        { text: "You will keep in perfect peace those whose minds are steadfast, because they trust in you.", ref: "Isaiah 26:3" },
        { text: "The eternal God is your refuge, and underneath are the everlasting arms.", ref: "Deuteronomy 33:27" },
        { text: "I have told you these things, so that in me you may have peace.", ref: "John 16:33" },
        { text: "The Lord will sustain them on their sickbed and restore them from their bed of illness.", ref: "Psalm 41:3" },
        { text: "Weeping may stay for the night, but rejoicing comes in the morning.", ref: "Psalm 30:5" },
        { text: "The Lord upholds all who fall and lifts up all who are bowed down.", ref: "Psalm 145:14" },
        { text: "He will wipe every tear from their eyes.", ref: "Revelation 21:4" },
        { text: "My comfort in my suffering is this: Your promise preserves my life.", ref: "Psalm 119:50" },
        { text: "The Lord himself goes before you and will be with you; he will never leave you nor forsake you.", ref: "Deuteronomy 31:8" },
        { text: "I have heard your prayer and seen your tears; I will heal you.", ref: "2 Kings 20:5" },
        { text: "Let the peace of Christ rule in your hearts.", ref: "Colossians 3:15" },
        { text: "God will meet all your needs according to the riches of his glory in Christ Jesus.", ref: "Philippians 4:19" },
        { text: "The Lord is good to those who wait for him, to the soul who seeks him.", ref: "Lamentations 3:25" },
        { text: "The name of the Lord is a fortified tower; the righteous run to it and are safe.", ref: "Proverbs 18:10" },
        { text: "Your sorrow will turn into joy.", ref: "John 16:20" },
        { text: "Those who hope in the Lord will renew their strength.", ref: "Isaiah 40:31" },
        { text: "He tends his flock like a shepherd: He gathers the lambs in his arms and carries them close to his heart.", ref: "Isaiah 40:11" },
        { text: "The Lord is gracious and compassionate, slow to anger and rich in love.", ref: "Psalm 145:8" },
        { text: "I will never leave you nor forsake you.", ref: "Hebrews 13:5" },
        { text: "As a mother comforts her child, so will I comfort you.", ref: "Isaiah 66:13" },
        { text: "The Lord is a refuge for the oppressed, a stronghold in times of trouble.", ref: "Psalm 9:9" },
        { text: "Anxiety weighs down the heart, but a kind word cheers it up.", ref: "Proverbs 12:25" },
        { text: "The Lord is my portion; therefore I will wait for him.", ref: "Lamentations 3:24" },
        { text: "Be still, and know that I am God.", ref: "Psalm 46:10" },
        { text: "In my distress I called to the Lord, and he answered me.", ref: "Psalm 120:1" },
        { text: "The Lord gives strength to his people; the Lord blesses his people with peace.", ref: "Psalm 29:11" },
        { text: "Turn to me and be gracious to me, for I am lonely and afflicted.", ref: "Psalm 25:16" },
        { text: "Do not be afraid; do not be discouraged. The Lord your God will be with you wherever you go.", ref: "Joshua 1:9" },
        { text: "Surely he took up our pain and bore our suffering.", ref: "Isaiah 53:4" },
        { text: "My soul finds rest in God alone; my salvation comes from him.", ref: "Psalm 62:1" },
        { text: "He gives power to the weak and strength to the powerless.", ref: "Isaiah 40:29" },
        { text: "The Lord is righteous in all his ways and faithful in all he does.", ref: "Psalm 145:17" },
        { text: "He brought me out into a spacious place; he rescued me because he delighted in me.", ref: "Psalm 18:19" },
        { text: "The Lord will rescue his servants; no one who takes refuge in him will be condemned.", ref: "Psalm 34:22" },
        { text: "His compassions never fail. They are new every morning.", ref: "Lamentations 3:22-23" }
    ],
    
    strength: [
        { text: "Be strong and courageous. Do not be afraid; do not be discouraged, for the Lord your God will be with you wherever you go.", ref: "Joshua 1:9" },
        { text: "Trust in the Lord with all your heart and lean not on your own understanding.", ref: "Proverbs 3:5" },
        { text: "And we know that in all things God works for the good of those who love him.", ref: "Romans 8:28" },
        { text: "The Lord is my light and my salvationâ€”whom shall I fear? The Lord is the stronghold of my lifeâ€”of whom shall I be afraid?", ref: "Psalm 27:1" },
        { text: "I have fought the good fight, I have finished the race, I have kept the faith.", ref: "2 Timothy 4:7" },
        { text: "Wait for the Lord; be strong and take heart and wait for the Lord.", ref: "Psalm 27:14" },
        { text: "The Lord is a warrior; the Lord is his name.", ref: "Exodus 15:3" },
        { text: "Finally, be strong in the Lord and in his mighty power.", ref: "Ephesians 6:10" },
        { text: "Do not conform to the pattern of this world, but be transformed by the renewing of your mind.", ref: "Romans 12:2" },
        { text: "I press on toward the goal to win the prize for which God has called me.", ref: "Philippians 3:14" },
        { text: "Stand firm. Let nothing move you. Always give yourselves fully to the work of the Lord.", ref: "1 Corinthians 15:58" },
        { text: "The Lord will fight for you; you need only to be still.", ref: "Exodus 14:14" },
        { text: "Be on your guard; stand firm in the faith; be courageous; be strong.", ref: "1 Corinthians 16:13" },
        { text: "Take up the shield of faith, with which you can extinguish all the flaming arrows of the evil one.", ref: "Ephesians 6:16" },
        { text: "Submit yourselves, then, to God. Resist the devil, and he will flee from you.", ref: "James 4:7" },
        { text: "Put on the full armor of God, so that you can take your stand against the devil's schemes.", ref: "Ephesians 6:11" },
        { text: "I know what it is to be in need, and I know what it is to have plenty. I have learned the secret of being content.", ref: "Philippians 4:12" },
        { text: "Consider it pure joy, my brothers and sisters, whenever you face trials of many kinds.", ref: "James 1:2" },
        { text: "We are more than conquerors through him who loved us.", ref: "Romans 8:37" },
        { text: "For our struggle is not against flesh and blood, but against the spiritual forces of evil.", ref: "Ephesians 6:12" },
        { text: "The Lord is my rock, my fortress and my deliverer; my God is my rock, in whom I take refuge.", ref: "Psalm 18:2" },
        { text: "In this world you will have trouble. But take heart! I have overcome the world.", ref: "John 16:33" },
        { text: "Stand firm then, with the belt of truth buckled around your waist.", ref: "Ephesians 6:14" },
        { text: "Not by might nor by power, but by my Spirit, says the Lord Almighty.", ref: "Zechariah 4:6" },
        { text: "Greater is he that is in you than he that is in the world.", ref: "1 John 4:4" },
        { text: "The righteous person may have many troubles, but the Lord delivers him from them all.", ref: "Psalm 34:19" },
        { text: "You, dear children, are from God and have overcome them, because the one who is in you is greater.", ref: "1 John 4:4" },
        { text: "Though an army besiege me, my heart will not fear; though war break out against me, even then I will be confident.", ref: "Psalm 27:3" },
        { text: "The Lord is my strength and my defense; he has become my salvation.", ref: "Exodus 15:2" },
        { text: "I can do all this through him who gives me strength.", ref: "Philippians 4:13" },
        { text: "For God gave us a spirit not of fear but of power and love and self-control.", ref: "2 Timothy 1:7" },
        { text: "For everyone born of God overcomes the world. This is the victory that has overcome the world, even our faith.", ref: "1 John 5:4" },
        { text: "Be watchful, stand firm in the faith, act like men, be strong.", ref: "1 Corinthians 16:13" },
        { text: "The Lord gives strength to his people; the Lord blesses his people with peace.", ref: "Psalm 29:11" },
        { text: "He gives strength to the weary and increases the power of the weak.", ref: "Isaiah 40:29" },
        { text: "My flesh and my heart may fail, but God is the strength of my heart and my portion forever.", ref: "Psalm 73:26" },
        { text: "The Lord is my strength and my song; he has given me victory.", ref: "Exodus 15:2" },
        { text: "It is God who arms me with strength and keeps my way secure.", ref: "Psalm 18:32" },
        { text: "Blessed is the one who perseveres under trial because, having stood the test, that person will receive the crown of life.", ref: "James 1:12" },
        { text: "Let us run with perseverance the race marked out for us.", ref: "Hebrews 12:1" },
        { text: "Do not be overcome by evil, but overcome evil with good.", ref: "Romans 12:21" },
        { text: "Though the fig tree does not bud and there are no grapes on the vines, yet I will rejoice in the Lord.", ref: "Habakkuk 3:17-18" },
        { text: "The God of all grace, who called you to his eternal glory in Christ, will himself restore you and make you strong.", ref: "1 Peter 5:10" },
        { text: "I will go in the strength of the Lord God; I will make mention of Your righteousness, of Yours only.", ref: "Psalm 71:16" },
        { text: "He who dwells in the shelter of the Most High will rest in the shadow of the Almighty.", ref: "Psalm 91:1" },
        { text: "The Lord stood at my side and gave me strength.", ref: "2 Timothy 4:17" },
        { text: "The weapons we fight with are not the weapons of the world. On the contrary, they have divine power.", ref: "2 Corinthians 10:4" },
        { text: "God is faithful; he will not let you be tempted beyond what you can bear.", ref: "1 Corinthians 10:13" },
        { text: "Have I not commanded you? Be strong and courageous. Do not be afraid; do not be discouraged.", ref: "Joshua 1:9" },
        { text: "You armed me with strength for battle; you humbled my adversaries before me.", ref: "Psalm 18:39" }
    ],
    
    grateful: [
        { text: "Give thanks to the Lord, for he is good; his love endures forever.", ref: "Psalm 107:1" },
        { text: "Rejoice always, pray continually, give thanks in all circumstances.", ref: "1 Thessalonians 5:16-18" },
        { text: "This is the day the Lord has made; let us rejoice and be glad in it.", ref: "Psalm 118:24" },
        { text: "Every good and perfect gift is from above, coming down from the Father.", ref: "James 1:17" },
        { text: "Enter his gates with thanksgiving and his courts with praise; give thanks to him and praise his name.", ref: "Psalm 100:4" },
        { text: "Let them give thanks to the Lord for his unfailing love and his wonderful deeds for mankind.", ref: "Psalm 107:8" },
        { text: "I will give thanks to you, Lord, with all my heart; I will tell of all your wonderful deeds.", ref: "Psalm 9:1" },
        { text: "Give thanks in all circumstances; for this is God's will for you in Christ Jesus.", ref: "1 Thessalonians 5:18" },
        { text: "Praise the Lord. Give thanks to the Lord, for he is good; his love endures forever.", ref: "Psalm 106:1" },
        { text: "Thanks be to God for his indescribable gift!", ref: "2 Corinthians 9:15" },
        { text: "Let the peace of Christ rule in your hearts, and be thankful.", ref: "Colossians 3:15" },
        { text: "I will praise you, Lord, among the nations; I will sing of you among the peoples.", ref: "Psalm 57:9" },
        { text: "The Lord has done great things for us, and we are filled with joy.", ref: "Psalm 126:3" },
        { text: "Oh give thanks to the Lord, for he is good, for his steadfast love endures forever!", ref: "Psalm 136:1" },
        { text: "Give praise to the Lord, proclaim his name; make known among the nations what he has done.", ref: "1 Chronicles 16:8" },
        { text: "Shout for joy to the Lord, all the earth. Worship the Lord with gladness.", ref: "Psalm 100:1-2" },
        { text: "I will give you thanks, for you answered me; you have become my salvation.", ref: "Psalm 118:21" },
        { text: "Everything God created is good, and nothing is to be rejected if it is received with thanksgiving.", ref: "1 Timothy 4:4" },
        { text: "Let them praise his name with dancing and make music to him with timbrel and harp.", ref: "Psalm 149:3" },
        { text: "O Lord, you are my God; I will exalt you and praise your name.", ref: "Isaiah 25:1" },
        { text: "Through Jesus, therefore, let us continually offer to God a sacrifice of praise.", ref: "Hebrews 13:15" },
        { text: "Bless the Lord, O my soul, and all that is within me, bless his holy name!", ref: "Psalm 103:1" },
        { text: "I will extol the Lord at all times; his praise will always be on my lips.", ref: "Psalm 34:1" },
        { text: "Worship the Lord with gladness; come before him with joyful songs.", ref: "Psalm 100:2" },
        { text: "Sing to the Lord a new song; sing to the Lord, all the earth.", ref: "Psalm 96:1" },
        { text: "Great is the Lord and most worthy of praise; his greatness no one can fathom.", ref: "Psalm 145:3" },
        { text: "The Lord is my strength and my shield; my heart trusts in him, and he helps me. My heart leaps for joy.", ref: "Psalm 28:7" },
        { text: "I will sing to the Lord all my life; I will sing praise to my God as long as I live.", ref: "Psalm 104:33" },
        { text: "Sing joyfully to the Lord, you righteous; it is fitting for the upright to praise him.", ref: "Psalm 33:1" },
        { text: "From the rising of the sun to the place where it sets, the name of the Lord is to be praised.", ref: "Psalm 113:3" },
        { text: "Therefore my heart is glad and my tongue rejoices; my body also will rest secure.", ref: "Psalm 16:9" },
        { text: "I will remember the deeds of the Lord; yes, I will remember your miracles of long ago.", ref: "Psalm 77:11" },
        { text: "Blessed is the one you choose and bring near to live in your courts! We are filled with the good things of your house.", ref: "Psalm 65:4" },
        { text: "The Lord is my strength and my song; he has become my salvation.", ref: "Psalm 118:14" },
        { text: "Praise the Lord, my soul; all my inmost being, praise his holy name.", ref: "Psalm 103:1" },
        { text: "I thank my God every time I remember you.", ref: "Philippians 1:3" },
        { text: "May the peoples praise you, God; may all the peoples praise you.", ref: "Psalm 67:3" },
        { text: "Let everything that has breath praise the Lord. Praise the Lord.", ref: "Psalm 150:6" },
        { text: "Devote yourselves to prayer, being watchful and thankful.", ref: "Colossians 4:2" },
        { text: "I will give thanks to the Lord because of his righteousness; I will sing the praises of the name of the Lord Most High.", ref: "Psalm 7:17" },
        { text: "We always thank God for all of you and continually mention you in our prayers.", ref: "1 Thessalonians 1:2" },
        { text: "Give thanks to the God of gods. His love endures forever.", ref: "Psalm 136:2" },
        { text: "My lips will shout for joy when I sing praise to youâ€”I whom you have delivered.", ref: "Psalm 71:23" },
        { text: "I will sacrifice a thank offering to you and call on the name of the Lord.", ref: "Psalm 116:17" },
        { text: "Yours, Lord, is the greatness and the power and the glory and the majesty and the splendor.", ref: "1 Chronicles 29:11" },
        { text: "Blessed be the Lord, who daily bears us up; God is our salvation.", ref: "Psalm 68:19" },
        { text: "Surely God is my salvation; I will trust and not be afraid.", ref: "Isaiah 12:2" },
        { text: "He put a new song in my mouth, a hymn of praise to our God.", ref: "Psalm 40:3" },
        { text: "For the Lord is good and his love endures forever; his faithfulness continues through all generations.", ref: "Psalm 100:5" },
        { text: "Praise be to the God and Father of our Lord Jesus Christ, who has blessed us in the heavenly realms.", ref: "Ephesians 1:3" }
    ]
};

        // Comprehensive motivational quotes categorized by emotional context
        const motivationalQuotes = {
    uplifting: [
        { text: "The only impossible journey is the one you never begin.", author: "Tony Robbins" },
        { text: "Believe you can and you're halfway there.", author: "Theodore Roosevelt" },
        { text: "The future belongs to those who believe in the beauty of their dreams.", author: "Eleanor Roosevelt" },
        { text: "You are never too old to set another goal or to dream a new dream.", author: "C.S. Lewis" },
        { text: "Success is not how high you have climbed, but how you make a positive difference to the world.", author: "Roy T. Bennett" },
        { text: "Your limitationâ€”it's only your imagination.", author: "Unknown" },
        { text: "Great things never come from comfort zones.", author: "Unknown" },
        { text: "Dream it. Wish it. Do it.", author: "Unknown" },
        { text: "Success doesn't just find you. You have to go out and get it.", author: "Unknown" },
        { text: "The harder you work for something, the greater you'll feel when you achieve it.", author: "Unknown" },
        { text: "Dream bigger. Do bigger.", author: "Unknown" },
        { text: "Don't stop when you're tired. Stop when you're done.", author: "Unknown" },
        { text: "Wake up with determination. Go to bed with satisfaction.", author: "Unknown" },
        { text: "Do something today that your future self will thank you for.", author: "Sean Patrick Flanery" },
        { text: "Little things make big days.", author: "Unknown" },
        { text: "It's going to be hard, but hard does not mean impossible.", author: "Unknown" },
        { text: "Don't wait for opportunity. Create it.", author: "Unknown" },
        { text: "Sometimes we're tested not to show our weaknesses, but to discover our strengths.", author: "Unknown" },
        { text: "The key to success is to focus on goals, not obstacles.", author: "Unknown" },
        { text: "Dream it. Believe it. Build it.", author: "Unknown" },
        { text: "The only person you are destined to become is the person you decide to be.", author: "Ralph Waldo Emerson" },
        { text: "Don't watch the clock; do what it does. Keep going.", author: "Sam Levenson" },
        { text: "The best time to plant a tree was 20 years ago. The second best time is now.", author: "Chinese Proverb" },
        { text: "Your time is limited, don't waste it living someone else's life.", author: "Steve Jobs" },
        { text: "Whether you think you can or you think you can't, you're right.", author: "Henry Ford" },
        { text: "The only way to do great work is to love what you do.", author: "Steve Jobs" },
        { text: "If you can dream it, you can do it.", author: "Walt Disney" },
        { text: "Innovation distinguishes between a leader and a follower.", author: "Steve Jobs" },
        { text: "Act as if what you do makes a difference. It does.", author: "William James" },
        { text: "Success is not final, failure is not fatal: it is the courage to continue that counts.", author: "Winston Churchill" },
        { text: "Hardships often prepare ordinary people for an extraordinary destiny.", author: "C.S. Lewis" },
        { text: "Believe in yourself. You are braver than you think, more talented than you know, and capable of more than you imagine.", author: "Roy T. Bennett" },
        { text: "I learned that courage was not the absence of fear, but the triumph over it.", author: "Nelson Mandela" },
        { text: "There is nothing impossible to they who will try.", author: "Alexander the Great" },
        { text: "The secret of getting ahead is getting started.", author: "Mark Twain" },
        { text: "It's not whether you get knocked down, it's whether you get up.", author: "Vince Lombardi" },
        { text: "We may encounter many defeats but we must not be defeated.", author: "Maya Angelou" },
        { text: "Knowing is not enough; we must apply. Wishing is not enough; we must do.", author: "Johann Wolfgang Von Goethe" },
        { text: "Imagine your life is perfect in every respect; what would it look like?", author: "Brian Tracy" },
        { text: "We generate fears while we sit. We overcome them by action.", author: "Dr. Henry Link" },
        { text: "Security is mostly a superstition. Life is either a daring adventure or nothing.", author: "Helen Keller" },
        { text: "The man who has confidence in himself gains the confidence of others.", author: "Hasidic Proverb" },
        { text: "The only limit to our realization of tomorrow will be our doubts of today.", author: "Franklin D. Roosevelt" },
        { text: "What you lack in talent can be made up with desire, hustle, and giving 110% all the time.", author: "Don Zimmer" },
        { text: "Do what you can with all you have, wherever you are.", author: "Theodore Roosevelt" },
        { text: "You are never too old to set another goal or to dream a new dream.", author: "C.S. Lewis" },
        { text: "To see what is right and not do it is a lack of courage.", author: "Confucius" },
        { text: "Reading is to the mind, as exercise is to the body.", author: "Brian Tracy" },
        { text: "The only impossible journey is the one you never begin.", author: "Tony Robbins" },
        { text: "Change your thoughts and you change your world.", author: "Norman Vincent Peale" }
    ],
    
    encouraging: [
        { text: "Success is not final, failure is not fatal: it is the courage to continue that counts.", author: "Winston Churchill" },
        { text: "It does not matter how slowly you go as long as you do not stop.", author: "Confucius" },
        { text: "Everything you've ever wanted is on the other side of fear.", author: "George Addair" },
        { text: "The only way to do great work is to love what you do.", author: "Steve Jobs" },
        { text: "The best way to predict the future is to create it.", author: "Peter Drucker" },
        { text: "If you are working on something that you really care about, you don't have to be pushed. The vision pulls you.", author: "Steve Jobs" },
        { text: "People who are crazy enough to think they can change the world, are the ones who do.", author: "Rob Siltanen" },
        { text: "Failure will never overtake me if my determination to succeed is strong enough.", author: "Og Mandino" },
        { text: "We may encounter many defeats but we must not be defeated.", author: "Maya Angelou" },
        { text: "Knowing is not enough; we must apply. Wishing is not enough; we must do.", author: "Johann Wolfgang Von Goethe" },
        { text: "I never dreamed about success, I worked for it.", author: "Estee Lauder" },
        { text: "Don't watch the clock; do what it does. Keep going.", author: "Sam Levenson" },
        { text: "Do something wonderful, people may imitate it.", author: "Albert Schweitzer" },
        { text: "Try not to become a person of success, but rather try to become a person of value.", author: "Albert Einstein" },
        { text: "If you want to lift yourself up, lift up someone else.", author: "Booker T. Washington" },
        { text: "I attribute my success to this: I never gave or took any excuse.", author: "Florence Nightingale" },
        { text: "You miss 100% of the shots you don't take.", author: "Wayne Gretzky" },
        { text: "I've missed more than 9000 shots in my career. I've lost almost 300 games. And that is why I succeed.", author: "Michael Jordan" },
        { text: "The most difficult thing is the decision to act, the rest is merely tenacity.", author: "Amelia Earhart" },
        { text: "Every strike brings me closer to the next home run.", author: "Babe Ruth" },
        { text: "Definiteness of purpose is the starting point of all achievement.", author: "W. Clement Stone" },
        { text: "Life isn't about getting and having, it's about giving and being.", author: "Kevin Kruse" },
        { text: "Life is what happens to you while you're busy making other plans.", author: "John Lennon" },
        { text: "We become what we think about.", author: "Earl Nightingale" },
        { text: "Twenty years from now you will be more disappointed by the things that you didn't do than by the ones you did do.", author: "Mark Twain" },
        { text: "Life is 10% what happens to me and 90% of how I react to it.", author: "Charles Swindoll" },
        { text: "The most common way people give up their power is by thinking they don't have any.", author: "Alice Walker" },
        { text: "The mind is everything. What you think you become.", author: "Buddha" },
        { text: "The best time to plant a tree was 20 years ago. The second best time is now.", author: "Chinese Proverb" },
        { text: "An unexamined life is not worth living.", author: "Socrates" },
        { text: "Eighty percent of success is showing up.", author: "Woody Allen" },
        { text: "Your time is limited, so don't waste it living someone else's life.", author: "Steve Jobs" },
        { text: "Winning isn't everything, but wanting to win is.", author: "Vince Lombardi" },
        { text: "I am not a product of my circumstances. I am a product of my decisions.", author: "Stephen Covey" },
        { text: "Every child is an artist. The problem is how to remain an artist once he grows up.", author: "Pablo Picasso" },
        { text: "You can never cross the ocean until you have the courage to lose sight of the shore.", author: "Christopher Columbus" },
        { text: "I've learned that people will forget what you said, people will forget what you did, but people will never forget how you made them feel.", author: "Maya Angelou" },
        { text: "Either you run the day, or the day runs you.", author: "Jim Rohn" },
        { text: "Whether you think you can or you think you can't, you're right.", author: "Henry Ford" },
        { text: "The two most important days in your life are the day you are born and the day you find out why.", author: "Mark Twain" },
        { text: "Whatever you can do, or dream you can, begin it. Boldness has genius, power and magic in it.", author: "Johann Wolfgang von Goethe" },
        { text: "The best revenge is massive success.", author: "Frank Sinatra" },
        { text: "People often say that motivation doesn't last. Well, neither does bathing. That's why we recommend it daily.", author: "Zig Ziglar" },
        { text: "Life shrinks or expands in proportion to one's courage.", author: "Anais Nin" },
        { text: "If you hear a voice within you say 'you cannot paint,' then by all means paint and that voice will be silenced.", author: "Vincent Van Gogh" },
        { text: "There is only one way to avoid criticism: do nothing, say nothing, and be nothing.", author: "Aristotle" },
        { text: "Ask and it will be given to you; search, and you will find; knock and the door will be opened for you.", author: "Jesus" },
        { text: "The only person you are destined to become is the person you decide to be.", author: "Ralph Waldo Emerson" },
        { text: "Go confidently in the direction of your dreams. Live the life you have imagined.", author: "Henry David Thoreau" },
        { text: "When I stand before God at the end of my life, I would hope that I would not have a single bit of talent left and could say, I used everything you gave me.", author: "Erma Bombeck" }
    ],
    
    strength: [
        { text: "What lies behind us and what lies before us are tiny matters compared to what lies within us.", author: "Ralph Waldo Emerson" },
        { text: "Strength doesn't come from what you can do. It comes from overcoming the things you once thought you couldn't.", author: "Rikki Rogers" },
        { text: "You have power over your mind - not outside events. Realize this, and you will find strength.", author: "Marcus Aurelius" },
        { text: "The struggle you're in today is developing the strength you need for tomorrow.", author: "Robert Tew" },
        { text: "Rock bottom became the solid foundation on which I rebuilt my life.", author: "J.K. Rowling" },
        { text: "That which does not kill us makes us stronger.", author: "Friedrich Nietzsche" },
        { text: "I am not afraid of storms, for I am learning how to sail my ship.", author: "Louisa May Alcott" },
        { text: "The greatest glory in living lies not in never falling, but in rising every time we fall.", author: "Nelson Mandela" },
        { text: "Out of difficulties grow miracles.", author: "Jean de La BruyÃ¨re" },
        { text: "Courage doesn't always roar. Sometimes courage is the quiet voice at the end of the day saying 'I will try again tomorrow.'", author: "Mary Anne Radmacher" },
        { text: "The only thing we have to fear is fear itself.", author: "Franklin D. Roosevelt" },
        { text: "It always seems impossible until it's done.", author: "Nelson Mandela" },
        { text: "A strong positive mental attitude will create more miracles than any wonder drug.", author: "Patricia Neal" },
        { text: "You are braver than you believe, stronger than you seem, and smarter than you think.", author: "A.A. Milne" },
        { text: "What seems to us as bitter trials are often blessings in disguise.", author: "Oscar Wilde" },
        { text: "The harder the conflict, the more glorious the triumph.", author: "Thomas Paine" },
        { text: "Don't be pushed around by the fears in your mind. Be led by the dreams in your heart.", author: "Roy T. Bennett" },
        { text: "I can be changed by what happens to me. But I refuse to be reduced by it.", author: "Maya Angelou" },
        { text: "You may have to fight a battle more than once to win it.", author: "Margaret Thatcher" },
        { text: "Life is 10% what happens to us and 90% how we react to it.", author: "Charles R. Swindoll" },
        { text: "Nothing is impossible. The word itself says 'I'm possible!'", author: "Audrey Hepburn" },
        { text: "The question isn't who is going to let me; it's who is going to stop me.", author: "Ayn Rand" },
        { text: "When everything seems to be going against you, remember that the airplane takes off against the wind, not with it.", author: "Henry Ford" },
        { text: "It's not the load that breaks you down, it's the way you carry it.", author: "Lou Holtz" },
        { text: "The only thing standing between you and your goal is the story you keep telling yourself as to why you can't achieve it.", author: "Jordan Belfort" },
        { text: "Do not pray for an easy life, pray for the strength to endure a difficult one.", author: "Bruce Lee" },
        { text: "You gain strength, courage, and confidence by every experience in which you really stop to look fear in the face.", author: "Eleanor Roosevelt" },
        { text: "A problem is a chance for you to do your best.", author: "Duke Ellington" },
        { text: "Strength and growth come only through continuous effort and struggle.", author: "Napoleon Hill" },
        { text: "In the middle of difficulty lies opportunity.", author: "Albert Einstein" },
        { text: "Never bend your head. Always hold it high. Look the world straight in the eye.", author: "Helen Keller" },
        { text: "You may not control all the events that happen to you, but you can decide not to be reduced by them.", author: "Maya Angelou" },
        { text: "The oak fought the wind and was broken, the willow bent when it must and survived.", author: "Robert Jordan" },
        { text: "Character cannot be developed in ease and quiet. Only through experience of trial and suffering can the soul be strengthened.", author: "Helen Keller" },
        { text: "He who has a why to live can bear almost any how.", author: "Friedrich Nietzsche" },
        { text: "I have not failed. I've just found 10,000 ways that won't work.", author: "Thomas A. Edison" },
        { text: "Fall seven times and stand up eight.", author: "Japanese Proverb" },
        { text: "The greatest weapon against stress is our ability to choose one thought over another.", author: "William James" },
        { text: "Promise me you'll always remember: You're braver than you believe, stronger than you seem, and smarter than you think.", author: "Christopher Robin" },
        { text: "You never know how strong you are until being strong is your only choice.", author: "Bob Marley" },
        { text: "Don't count the days, make the days count.", author: "Muhammad Ali" },
        { text: "The phoenix must burn to emerge.", author: "Janet Fitch" },
        { text: "Storms make trees take deeper roots.", author: "Dolly Parton" },
        { text: "The gem cannot be polished without friction, nor man perfected without trials.", author: "Chinese Proverb" },
        { text: "Turn your wounds into wisdom.", author: "Oprah Winfrey" },
        { text: "Stars can't shine without darkness.", author: "Unknown" },
        { text: "The comeback is always stronger than the setback.", author: "Unknown" },
        { text: "Pain is temporary. Quitting lasts forever.", author: "Lance Armstrong" },
        { text: "Difficult roads often lead to beautiful destinations.", author: "Zig Ziglar" },
        { text: "When you come out of the storm, you won't be the same person who walked in. That's what the storm is all about.", author: "Haruki Murakami" }
    ],
    
    grateful: [
        { text: "Gratitude turns what we have into enough.", author: "Anonymous" },
        { text: "The more grateful I am, the more beauty I see.", author: "Mary Davis" },
        { text: "Enjoy the little things, for one day you may look back and realize they were the big things.", author: "Robert Brault" },
        { text: "Gratitude is the healthiest of all human emotions.", author: "Zig Ziglar" },
        { text: "When you are grateful, fear disappears and abundance appears.", author: "Tony Robbins" },
        { text: "Gratitude makes sense of our past, brings peace for today, and creates a vision for tomorrow.", author: "Melody Beattie" },
        { text: "The root of joy is gratefulness.", author: "David Steindl-Rast" },
        { text: "Gratitude is not only the greatest of virtues, but the parent of all others.", author: "Cicero" },
        { text: "As we express our gratitude, we must never forget that the highest appreciation is not to utter words, but to live by them.", author: "John F. Kennedy" },
        { text: "Let us be grateful to the people who make us happy; they are the charming gardeners who make our souls blossom.", author: "Marcel Proust" },
        { text: "Gratitude is the fairest blossom which springs from the soul.", author: "Henry Ward Beecher" },
        { text: "The way to develop the best that is in a person is by appreciation and encouragement.", author: "Charles Schwab" },
        { text: "Gratitude can transform common days into thanksgivings.", author: "William Arthur Ward" },
        { text: "We can only be said to be alive in those moments when our hearts are conscious of our treasures.", author: "Thornton Wilder" },
        { text: "Acknowledging the good that you already have in your life is the foundation for all abundance.", author: "Eckhart Tolle" },
        { text: "If the only prayer you ever say in your entire life is thank you, it will be enough.", author: "Meister Eckhart" },
        { text: "Reflect upon your present blessings, of which every man has plenty; not on your past misfortunes, of which all men have some.", author: "Charles Dickens" },
        { text: "Gratitude is a powerful catalyst for happiness. It's the spark that lights a fire of joy in your soul.", author: "Amy Collette" },
        { text: "When I started counting my blessings, my whole life turned around.", author: "Willie Nelson" },
        { text: "Gratitude is the memory of the heart.", author: "Jean Baptiste Massieu" },
        { text: "The struggle ends when gratitude begins.", author: "Neale Donald Walsch" },
        { text: "Silent gratitude isn't much use to anyone.", author: "Gladys Bronwyn Stern" },
        { text: "God gave you a gift of 86,400 seconds today. Have you used one to say 'thank you?'", author: "William A. Ward" },
        { text: "Cultivate the habit of being grateful for every good thing that comes to you, and to give thanks continuously.", author: "Ralph Waldo Emerson" },
        { text: "Gratitude is the sign of noble souls.", author: "Aesop" },
        { text: "Be thankful for what you have; you'll end up having more. If you concentrate on what you don't have, you will never, ever have enough.", author: "Oprah Winfrey" },
        { text: "Feeling gratitude and not expressing it is like wrapping a present and not giving it.", author: "William Arthur Ward" },
        { text: "No duty is more urgent than giving thanks.", author: "James Allen" },
        { text: "This a wonderful day. I've never seen this one before.", author: "Maya Angelou" },
        { text: "Appreciation can make a day, even change a life. Your willingness to put it into words is all that is necessary.", author: "Margaret Cousins" },
        { text: "It's not happiness that brings us gratitude. It's gratitude that brings us happiness.", author: "Unknown" },
        { text: "The thankful receiver bears a plentiful harvest.", author: "William Blake" },
        { text: "Today I choose to live with gratitude for the love that fills my heart, the peace that rests within my spirit, and the voice of hope that says all things are possible.", author: "Unknown" },
        { text: "Gratitude turns what we have into enough, and more. It turns denial into acceptance, chaos into order, confusion into clarity...it makes sense of our past, brings peace for today, and creates a vision for tomorrow.", author: "Melody Beattie" },
        { text: "Gratitude is a quality similar to electricity: it must be produced and discharged and used up in order to exist at all.", author: "William Faulkner" },
        { text: "He is a wise man who does not grieve for the things which he has not, but rejoices for those which he has.", author: "Epictetus" },
        { text: "The essence of all beautiful art, all great art, is gratitude.", author: "Friedrich Nietzsche" },
        { text: "Gratitude bestows reverence, allowing us to encounter everyday epiphanies.", author: "John Milton" },
        { text: "In ordinary life, we hardly realize that we receive a great deal more than we give, and that it is only with gratitude that life becomes rich.", author: "Dietrich Bonhoeffer" },
        { text: "There are only two ways to live your life. One is as though nothing is a miracle. The other is as though everything is a miracle.", author: "Albert Einstein" },
        { text: "Some people grumble that roses have thorns; I am grateful that thorns have roses.", author: "Alphonse Karr" },
        { text: "Trade your expectation for appreciation and the world changes instantly.", author: "Tony Robbins" },
        { text: "Joy is the simplest form of gratitude.", author: "Karl Barth" },
        { text: "Hem your blessings with thankfulness so they don't unravel.", author: "Unknown" },
        { text: "Gratitude is the wine for the soul. Go on. Get drunk.", author: "Rumi" },
        { text: "Do not spoil what you have by desiring what you have not; remember that what you now have was once among the things you only hoped for.", author: "Epicurus" },
        { text: "Piglet noticed that even though he had a Very Small Heart, it could hold a rather large amount of Gratitude.", author: "A.A. Milne" },
        { text: "Give thanks for a little and you will find a lot.", author: "Hausa Proverb" },
        { text: "Gratitude is when memory is stored in the heart and not in the mind.", author: "Lionel Hampton" },
        { text: "A grateful heart is a beginning of greatness.", author: "James E. Faust" }
    ]
};

        function navigateToPage(page) {
            if (!checkAuth() && page !== 'dashboard' && page !== 'profile') return;
            
            // Check if trying to access admin dashboard
            if (page === 'admin-dashboard') {
                const user = JSON.parse(localStorage.getItem('currentUser') || 'null');
                if (!user || !user.isAdmin) {
                    alert('Access Denied: Admin privileges required');
                    return;
                }
            }

            currentView = page;
            document.querySelectorAll('.page-view').forEach(el => el.classList.remove('active'));
            document.getElementById(page + '-view').classList.add('active');
            
            // Update navigation
            document.querySelectorAll('nav button').forEach(btn => btn.classList.remove('text-amber-500'));
            if (page === 'dashboard') {
                document.getElementById('nav-home').classList.add('text-amber-500');
                loadDashboard();
            } else if (page === 'history') {
                document.getElementById('nav-history').classList.add('text-amber-500');
                renderFullHistory();
            } else if (page === 'profile') {
                document.getElementById('nav-profile').classList.add('text-amber-500');
                updateProfileDisplay();
            } else if (page === 'admin-dashboard') {
                loadAdminDashboard();
            }

            // Load page-specific data
            if (page === 'bible') loadBiblePage();
            if (page === 'gym') loadGymPage();
            if (page === 'journal') loadJournalPage();
            if (page === 'gratitude-view') loadGratitudePage();
            if (page === 'motivation') loadMotivationPage();
            if (page === 'habits') loadHabitsPage();
            if (page === 'goals') loadGoalsPage();
            if (page === 'wellness') loadWellnessPage();
            if (page === 'learning') loadLearningPage();
            if (page === 'finance') loadFinancePage();
            if (page === 'productivity') loadProductivityPage();
            if (page === 'alarms') renderAlarms();
            if (page === 'emotions') loadEmotionsPage();
            if (page === 'analytics') loadAnalyticsPage();
            if (page === 'voice-journal') renderVoiceRecordings();
            if (page === 'export-data') loadExportPage();
            if (page === 'accountability') renderPartners();
            if (page === 'earn') loadEarnPage();

            scrollToTop();
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Get user's emotional context for personalization
        function getUserEmotionalContext() {
            const moods = JSON.parse(localStorage.getItem('moodHistory') || '[]');
            if (moods.length === 0) return 'uplifting';
            
            const recentMood = moods[0].mood;
            
            if (recentMood === 'sad' || recentMood === 'stressed') return 'comforting';
            if (recentMood === 'okay') return 'strength';
            if (recentMood === 'happy' || recentMood === 'amazing') return 'grateful';
            return 'uplifting';
        }

        // AI-powered inspiration selector
        async function generatePersonalizedInspiration() {
            const context = getUserEmotionalContext();
    
    // Get appropriate verse category
    let verseCategory = context;
    
    // Add randomness for variety within category
    const verses = bibleVerses[verseCategory] || bibleVerses.uplifting;
    const quotes = motivationalQuotes[context === 'comforting' ? 'encouraging' : context] || motivationalQuotes.uplifting;
    
    // Weighted random selection (more recent = higher weight)
    const randomVerse = verses[Math.floor(Math.random() * verses.length)];
    const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
    
    console.log(`ðŸŽ¯ Emotional Context: ${context}`);
    console.log(`ðŸ“– Selected Verse Category: ${verseCategory}`);
    
    return { verse: randomVerse, quote: randomQuote };
}

        async function setDailyInspiration() {
            const today = new Date().toDateString();
            let lastUpdate = localStorage.getItem('lastInspirationUpdate');
            
            const shouldUpdate = lastUpdate !== today;
            
            if (shouldUpdate) {
                const inspiration = await generatePersonalizedInspiration();
                
                localStorage.setItem('dailyVerse', JSON.stringify(inspiration.verse));
                localStorage.setItem('dailyQuote', JSON.stringify(inspiration.quote));
                localStorage.setItem('lastInspirationUpdate', today);
            }
            
            const verse = JSON.parse(localStorage.getItem('dailyVerse') || 'null') || bibleVerses.uplifting[0];
            const quote = JSON.parse(localStorage.getItem('dailyQuote') || 'null') || motivationalQuotes.uplifting[0];
            
            document.getElementById('daily-verse').innerText = `"${verse.text}"`;
            document.getElementById('verse-reference').innerText = `â€” ${verse.ref}`;
            document.getElementById('daily-quote').innerText = `"${quote.text}"`;
            document.getElementById('quote-author').innerText = `â€” ${quote.author}`;
        }

        async function refreshInspiration() {
            const btn = document.getElementById('refresh-btn');
            btn.innerHTML = '<span class="loading-spinner"></span>';
            
            const inspiration = await generatePersonalizedInspiration();
            
            localStorage.setItem('dailyVerse', JSON.stringify(inspiration.verse));
            localStorage.setItem('dailyQuote', JSON.stringify(inspiration.quote));
            
            setTimeout(() => {
                document.getElementById('daily-verse').innerText = `"${inspiration.verse.text}"`;
                document.getElementById('verse-reference').innerText = `â€” ${inspiration.verse.ref}`;
                document.getElementById('daily-quote').innerText = `"${inspiration.quote.text}"`;
                document.getElementById('quote-author').innerText = `â€” ${inspiration.quote.author}`;
                
                btn.innerHTML = '<i class="fa-solid fa-rotate"></i>';
            }, 500);
        }

        // Mood check-in functionality
        function saveMoodCheckin() {
            const selectedMood = document.querySelector('.mood-emoji.selected');
            if (!selectedMood) {
                alert('Please select how you\'re feeling');
                return;
            }
            
            const mood = selectedMood.dataset.mood;
            const notes = document.getElementById('mood-notes').value;
            const now = new Date();
            
            const moods = JSON.parse(localStorage.getItem('moodHistory') || '[]');
            moods.unshift({
                mood,
                notes,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('moodHistory', JSON.stringify(moods));
            
            document.querySelectorAll('.mood-emoji').forEach(e => e.classList.remove('selected'));
            document.getElementById('mood-notes').value = '';
            
            localStorage.removeItem('lastInspirationUpdate');
            setDailyInspiration();
            
            addXP(10);
            alert('âœ“ Mood saved! Your inspiration has been personalized.');
        }

        document.querySelectorAll('.mood-emoji').forEach(emoji => {
            emoji.addEventListener('click', function() {
                document.querySelectorAll('.mood-emoji').forEach(e => e.classList.remove('selected'));
                this.classList.add('selected');
            });
        });

        // Gratitude functionality
        function saveGratitude() {
            const gratitude = document.getElementById('gratitude-input').value;
            if (!gratitude.trim()) return;

            const entries = JSON.parse(localStorage.getItem('gratitudeEntries') || '[]');
            const now = new Date();
            entries.unshift({
                content: gratitude,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('gratitudeEntries', JSON.stringify(entries));

            addXP(15);
            document.getElementById('gratitude-input').value = '';
            alert('âœ“ Gratitude saved!');
        }

        function loadGratitudePage() {
            const entries = JSON.parse(localStorage.getItem('gratitudeEntries') || '[]');
            const container = document.getElementById('gratitude-entries');
            
            if (entries.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No gratitude entries yet</p>';
                return;
            }
            
            container.innerHTML = entries.map(e => `
                <div class="entry-item">
                    <p class="text-sm text-slate-700 mb-2">ðŸ’› ${e.content}</p>
                    <p class="text-xs text-slate-400">${e.date} â€¢ ${e.time}</p>
                </div>
            `).join('');
        }

        function loadBiblePage() {
            const verse = JSON.parse(localStorage.getItem('dailyVerse') || 'null') || bibleVerses.uplifting[0];
            document.getElementById('bible-verse-display').innerText = `"${verse.text}"`;
            document.getElementById('bible-verse-ref').innerText = `â€” ${verse.ref}`;

            const entries = JSON.parse(localStorage.getItem('bibleEntries') || '[]');
            renderBibleEntries(entries);
        }

        function saveBibleEntry() {
            const learning = document.getElementById('bible-learning').value;
            if (!learning.trim()) return;

            const entries = JSON.parse(localStorage.getItem('bibleEntries') || '[]');
            const now = new Date();
            entries.unshift({
                content: learning,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('bibleEntries', JSON.stringify(entries));

            addXP(15);
            document.getElementById('bible-learning').value = '';
            renderBibleEntries(entries);
        }

        function renderBibleEntries(entries) {
            const container = document.getElementById('bible-entries');
            if (entries.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No reflections yet</p>';
                return;
            }
            container.innerHTML = entries.map(e => `
                <div class="entry-item">
                    <p class="text-sm text-slate-700 mb-2">${e.content}</p>
                    <p class="text-xs text-slate-400">${e.date} â€¢ ${e.time}</p>
                </div>
            `).join('');
        }

        function loadGymPage() {
            const entries = JSON.parse(localStorage.getItem('gymEntries') || '[]');
            renderGymEntries(entries);
            updateGymStats(entries);
        }

        function saveGymEntry() {
            const exercise = document.getElementById('gym-exercise').value;
            const weight = document.getElementById('gym-weight').value;
            const reps = document.getElementById('gym-reps').value;
            const notes = document.getElementById('gym-notes').value;
            
            if (!exercise.trim()) return;

            const entries = JSON.parse(localStorage.getItem('gymEntries') || '[]');
            const now = new Date();
            entries.unshift({
                exercise,
                weight,
                reps,
                notes,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('gymEntries', JSON.stringify(entries));

            addXP(20);
            document.getElementById('gym-exercise').value = '';
            document.getElementById('gym-weight').value = '';
            document.getElementById('gym-reps').value = '';
            document.getElementById('gym-notes').value = '';
            renderGymEntries(entries);
            updateGymStats(entries);
        }

        function updateGymStats(entries) {
            const today = new Date().toLocaleDateString();
            const todayEntries = entries.filter(e => e.date === today);
            document.getElementById('gym-exercises-count').innerText = todayEntries.length;
            const totalSets = todayEntries.reduce((sum, e) => {
                const match = e.reps.match(/x(\d+)/);
                return sum + (match ? parseInt(match[1]) : 1);
            }, 0);
            document.getElementById('gym-sets-count').innerText = totalSets;
            document.getElementById('gym-volume').innerText = todayEntries.length * 3;
        }

        function renderGymEntries(entries) {
            const container = document.getElementById('gym-entries');
            if (entries.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No workouts logged yet</p>';
                return;
            }
            container.innerHTML = entries.slice(0, 10).map(e => `
                <div class="entry-item">
                    <h4 class="font-bold text-slate-800 mb-1">${e.exercise}</h4>
                    <p class="text-sm text-slate-600 mb-1">${e.weight} â€¢ ${e.reps}</p>
                    ${e.notes ? `<p class="text-xs text-slate-500 italic">${e.notes}</p>` : ''}
                    <p class="text-xs text-slate-400 mt-2">${e.date} â€¢ ${e.time}</p>
                </div>
            `).join('');
        }

        // Mindset/Motivation functions
        function loadMotivationPage() {
            const entries = JSON.parse(localStorage.getItem('mindsetEntries') || '[]');
            renderMindsetEntries(entries);
        }

        function saveMindsetWin() {
            const wins = document.getElementById('mindset-wins').value;
            if (!wins.trim()) return;

            const entries = JSON.parse(localStorage.getItem('mindsetEntries') || '[]');
            const now = new Date();
            entries.unshift({
                type: 'win',
                content: wins,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('mindsetEntries', JSON.stringify(entries));

            addXP(15);
            document.getElementById('mindset-wins').value = '';
            renderMindsetEntries(entries);
            alert('âœ“ Win logged! Keep celebrating progress!');
        }

        function saveMindsetChallenge() {
            const challenge = document.getElementById('mindset-challenge').value;
            if (!challenge.trim()) return;

            const entries = JSON.parse(localStorage.getItem('mindsetEntries') || '[]');
            const now = new Date();
            entries.unshift({
                type: 'challenge',
                content: challenge,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('mindsetEntries', JSON.stringify(entries));

            addXP(15);
            document.getElementById('mindset-challenge').value = '';
            renderMindsetEntries(entries);
            alert('âœ“ Reflection saved!');
        }

        function renderMindsetEntries(entries) {
            const container = document.getElementById('mindset-entries');
            if (entries.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No entries yet</p>';
                return;
            }
            container.innerHTML = entries.map(e => `
                <div class="entry-item">
                    <p class="text-xs font-bold text-amber-600 mb-1">${e.type === 'win' ? 'ðŸ† WIN' : 'âš¡ CHALLENGE'}</p>
                    <p class="text-sm text-slate-700 mb-2">${e.content}</p>
                    <p class="text-xs text-slate-400">${e.date} â€¢ ${e.time}</p>
                </div>
            `).join('');
        }

        // Habits functions
        function loadHabitsPage() {
            renderHabitsToday();
            updateHabitStats();
        }

        function renderHabitsToday() {
            const habits = JSON.parse(localStorage.getItem('habits') || '[]');
            const today = new Date().toDateString();
            const completions = JSON.parse(localStorage.getItem('habitCompletions') || '{}');
            
            const container = document.getElementById('habits-today');
            
            if (habits.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No habits created yet</p>';
                return;
            }

            container.innerHTML = habits.map((h, i) => {
                const isCompleted = completions[today]?.includes(h.name);
                return `
                    <div class="flex items-center justify-between p-3 bg-slate-50 rounded-xl">
                        <div class="flex items-center gap-3 flex-1">
                            <div class="habit-checkbox ${isCompleted ? 'checked' : ''}" onclick="toggleHabit(${i})">
                                ${isCompleted ? '<i class="fa-solid fa-check text-white text-sm"></i>' : ''}
                            </div>
                            <div>
                                <p class="text-sm font-bold text-slate-800">${h.name}</p>
                                <p class="text-xs text-slate-500">${h.frequency}</p>
                            </div>
                        </div>
                        <button onclick="deleteHabit(${i})" class="text-slate-300 hover:text-red-500">
                            <i class="fa-solid fa-trash text-xs"></i>
                        </button>
                    </div>
                `;
            }).join('');
        }

        function toggleHabit(index) {
            const habits = JSON.parse(localStorage.getItem('habits') || '[]');
            const today = new Date().toDateString();
            const completions = JSON.parse(localStorage.getItem('habitCompletions') || '{}');
            
            if (!completions[today]) completions[today] = [];
            
            const habitName = habits[index].name;
            const idx = completions[today].indexOf(habitName);
            
            if (idx > -1) {
                completions[today].splice(idx, 1);
            } else {
                completions[today].push(habitName);
                addXP(10);
            }
            
            localStorage.setItem('habitCompletions', JSON.stringify(completions));
            renderHabitsToday();
            updateHabitStats();
        }

        function deleteHabit(index) {
            if (!confirm('Delete this habit?')) return;
            const habits = JSON.parse(localStorage.getItem('habits') || '[]');
            habits.splice(index, 1);
            localStorage.setItem('habits', JSON.stringify(habits));
            renderHabitsToday();
            updateHabitStats();
        }

        function showAddHabitForm() {
            document.getElementById('add-habit-form').style.display = 'block';
        }

        function hideAddHabitForm() {
            document.getElementById('add-habit-form').style.display = 'none';
            document.getElementById('habit-name').value = '';
        }

        function saveNewHabit() {
            const name = document.getElementById('habit-name').value;
            const frequency = document.getElementById('habit-frequency').value;
            
            if (!name.trim()) return;

            const habits = JSON.parse(localStorage.getItem('habits') || '[]');
            habits.push({ name, frequency });
            localStorage.setItem('habits', JSON.stringify(habits));

            hideAddHabitForm();
            renderHabitsToday();
            updateHabitStats();
            addXP(5);
        }

        function updateHabitStats() {
            const habits = JSON.parse(localStorage.getItem('habits') || '[]');
            const today = new Date().toDateString();
            const completions = JSON.parse(localStorage.getItem('habitCompletions') || '{}');
            
            document.getElementById('total-habits').innerText = habits.length;
            document.getElementById('completed-today').innerText = (completions[today] || []).length;
        }

        // Goals functions
        function loadGoalsPage() {
            const goals = JSON.parse(localStorage.getItem('goals') || '[]');
            renderGoals(goals);
        }

        function saveGoal() {
            const title = document.getElementById('goal-title').value;
            const deadline = document.getElementById('goal-deadline').value;
            const steps = document.getElementById('goal-action-steps').value;
            const category = document.getElementById('goal-category').value;
            
            if (!title.trim()) return;

            const goals = JSON.parse(localStorage.getItem('goals') || '[]');
            const now = new Date();
            goals.unshift({
                title,
                deadline,
                steps,
                category,
                progress: 0,
                completed: false,
                date: now.toLocaleDateString(),
                timestamp: now.getTime()
            });
            localStorage.setItem('goals', JSON.stringify(goals));

            addXP(25);
            document.getElementById('goal-title').value = '';
            document.getElementById('goal-deadline').value = '';
            document.getElementById('goal-action-steps').value = '';
            renderGoals(goals);
            alert('âœ“ Goal created!');
        }

        function renderGoals(goals) {
            const container = document.getElementById('goals-list');
            if (goals.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No goals yet</p>';
                return;
            }
            container.innerHTML = goals.map((g, i) => `
                <div class="entry-item">
                    <div class="flex justify-between items-start mb-2">
                        <div class="flex-1">
                            <h4 class="font-bold text-slate-800 mb-1">${g.title}</h4>
                            <p class="text-xs text-slate-500">ðŸ“… ${g.deadline || 'No deadline'} â€¢ ${g.category}</p>
                        </div>
                        <button onclick="deleteGoal(${i})" class="text-slate-300 hover:text-red-500 ml-2">
                            <i class="fa-solid fa-trash text-xs"></i>
                        </button>
                    </div>
                    ${g.steps ? `<p class="text-sm text-slate-600 mb-2">${g.steps}</p>` : ''}
                    <div class="goal-progress-bar">
                        <div class="goal-progress-fill" style="width: ${g.progress}%"></div>
                    </div>
                    <p class="text-xs text-slate-400 mt-2">${g.progress}% complete</p>
                </div>
            `).join('');
        }

        function deleteGoal(index) {
            if (!confirm('Delete this goal?')) return;
            const goals = JSON.parse(localStorage.getItem('goals') || '[]');
            goals.splice(index, 1);
            localStorage.setItem('goals', JSON.stringify(goals));
            renderGoals(goals);
        }

        // Wellness functions
        function loadWellnessPage() {
            const entries = JSON.parse(localStorage.getItem('wellnessEntries') || '[]');
            renderWellnessEntries(entries);
            updateWaterCount();
        }

        function logSleep() {
            const hours = document.getElementById('sleep-hours').value;
            const quality = document.getElementById('sleep-quality').value;
            
            if (!hours || !quality) return;

            const entries = JSON.parse(localStorage.getItem('wellnessEntries') || '[]');
            const now = new Date();
            entries.unshift({
                type: 'sleep',
                hours,
                quality,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('wellnessEntries', JSON.stringify(entries));

            addXP(10);
            document.getElementById('sleep-hours').value = '';
            document.getElementById('sleep-quality').value = '';
            renderWellnessEntries(entries);
            alert('âœ“ Sleep logged!');
        }

        function updateWaterCount() {
            const today = new Date().toDateString();
            const waterData = JSON.parse(localStorage.getItem('waterIntake') || '{}');
            const count = waterData[today] || 0;
            document.getElementById('water-count').innerText = count;
        }

        function addWater() {
            const today = new Date().toDateString();
            const waterData = JSON.parse(localStorage.getItem('waterIntake') || '{}');
            waterData[today] = (waterData[today] || 0) + 1;
            localStorage.setItem('waterIntake', JSON.stringify(waterData));
            updateWaterCount();
            addXP(5);
        }

        function removeWater() {
            const today = new Date().toDateString();
            const waterData = JSON.parse(localStorage.getItem('waterIntake') || '{}');
            if ((waterData[today] || 0) > 0) {
                waterData[today]--;
                localStorage.setItem('waterIntake', JSON.stringify(waterData));
                updateWaterCount();
            }
        }

        function logMeditation() {
            const minutes = document.getElementById('meditation-minutes').value;
            if (!minutes) return;

            const entries = JSON.parse(localStorage.getItem('wellnessEntries') || '[]');
            const now = new Date();
            entries.unshift({
                type: 'meditation',
                minutes,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('wellnessEntries', JSON.stringify(entries));

            addXP(15);
            document.getElementById('meditation-minutes').value = '';
            renderWellnessEntries(entries);
            alert('âœ“ Meditation logged!');
        }

        function renderWellnessEntries(entries) {
            const container = document.getElementById('wellness-entries');
            if (entries.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No wellness logs yet</p>';
                return;
            }
            container.innerHTML = entries.slice(0, 10).map(e => {
                if (e.type === 'sleep') {
                    return `
                        <div class="entry-item">
                            <p class="text-xs font-bold text-indigo-600 mb-1">ðŸ›Œ SLEEP</p>
                            <p class="text-sm text-slate-700">${e.hours} hours â€¢ ${e.quality}</p>
                            <p class="text-xs text-slate-400 mt-2">${e.date} â€¢ ${e.time}</p>
                        </div>
                    `;
                } else {
                    return `
                        <div class="entry-item">
                            <p class="text-xs font-bold text-purple-600 mb-1">ðŸ§˜ MEDITATION</p>
                            <p class="text-sm text-slate-700">${e.minutes} minutes</p>
                            <p class="text-xs text-slate-400 mt-2">${e.date} â€¢ ${e.time}</p>
                        </div>
                    `;
                }
            }).join('');
        }

        // Learning functions
        function loadLearningPage() {
            const entries = JSON.parse(localStorage.getItem('learningEntries') || '[]');
            renderLearningEntries(entries);
        }

        function logReading() {
            const book = document.getElementById('book-title').value;
            const pages = document.getElementById('pages-read').value;
            const notes = document.getElementById('book-notes').value;
            
            if (!book.trim()) return;

            const entries = JSON.parse(localStorage.getItem('learningEntries') || '[]');
            const now = new Date();
            entries.unshift({
                type: 'reading',
                book,
                pages,
                notes,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('learningEntries', JSON.stringify(entries));

            addXP(15);
            document.getElementById('book-title').value = '';
            document.getElementById('pages-read').value = '';
            document.getElementById('book-notes').value = '';
            renderLearningEntries(entries);
            alert('âœ“ Reading logged!');
        }

        function logSkill() {
            const skill = document.getElementById('skill-name').value;
            const time = document.getElementById('practice-time').value;
            const notes = document.getElementById('skill-notes').value;
            
            if (!skill.trim()) return;

            const entries = JSON.parse(localStorage.getItem('learningEntries') || '[]');
            const now = new Date();
            entries.unshift({
                type: 'skill',
                skill,
                time,
                notes,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('learningEntries', JSON.stringify(entries));

            addXP(15);
            document.getElementById('skill-name').value = '';
            document.getElementById('practice-time').value = '';
            document.getElementById('skill-notes').value = '';
            renderLearningEntries(entries);
            alert('âœ“ Skill practice logged!');
        }

        function renderLearningEntries(entries) {
            const container = document.getElementById('learning-entries');
            if (entries.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No learning logs yet</p>';
                return;
            }
            container.innerHTML = entries.slice(0, 10).map(e => {
                if (e.type === 'reading') {
                    return `
                        <div class="entry-item">
                            <p class="text-xs font-bold text-purple-600 mb-1">ðŸ“– READING</p>
                            <h4 class="font-bold text-slate-800 mb-1">${e.book}</h4>
                            <p class="text-sm text-slate-600">${e.pages} pages</p>
                            ${e.notes ? `<p class="text-xs text-slate-500 italic mt-1">${e.notes}</p>` : ''}
                            <p class="text-xs text-slate-400 mt-2">${e.date} â€¢ ${e.time}</p>
                        </div>
                    `;
                } else {
                    return `
                        <div class="entry-item">
                            <p class="text-xs font-bold text-indigo-600 mb-1">ðŸŽ“ SKILL PRACTICE</p>
                            <h4 class="font-bold text-slate-800 mb-1">${e.skill}</h4>
                            <p class="text-sm text-slate-600">${e.time} minutes</p>
                            ${e.notes ? `<p class="text-xs text-slate-500 italic mt-1">${e.notes}</p>` : ''}
                            <p class="text-xs text-slate-400 mt-2">${e.date} â€¢ ${e.time}</p>
                        </div>
                    `;
                }
            }).join('');
        }

        // Finance functions
        function loadFinancePage() {
            const entries = JSON.parse(localStorage.getItem('financeEntries') || '[]');
            renderFinanceEntries(entries);
        }

        function logSavings() {
            const amount = document.getElementById('savings-amount').value;
            const category = document.getElementById('savings-category').value;
            const notes = document.getElementById('savings-notes').value;
            
            if (!amount) return;

            const entries = JSON.parse(localStorage.getItem('financeEntries') || '[]');
            const now = new Date();
            entries.unshift({
                type: 'savings',
                amount,
                category,
                notes,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('financeEntries', JSON.stringify(entries));

            addXP(20);
            document.getElementById('savings-amount').value = '';
            document.getElementById('savings-notes').value = '';
            renderFinanceEntries(entries);
            alert('âœ“ Savings logged!');
        }

        function saveFinanceLearning() {
            const learning = document.getElementById('finance-learning').value;
            if (!learning.trim()) return;

            const entries = JSON.parse(localStorage.getItem('financeEntries') || '[]');
            const now = new Date();
            entries.unshift({
                type: 'learning',
                content: learning,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('financeEntries', JSON.stringify(entries));

            addXP(10);
            document.getElementById('finance-learning').value = '';
            renderFinanceEntries(entries);
            alert('âœ“ Learning saved!');
        }

        function renderFinanceEntries(entries) {
            const container = document.getElementById('finance-entries');
            if (entries.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No finance logs yet</p>';
                return;
            }
            container.innerHTML = entries.slice(0, 10).map(e => {
                if (e.type === 'savings') {
                    return `
                        <div class="entry-item">
                            <p class="text-xs font-bold text-green-600 mb-1">ðŸ’° SAVINGS</p>
                            <p class="text-lg font-black text-green-700">$${e.amount}</p>
                            <p class="text-sm text-slate-600">${e.category}</p>
                            ${e.notes ? `<p class="text-xs text-slate-500 italic mt-1">${e.notes}</p>` : ''}
                            <p class="text-xs text-slate-400 mt-2">${e.date} â€¢ ${e.time}</p>
                        </div>
                    `;
                } else {
                    return `
                        <div class="entry-item">
                            <p class="text-xs font-bold text-emerald-600 mb-1">ðŸ“š LEARNING</p>
                            <p class="text-sm text-slate-700">${e.content}</p>
                            <p class="text-xs text-slate-400 mt-2">${e.date} â€¢ ${e.time}</p>
                        </div>
                    `;
                }
            }).join('');
        }

        // Productivity functions
        function loadProductivityPage() {
            const entries = JSON.parse(localStorage.getItem('productivityEntries') || '[]');
            renderProductivityEntries(entries);
            updateProductivityStats(entries);
            loadSavedPriorities();
        }

        function loadSavedPriorities() {
            const today = new Date().toDateString();
            const priorities = JSON.parse(localStorage.getItem('priorities') || '{}');
            const todayPriorities = priorities[today];
            
            if (todayPriorities) {
                document.getElementById('priority-1').value = todayPriorities[0] || '';
                document.getElementById('priority-2').value = todayPriorities[1] || '';
                document.getElementById('priority-3').value = todayPriorities[2] || '';
            }
        }

        function savePriorities() {
            const p1 = document.getElementById('priority-1').value;
            const p2 = document.getElementById('priority-2').value;
            const p3 = document.getElementById('priority-3').value;
            
            if (!p1.trim()) return;

            const now = new Date();
            const today = now.toDateString();
            const priorities = JSON.parse(localStorage.getItem('priorities') || '{}');
            priorities[today] = [p1, p2, p3];
            localStorage.setItem('priorities', JSON.stringify(priorities));

            // Also save to productivity entries for the Focus Log
            const entries = JSON.parse(localStorage.getItem('productivityEntries') || '[]');
            entries.unshift({
                type: 'priorities',
                priorities: [p1, p2, p3],
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('productivityEntries', JSON.stringify(entries));

            addXP(10);
            renderProductivityEntries(entries);
            alert('âœ“ Priorities set!');
        }

        function startPomodoro() {
            if (pomodoroTimer) {
                clearInterval(pomodoroTimer);
                pomodoroTimer = null;
                document.getElementById('start-btn').innerText = 'Start Focus';
                document.getElementById('timer-status').innerText = 'Paused';
                return;
            }

            document.getElementById('start-btn').innerText = 'Pause';
            document.getElementById('timer-status').innerText = 'Focus mode active';
            
            pomodoroTimer = setInterval(() => {
                pomodoroSeconds--;
                const mins = Math.floor(pomodoroSeconds / 60);
                const secs = pomodoroSeconds % 60;
                document.getElementById('timer-display').innerText = 
                    `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
                
                if (pomodoroSeconds <= 0) {
                    clearInterval(pomodoroTimer);
                    pomodoroTimer = null;
                    pomodoroSeconds = 1500;
                    document.getElementById('timer-display').innerText = '25:00';
                    document.getElementById('start-btn').innerText = 'Start Focus';
                    document.getElementById('timer-status').innerText = 'Session complete!';
                    addXP(25);
                    alert('ðŸŽ‰ Pomodoro complete! Take a 5-minute break.');
                }
            }, 1000);
        }

        function resetPomodoro() {
            if (pomodoroTimer) {
                clearInterval(pomodoroTimer);
                pomodoroTimer = null;
            }
            pomodoroSeconds = 1500;
            document.getElementById('timer-display').innerText = '25:00';
            document.getElementById('start-btn').innerText = 'Start Focus';
            document.getElementById('timer-status').innerText = 'Ready to focus';
        }

        function logDeepWork() {
            const task = document.getElementById('deep-work-task').value;
            const duration = document.getElementById('deep-work-duration').value;
            const notes = document.getElementById('deep-work-notes').value;
            
            if (!task.trim()) return;

            const entries = JSON.parse(localStorage.getItem('productivityEntries') || '[]');
            const now = new Date();
            entries.unshift({
                type: 'deepwork',
                task,
                duration,
                notes,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('productivityEntries', JSON.stringify(entries));

            addXP(20);
            document.getElementById('deep-work-task').value = '';
            document.getElementById('deep-work-duration').value = '';
            document.getElementById('deep-work-notes').value = '';
            renderProductivityEntries(entries);
            updateProductivityStats(entries);
            alert('âœ“ Deep work logged!');
        }

        function updateProductivityStats(entries) {
            const today = new Date().toLocaleDateString();
            const todayEntries = entries.filter(e => e.date === today && e.type === 'deepwork');
            document.getElementById('focus-sessions').innerText = todayEntries.length;
            const totalMinutes = todayEntries.reduce((sum, e) => sum + (parseInt(e.duration) || 0), 0);
            document.getElementById('focus-minutes').innerText = totalMinutes;
        }

        function renderProductivityEntries(entries) {
            const container = document.getElementById('productivity-entries');
            if (entries.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No focus sessions yet</p>';
                return;
            }
            container.innerHTML = entries.slice(0, 10).map(e => {
                if (e.type === 'priorities') {
                    return `
                        <div class="entry-item">
                            <p class="text-xs font-bold text-indigo-600 mb-2">ðŸ“‹ TOP 3 PRIORITIES</p>
                            <ol class="list-decimal list-inside space-y-1">
                                ${e.priorities[0] ? `<li class="text-sm text-slate-700">${e.priorities[0]}</li>` : ''}
                                ${e.priorities[1] ? `<li class="text-sm text-slate-700">${e.priorities[1]}</li>` : ''}
                                ${e.priorities[2] ? `<li class="text-sm text-slate-700">${e.priorities[2]}</li>` : ''}
                            </ol>
                            <p class="text-xs text-slate-400 mt-2">${e.date} â€¢ ${e.time}</p>
                        </div>
                    `;
                } else {
                    return `
                        <div class="entry-item">
                            <p class="text-xs font-bold text-purple-600 mb-1">ðŸŽ¯ DEEP WORK</p>
                            <h4 class="font-bold text-slate-800 mb-1">${e.task}</h4>
                            <p class="text-sm text-slate-600">${e.duration} minutes</p>
                            ${e.notes ? `<p class="text-xs text-slate-500 italic mt-1">${e.notes}</p>` : ''}
                            <p class="text-xs text-slate-400 mt-2">${e.date} â€¢ ${e.time}</p>
                        </div>
                    `;
                }
            }).join('');
        }

        // Journal functions
        function loadJournalPage() {
            const entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            renderJournalEntries(entries);
        }

        function saveJournalEntry() {
            const title = document.getElementById('journal-title').value;
            const body = document.getElementById('journal-body').value;
            
            if (!body.trim()) return;

            const entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            const now = new Date();
            entries.unshift({
                title: title || 'Untitled',
                body,
                date: now.toLocaleDateString(),
                time: now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                timestamp: now.getTime()
            });
            localStorage.setItem('journalEntries', JSON.stringify(entries));

            addXP(20);
            document.getElementById('journal-title').value = '';
            document.getElementById('journal-body').value = '';
            renderJournalEntries(entries);
            alert('âœ“ Journal entry saved!');
        }

        function renderJournalEntries(entries) {
            const container = document.getElementById('journal-entries');
            if (entries.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No journal entries yet</p>';
                return;
            }
            container.innerHTML = entries.map(e => `
                <div class="entry-item">
                    <h4 class="font-bold text-slate-800 mb-2">${e.title}</h4>
                    <p class="text-sm text-slate-700 mb-2">${e.body}</p>
                    <p class="text-xs text-slate-400">${e.date} â€¢ ${e.time}</p>
                </div>
            `).join('');
        }

        // XP System
        function addXP(amount) {
            let xp = parseInt(localStorage.getItem('xp') || '0');
            xp += amount;
            localStorage.setItem('xp', xp.toString());
            updateXPDisplay();
        }

        function updateXPDisplay() {
            const xp = parseInt(localStorage.getItem('xp') || '0');
            const level = Math.floor(xp / 100) + 1;
            const xpInLevel = xp % 100;
            const progress = xpInLevel;

            document.getElementById('xp-display').innerText = xp;
            document.getElementById('lvl-display').innerText = level;
            document.getElementById('xp-bar').style.width = `${progress}%`;
        }

        // History/Dashboard
        function loadDashboard() {
            updateXPDisplay();
            renderRecentActivity();
            loadDailyRoutine();
        }

        // Daily Routine Checklist Functions
        function getDefaultRoutines() {
            return [
                { id: 1, text: 'Morning Prayer', checked: false },
                { id: 2, text: 'Read Bible', checked: false },
                { id: 3, text: 'Exercise/Gym', checked: false },
                { id: 4, text: 'Healthy Breakfast', checked: false },
                { id: 5, text: 'Journal Entry', checked: false },
                { id: 6, text: 'Gratitude Practice', checked: false },
                { id: 7, text: 'Learn Something New', checked: false },
                { id: 8, text: 'Evening Reflection', checked: false }
            ];
        }

        function loadDailyRoutine() {
            const today = new Date().toDateString();
            const savedDate = localStorage.getItem('routineDate');
            let routines = JSON.parse(localStorage.getItem('dailyRoutines') || 'null');

            // Reset if it's a new day
            if (savedDate !== today || !routines) {
                routines = getDefaultRoutines();
                localStorage.setItem('dailyRoutines', JSON.stringify(routines));
                localStorage.setItem('routineDate', today);
            }

            renderDailyRoutine(routines);
        }

        function renderDailyRoutine(routines) {
            const container = document.getElementById('routine-checklist');
            const progressDisplay = document.getElementById('routine-progress');
            
            if (!container || !progressDisplay) return;
            
            const completed = routines.filter(r => r.checked).length;
            const total = routines.length;
            progressDisplay.textContent = `${completed}/${total}`;

            container.innerHTML = routines.map(routine => `
                <div class="flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-slate-200">
                    <div class="habit-checkbox ${routine.checked ? 'checked' : ''}" onclick="toggleRoutine(${routine.id})">
                        ${routine.checked ? '<i class="fa-solid fa-check text-white text-xs"></i>' : ''}
                    </div>
                    <span class="text-sm font-medium text-slate-700 ${routine.checked ? 'line-through text-slate-400' : ''}">${routine.text}</span>
                </div>
            `).join('');
        }

        function toggleRoutine(routineId) {
            let routines = JSON.parse(localStorage.getItem('dailyRoutines') || '[]');
            const routine = routines.find(r => r.id === routineId);
            
            if (routine) {
                routine.checked = !routine.checked;
                localStorage.setItem('dailyRoutines', JSON.stringify(routines));
                renderDailyRoutine(routines);
                
                // Award XP for completing a routine
                if (routine.checked) {
                    addXP(10, `Completed: ${routine.text}`);
                }
            }
        }

        function resetDailyRoutine() {
            if (confirm('Are you sure you want to reset today\'s routine checklist?')) {
                const routines = getDefaultRoutines();
                localStorage.setItem('dailyRoutines', JSON.stringify(routines));
                localStorage.setItem('routineDate', new Date().toDateString());
                renderDailyRoutine(routines);
            }
        }

        // AI Coach Functions
        function sendAICoachMessage() {
            const input = document.getElementById('ai-coach-input');
            const message = input.value.trim();
            if (!message) return;

            const chatContainer = document.getElementById('ai-chat-messages');
            
            // Add user message
            chatContainer.innerHTML += `
                <div class="p-3 bg-slate-100 rounded-xl border border-slate-200 ml-8">
                    <p class="text-sm font-bold text-slate-700 mb-1">You</p>
                    <p class="text-sm text-slate-600">${message}</p>
                </div>
            `;

            // Simulate AI response
            setTimeout(() => {
                const responses = [
                    "That's a great question! Remember, progress is made one step at a time. Focus on consistency rather than perfection.",
                    "I hear you. It's important to celebrate small wins along the way. What's one thing you did well today?",
                    "Growth happens outside your comfort zone. What's one small action you can take today toward your goal?",
                    "Remember why you started. Your 'why' is your fuel when motivation runs low. Stay committed to your vision!",
                    "Every setback is a setup for a comeback. What can you learn from this experience?"
                ];
                const response = responses[Math.floor(Math.random() * responses.length)];
                
                chatContainer.innerHTML += `
                    <div class="p-3 bg-amber-50 rounded-xl border border-amber-200 mr-8">
                        <p class="text-sm font-bold text-amber-800 mb-1">AI Coach</p>
                        <p class="text-sm text-slate-700">${response}</p>
                    </div>
                `;
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }, 1000);

            input.value = '';
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function quickAIPrompt(prompt) {
            document.getElementById('ai-coach-input').value = prompt;
            sendAICoachMessage();
        }

        // Alarms Functions
        function addAlarm() {
            const title = document.getElementById('alarm-title').value.trim();
            const time = document.getElementById('alarm-time').value;
            const repeat = document.getElementById('alarm-repeat').value;
            const message = document.getElementById('alarm-message').value.trim();

            if (!title || !time) {
                alert('Please fill in title and time');
                return;
            }

            const alarms = JSON.parse(localStorage.getItem('alarms') || '[]');
            alarms.push({
                id: Date.now(),
                title,
                time,
                repeat,
                message,
                enabled: true,
                timestamp: Date.now()
            });

            localStorage.setItem('alarms', JSON.stringify(alarms));
            
            document.getElementById('alarm-title').value = '';
            document.getElementById('alarm-time').value = '';
            document.getElementById('alarm-message').value = '';
            
            renderAlarms();
            alert('âœ“ Alarm set successfully!');
        }

        function renderAlarms() {
            const alarms = JSON.parse(localStorage.getItem('alarms') || '[]');
            const container = document.getElementById('alarms-list');

            if (alarms.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No alarms set yet</p>';
                return;
            }

            container.innerHTML = alarms.map(alarm => `
                <div class="p-3 bg-orange-50 rounded-xl border border-orange-200 flex items-center justify-between">
                    <div class="flex-1">
                        <p class="font-bold text-slate-800">${alarm.title}</p>
                        <p class="text-sm text-slate-600">${alarm.time} - ${alarm.repeat}</p>
                        ${alarm.message ? `<p class="text-xs text-slate-500 mt-1">${alarm.message}</p>` : ''}
                    </div>
                    <button onclick="deleteAlarm(${alarm.id})" class="text-red-600 ml-3">
                        <i class="fa-solid fa-trash"></i>
                    </button>
                </div>
            `).join('');
        }

        function deleteAlarm(id) {
            if (!confirm('Delete this alarm?')) return;
            
            let alarms = JSON.parse(localStorage.getItem('alarms') || '[]');
            alarms = alarms.filter(a => a.id !== id);
            localStorage.setItem('alarms', JSON.stringify(alarms));
            renderAlarms();
        }

        // Emotions Analysis Functions
        function loadEmotionsPage() {
            const moods = JSON.parse(localStorage.getItem('moodHistory') || '[]');
            
            if (moods.length === 0) {
                document.getElementById('common-mood').textContent = 'No data yet';
                document.getElementById('mood-trend').textContent = 'Start tracking to see patterns';
                return;
            }

            // Calculate most common mood
            const moodCounts = {};
            moods.forEach(m => {
                moodCounts[m.mood] = (moodCounts[m.mood] || 0) + 1;
            });

            const commonMood = Object.entries(moodCounts).sort((a, b) => b[1] - a[1])[0][0];
            document.getElementById('common-mood').textContent = commonMood.charAt(0).toUpperCase() + commonMood.slice(1);

            // Render emotion chart
            const chartContainer = document.getElementById('emotion-chart');
            const total = moods.length;
            
            chartContainer.innerHTML = Object.entries(moodCounts)
                .sort((a, b) => b[1] - a[1])
                .map(([mood, count]) => {
                    const percentage = ((count / total) * 100).toFixed(0);
                    const emojis = {
                        amazing: 'ðŸ¤©',
                        happy: 'ðŸ˜Š',
                        okay: 'ðŸ˜',
                        sad: 'ðŸ˜”',
                        stressed: 'ðŸ˜°'
                    };
                    return `
                        <div class="flex items-center gap-2">
                            <span class="text-2xl">${emojis[mood] || 'ðŸ˜Š'}</span>
                            <div class="flex-1">
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm font-bold text-slate-700">${mood.charAt(0).toUpperCase() + mood.slice(1)}</span>
                                    <span class="text-xs text-slate-500">${percentage}%</span>
                                </div>
                                <div class="h-2 bg-slate-200 rounded-full overflow-hidden">
                                    <div class="h-full bg-gradient-to-r from-pink-500 to-rose-500" style="width: ${percentage}%"></div>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
        }

        // Analytics Functions
        function loadAnalyticsPage() {
            const moods = JSON.parse(localStorage.getItem('moodHistory') || '[]');
            const gratitude = JSON.parse(localStorage.getItem('gratitudeEntries') || '[]');
            const journal = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            const bible = JSON.parse(localStorage.getItem('bibleEntries') || '[]');
            const gym = JSON.parse(localStorage.getItem('gymEntries') || '[]');
            const habits = JSON.parse(localStorage.getItem('habits') || '[]');
            const goals = JSON.parse(localStorage.getItem('goals') || '[]');

            const totalEntries = moods.length + gratitude.length + journal.length + bible.length + gym.length;
            document.getElementById('total-entries').textContent = totalEntries;
            document.getElementById('habits-count').textContent = habits.length;
            
            const completedGoals = goals.filter(g => g.progress >= 100).length;
            document.getElementById('goals-achieved').textContent = completedGoals;

            // Calculate streak
            const allDates = [...moods, ...gratitude, ...journal, ...bible, ...gym]
                .map(e => new Date(e.timestamp).toDateString())
                .filter((v, i, a) => a.indexOf(v) === i)
                .sort((a, b) => new Date(b) - new Date(a));

            let streak = 0;
            const today = new Date().toDateString();
            
            if (allDates.includes(today)) {
                streak = 1;
                for (let i = 1; i < allDates.length; i++) {
                    const prevDate = new Date(allDates[i-1]);
                    const currDate = new Date(allDates[i]);
                    const diffDays = Math.floor((prevDate - currDate) / (1000 * 60 * 60 * 24));
                    if (diffDays === 1) streak++;
                    else break;
                }
            }

            document.getElementById('current-streak').textContent = streak + ' days';

            // Render weekly activity
            renderWeeklyActivity();
        }

        function renderWeeklyActivity() {
            const container = document.getElementById('weekly-activity');
            const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
            
            container.innerHTML = days.map((day, index) => {
                const activity = Math.floor(Math.random() * 10); // Simulated for now
                const percentage = (activity / 10) * 100;
                return `
                    <div class="flex items-center gap-2">
                        <span class="text-xs font-bold text-slate-600 w-8">${day}</span>
                        <div class="flex-1 h-6 bg-slate-100 rounded-full overflow-hidden">
                            <div class="h-full bg-gradient-to-r from-blue-500 to-blue-600" style="width: ${percentage}%"></div>
                        </div>
                        <span class="text-xs text-slate-500 w-6">${activity}</span>
                    </div>
                `;
            }).join('');
        }

        // Voice Journal Functions
        let isRecording = false;
        let recordingTimer = null;
        let recordingSeconds = 0;

        function toggleVoiceRecording() {
            const btn = document.getElementById('voice-record-btn');
            const status = document.getElementById('voice-status');
            const controls = document.getElementById('voice-controls');

            if (!isRecording) {
                // Start recording
                isRecording = true;
                btn.classList.add('animate-pulse');
                btn.style.background = 'linear-gradient(135deg, #dc2626 0%, #991b1b 100%)';
                status.textContent = 'Recording...';
                controls.style.display = 'flex';
                
                recordingSeconds = 0;
                recordingTimer = setInterval(() => {
                    recordingSeconds++;
                    const mins = Math.floor(recordingSeconds / 60).toString().padStart(2, '0');
                    const secs = (recordingSeconds % 60).toString().padStart(2, '0');
                    document.getElementById('voice-timer').textContent = `${mins}:${secs}`;
                }, 1000);
            } else {
                stopVoiceRecording();
            }
        }

        function stopVoiceRecording() {
            isRecording = false;
            const btn = document.getElementById('voice-record-btn');
            const status = document.getElementById('voice-status');
            
            btn.classList.remove('animate-pulse');
            btn.style.background = 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)';
            status.textContent = 'Recording stopped';
            
            if (recordingTimer) {
                clearInterval(recordingTimer);
                recordingTimer = null;
            }
        }

        function saveVoiceEntry() {
            stopVoiceRecording();
            
            const recordings = JSON.parse(localStorage.getItem('voiceRecordings') || '[]');
            recordings.push({
                id: Date.now(),
                duration: recordingSeconds,
                timestamp: Date.now(),
                date: new Date().toLocaleDateString()
            });
            
            localStorage.setItem('voiceRecordings', JSON.stringify(recordings));
            
            document.getElementById('voice-status').textContent = 'Tap to start recording';
            document.getElementById('voice-timer').textContent = '00:00';
            document.getElementById('voice-controls').style.display = 'none';
            
            renderVoiceRecordings();
            alert('âœ“ Voice entry saved!');
            addXP(20, 'Voice journal entry');
        }

        function cancelVoiceRecording() {
            stopVoiceRecording();
            document.getElementById('voice-status').textContent = 'Tap to start recording';
            document.getElementById('voice-timer').textContent = '00:00';
            document.getElementById('voice-controls').style.display = 'none';
        }

        function renderVoiceRecordings() {
            const recordings = JSON.parse(localStorage.getItem('voiceRecordings') || '[]');
            const container = document.getElementById('voice-recordings');

            if (recordings.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No recordings yet</p>';
                return;
            }

            container.innerHTML = recordings.reverse().map(rec => {
                const mins = Math.floor(rec.duration / 60);
                const secs = rec.duration % 60;
                return `
                    <div class="p-3 bg-purple-50 rounded-xl border border-purple-200 flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full bg-purple-600 text-white flex items-center justify-center">
                                <i class="fa-solid fa-play text-sm"></i>
                            </div>
                            <div>
                                <p class="font-bold text-slate-800">Voice Entry</p>
                                <p class="text-xs text-slate-500">${rec.date} â€¢ ${mins}:${secs.toString().padStart(2, '0')}</p>
                            </div>
                        </div>
                        <button onclick="deleteVoiceRecording(${rec.id})" class="text-red-600">
                            <i class="fa-solid fa-trash"></i>
                        </button>
                    </div>
                `;
            }).join('');
        }

        function deleteVoiceRecording(id) {
            if (!confirm('Delete this recording?')) return;
            
            let recordings = JSON.parse(localStorage.getItem('voiceRecordings') || '[]');
            recordings = recordings.filter(r => r.id !== id);
            localStorage.setItem('voiceRecordings', JSON.stringify(recordings));
            renderVoiceRecordings();
        }

        // Export Data Functions
        function loadExportPage() {
            const moods = JSON.parse(localStorage.getItem('moodHistory') || '[]');
            const gratitude = JSON.parse(localStorage.getItem('gratitudeEntries') || '[]');
            const journal = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            const bible = JSON.parse(localStorage.getItem('bibleEntries') || '[]');
            const gym = JSON.parse(localStorage.getItem('gymEntries') || '[]');

            document.getElementById('export-moods').textContent = moods.length;
            document.getElementById('export-gratitude').textContent = gratitude.length;
            document.getElementById('export-journals').textContent = journal.length;
            document.getElementById('export-bible').textContent = bible.length;
            document.getElementById('export-gym').textContent = gym.length;
        }

        function exportPDF() {
            alert('PDF export feature coming soon! This will generate a beautiful PDF report of your entire journey.');
        }

        function exportCSV() {
            const moods = JSON.parse(localStorage.getItem('moodHistory') || '[]');
            const gratitude = JSON.parse(localStorage.getItem('gratitudeEntries') || '[]');
            const journal = JSON.parse(localStorage.getItem('journalEntries') || '[]');

            let csv = 'Type,Date,Content,Mood\n';
            
            moods.forEach(m => {
                csv += `Mood,"${new Date(m.timestamp).toLocaleString()}","${m.notes || ''}","${m.mood}"\n`;
            });
            
            gratitude.forEach(g => {
                csv += `Gratitude,"${new Date(g.timestamp).toLocaleString()}","${g.content}",""\n`;
            });
            
            journal.forEach(j => {
                csv += `Journal,"${new Date(j.timestamp).toLocaleString()}","${j.title}: ${j.body}",""\n`;
            });

            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `daily-dawn-export-${new Date().toISOString().split('T')[0]}.csv`;
            a.click();
            
            alert('âœ“ CSV exported successfully!');
        }

        function exportJSON() {
            const allData = {
                moods: JSON.parse(localStorage.getItem('moodHistory') || '[]'),
                gratitude: JSON.parse(localStorage.getItem('gratitudeEntries') || '[]'),
                journal: JSON.parse(localStorage.getItem('journalEntries') || '[]'),
                bible: JSON.parse(localStorage.getItem('bibleEntries') || '[]'),
                gym: JSON.parse(localStorage.getItem('gymEntries') || '[]'),
                habits: JSON.parse(localStorage.getItem('habits') || '[]'),
                goals: JSON.parse(localStorage.getItem('goals') || '[]'),
                exportDate: new Date().toISOString()
            };

            const blob = new Blob([JSON.stringify(allData, null, 2)], { type: 'application/json' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `daily-dawn-backup-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            
            alert('âœ“ JSON backup exported successfully!');
        }

        // Accountability Functions
        function addPartner() {
            const name = document.getElementById('partner-name').value.trim();
            const email = document.getElementById('partner-email').value.trim();
            const frequency = document.getElementById('partner-frequency').value;

            if (!name || !email) {
                alert('Please fill in all fields');
                return;
            }

            const partners = JSON.parse(localStorage.getItem('accountabilityPartners') || '[]');
            partners.push({
                id: Date.now(),
                name,
                email,
                frequency,
                timestamp: Date.now()
            });

            localStorage.setItem('accountabilityPartners', JSON.stringify(partners));
            
            document.getElementById('partner-name').value = '';
            document.getElementById('partner-email').value = '';
            
            renderPartners();
            alert('âœ“ Accountability partner added!');
        }

        function renderPartners() {
            const partners = JSON.parse(localStorage.getItem('accountabilityPartners') || '[]');
            const container = document.getElementById('partners-list');

            if (partners.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No accountability partners yet</p>';
                return;
            }

            container.innerHTML = partners.map(partner => `
                <div class="p-3 bg-green-50 rounded-xl border border-green-200 flex items-center justify-between">
                    <div class="flex-1">
                        <p class="font-bold text-slate-800">${partner.name}</p>
                        <p class="text-sm text-slate-600">${partner.email}</p>
                        <p class="text-xs text-slate-500 mt-1">${partner.frequency} check-ins</p>
                    </div>
                    <button onclick="deletePartner(${partner.id})" class="text-red-600 ml-3">
                        <i class="fa-solid fa-trash"></i>
                    </button>
                </div>
            `).join('');
        }

        function deletePartner(id) {
            if (!confirm('Remove this accountability partner?')) return;
            
            let partners = JSON.parse(localStorage.getItem('accountabilityPartners') || '[]');
            partners = partners.filter(p => p.id !== id);
            localStorage.setItem('accountabilityPartners', JSON.stringify(partners));
            renderPartners();
        }

        function saveCommitment() {
            const commitment = document.getElementById('weekly-commitment').value.trim();
            
            if (!commitment) {
                alert('Please enter your commitment');
                return;
            }

            const commitments = JSON.parse(localStorage.getItem('weeklyCommitments') || '[]');
            commitments.push({
                id: Date.now(),
                text: commitment,
                week: new Date().toLocaleDateString(),
                timestamp: Date.now()
            });

            localStorage.setItem('weeklyCommitments', JSON.stringify(commitments));
            
            document.getElementById('weekly-commitment').value = '';
            alert('âœ“ Commitment saved and shared with your accountability partners!');
            addXP(15, 'Weekly commitment shared');
        }

        // Earn & Withdraw Functions
        function loadEarnPage() {
            const xpData = JSON.parse(localStorage.getItem('xpData') || '{"xp": 0, "level": 1}');
            const currentXP = xpData.xp;
            
            // Update XP balance display
            document.getElementById('earn-xp-balance').textContent = currentXP.toLocaleString();
            
            // Calculate progress to minimum
            const minimumXP = 7000;
            const remaining = Math.max(0, minimumXP - currentXP);
            document.getElementById('xp-to-minimum').textContent = remaining.toLocaleString();
            
            // Update progress bar
            const progressPercent = Math.min(100, (currentXP / minimumXP) * 100);
            document.getElementById('xp-progress-bar').style.width = progressPercent + '%';
            
            // Calculate potential earnings
            const potentialNaira = Math.floor(currentXP / 7000) * 3500;
            document.getElementById('potential-earnings').textContent = potentialNaira.toLocaleString();
            
            // Set withdrawal amount
            document.getElementById('withdrawal-amount').value = potentialNaira > 0 ? 3500 : 0;
            document.getElementById('xp-cost').textContent = '7,000';
            
            // Load withdrawal history
            renderWithdrawalHistory();
        }

        function clearVerificationStatus() {
            document.getElementById('account-verification').style.display = 'none';
            document.getElementById('verification-loading').style.display = 'none';
            document.getElementById('verification-success').style.display = 'none';
            document.getElementById('verification-error').style.display = 'none';
            
            const withdrawBtn = document.getElementById('withdraw-btn');
            withdrawBtn.disabled = true;
            withdrawBtn.style.background = '#cbd5e1';
            withdrawBtn.innerHTML = '<i class="fa-solid fa-lock mr-2"></i>Verify Account First';
        }

        function verifyAccountNumber() {
            const bank = document.getElementById('bank-select').value;
            const accountNumber = document.getElementById('account-number').value.trim();
            
            if (!bank) {
                alert('Please select a bank first');
                return;
            }
            
            if (accountNumber.length !== 10) {
                alert('Please enter a valid 10-digit account number');
                return;
            }

            const verificationDiv = document.getElementById('account-verification');
            const loadingDiv = document.getElementById('verification-loading');
            const successDiv = document.getElementById('verification-success');
            const errorDiv = document.getElementById('verification-error');
            
            // Show verification section
            verificationDiv.style.display = 'block';
            loadingDiv.style.display = 'block';
            successDiv.style.display = 'none';
            errorDiv.style.display = 'none';
            
            // Simulate account verification (In real implementation, this would call a bank API)
            setTimeout(() => {
                loadingDiv.style.display = 'none';
                
                // Simulated verification - in production, this would verify against actual bank API
                const isValid = Math.random() > 0.1; // 90% success rate for demo
                
                if (isValid) {
                    // Generate a realistic Nigerian name
                    const firstNames = ['Adebayo', 'Chioma', 'Emeka', 'Fatima', 'Ibrahim', 'Ngozi', 'Oluwaseun', 'Yusuf', 'Aisha', 'Tunde'];
                    const lastNames = ['Okonkwo', 'Adeleke', 'Mohammed', 'Nwosu', 'Bakare', 'Eze', 'Okeke', 'Hassan', 'Adeyemi', 'Musa'];
                    const accountName = firstNames[Math.floor(Math.random() * firstNames.length)] + ' ' + 
                                       lastNames[Math.floor(Math.random() * lastNames.length)];
                    
                    document.getElementById('verified-account-name').textContent = accountName;
                    successDiv.style.display = 'block';
                    
                    // Save verified account details
                    const verifiedAccount = {
                        bank: bank,
                        accountNumber: accountNumber,
                        accountName: accountName,
                        verified: true
                    };
                    localStorage.setItem('verifiedAccount', JSON.stringify(verifiedAccount));
                    
                    // Enable withdrawal button
                    const xpData = JSON.parse(localStorage.getItem('xpData') || '{"xp": 0}');
                    if (xpData.xp >= 7000) {
                        const withdrawBtn = document.getElementById('withdraw-btn');
                        withdrawBtn.disabled = false;
                        withdrawBtn.style.background = 'linear-gradient(135deg, #10b981 0%, #059669 100%)';
                        withdrawBtn.innerHTML = '<i class="fa-solid fa-check-circle mr-2"></i>Withdraw â‚¦3,500';
                    }
                } else {
                    document.getElementById('verification-error-message').textContent = 
                        'Unable to verify account. Please check your bank and account number.';
                    errorDiv.style.display = 'block';
                    localStorage.removeItem('verifiedAccount');
                }
            }, 2000);
        }

        function initiateWithdrawal() {
            const xpData = JSON.parse(localStorage.getItem('xpData') || '{"xp": 0}');
            const currentXP = xpData.xp;
            
            if (currentXP < 7000) {
                alert('Insufficient XP! You need at least 7,000 XP to withdraw.');
                return;
            }

            const verifiedAccount = JSON.parse(localStorage.getItem('verifiedAccount') || 'null');
            
            if (!verifiedAccount || !verifiedAccount.verified) {
                alert('Please verify your account first');
                return;
            }

            const confirmMsg = `Withdraw â‚¦3,500 to:\n\n` +
                              `Bank: ${getBankName(verifiedAccount.bank)}\n` +
                              `Account: ${verifiedAccount.accountNumber}\n` +
                              `Name: ${verifiedAccount.accountName}\n\n` +
                              `This will deduct 7,000 XP from your balance.\n\n` +
                              `Continue?`;

            if (!confirm(confirmMsg)) {
                return;
            }

            // Process withdrawal
            const newXP = currentXP - 7000;
            xpData.xp = newXP;
            localStorage.setItem('xpData', JSON.stringify(xpData));

            // Save withdrawal record
            const withdrawals = JSON.parse(localStorage.getItem('withdrawals') || '[]');
            withdrawals.push({
                id: Date.now(),
                amount: 3500,
                xpCost: 7000,
                bank: verifiedAccount.bank,
                accountNumber: verifiedAccount.accountNumber,
                accountName: verifiedAccount.accountName,
                status: 'pending',
                timestamp: Date.now(),
                date: new Date().toLocaleString()
            });
            localStorage.setItem('withdrawals', JSON.stringify(withdrawals));

            // Clear verified account
            localStorage.removeItem('verifiedAccount');
            
            // Reset form
            document.getElementById('bank-select').value = '';
            document.getElementById('account-number').value = '';
            clearVerificationStatus();

            alert('âœ“ Withdrawal request submitted successfully!\n\n' +
                  'Your â‚¦3,500 will be processed within 24-48 hours.\n' +
                  'You will receive a confirmation once the transfer is complete.');

            // Reload page to show updated balance
            loadEarnPage();
            updateXPDisplay();
        }

        function getBankName(bankCode) {
            const banks = {
                'access': 'Access Bank',
                'gtbank': 'GTBank',
                'zenith': 'Zenith Bank',
                'firstbank': 'First Bank',
                'uba': 'UBA',
                'fidelity': 'Fidelity Bank',
                'union': 'Union Bank',
                'sterling': 'Sterling Bank',
                'stanbic': 'Stanbic IBTC',
                'fcmb': 'FCMB',
                'unity': 'Unity Bank',
                'wema': 'Wema Bank',
                'providus': 'Providus Bank',
                'polaris': 'Polaris Bank',
                'keystone': 'Keystone Bank',
                'ecobank': 'Ecobank',
                'heritage': 'Heritage Bank',
                'jaiz': 'Jaiz Bank',
                'kuda': 'Kuda Bank',
                'opay': 'OPay',
                'palmpay': 'PalmPay',
                'moniepoint': 'Moniepoint'
            };
            return banks[bankCode] || bankCode;
        }

        function renderWithdrawalHistory() {
            const withdrawals = JSON.parse(localStorage.getItem('withdrawals') || '[]');
            const container = document.getElementById('withdrawal-history');

            if (withdrawals.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No withdrawals yet</p>';
                return;
            }

            container.innerHTML = withdrawals.reverse().slice(0, 10).map(w => {
                const statusColors = {
                    'pending': 'bg-amber-50 border-amber-200 text-amber-800',
                    'completed': 'bg-green-50 border-green-200 text-green-800',
                    'failed': 'bg-red-50 border-red-200 text-red-800'
                };
                const statusIcons = {
                    'pending': 'fa-clock',
                    'completed': 'fa-check-circle',
                    'failed': 'fa-exclamation-circle'
                };
                
                return `
                    <div class="p-3 bg-slate-50 rounded-xl border border-slate-200">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <p class="font-bold text-slate-800">â‚¦${w.amount.toLocaleString()}</p>
                                <p class="text-xs text-slate-500">${getBankName(w.bank)} - ${w.accountNumber}</p>
                                <p class="text-xs text-slate-600 mt-1">${w.accountName}</p>
                            </div>
                            <span class="px-2 py-1 rounded text-xs font-bold ${statusColors[w.status]}">
                                <i class="fa-solid ${statusIcons[w.status]} mr-1"></i>
                                ${w.status.toUpperCase()}
                            </span>
                        </div>
                        <p class="text-xs text-slate-400">${w.date}</p>
                    </div>
                `;
            }).join('');
        }


        // Earn/Withdrawal Functions
        function loadEarnPage() {
            const xp = parseInt(localStorage.getItem('xp') || '0');
            document.getElementById('earn-xp-balance').textContent = xp.toLocaleString();
            
            // Calculate naira value (7000 XP = 3500 Naira, so 1 XP = 0.5 Naira)
            const nairaValue = Math.floor((xp / 7000) * 3500);
            document.getElementById('earn-naira-value').textContent = nairaValue.toLocaleString();
            
            updateWithdrawalStatus(xp);
            renderWithdrawalHistory();
        }

        function updateWithdrawalStatus(xp) {
            const container = document.getElementById('withdrawal-status');
            const minXP = 7000;
            const remaining = minXP - xp;
            
            if (xp >= minXP) {
                container.innerHTML = `
                    <div class="p-4 bg-green-50 rounded-xl border-2 border-green-300">
                        <p class="font-bold text-green-800 flex items-center gap-2">
                            <i class="fa-solid fa-check-circle text-xl"></i>
                            <span>You can withdraw now!</span>
                        </p>
                        <p class="text-sm text-green-700 mt-1">You have enough XP to make a withdrawal.</p>
                    </div>
                `;
            } else {
                const percentage = (xp / minXP) * 100;
                container.innerHTML = `
                    <div class="p-4 bg-amber-50 rounded-xl border border-amber-200">
                        <p class="font-bold text-amber-800 mb-2">
                            <i class="fa-solid fa-hourglass-half"></i> Keep earning XP!
                        </p>
                        <p class="text-sm text-slate-700 mb-3">
                            You need <strong class="text-amber-700">${remaining.toLocaleString()} more XP</strong> to withdraw
                        </p>
                        <div class="h-3 bg-slate-200 rounded-full overflow-hidden">
                            <div class="h-full bg-gradient-to-r from-emerald-500 to-emerald-600" style="width: ${percentage}%"></div>
                        </div>
                        <p class="text-xs text-slate-600 mt-2">${percentage.toFixed(1)}% to minimum withdrawal</p>
                    </div>
                `;
            }
        }

        function updateWithdrawalPreview() {
            const xpAmount = parseInt(document.getElementById('withdraw-amount').value || '0');
            const nairaAmount = Math.floor((xpAmount / 7000) * 3500);
            document.getElementById('withdrawal-preview').textContent = nairaAmount.toLocaleString();
        }

        function clearAccountVerification() {
            document.getElementById('account-verification').style.display = 'none';
        }

        const bankNames = {
            'access': 'Access Bank',
            'gtbank': 'GTBank',
            'zenith': 'Zenith Bank',
            'firstbank': 'First Bank of Nigeria',
            'uba': 'United Bank for Africa',
            'sterling': 'Sterling Bank',
            'fidelity': 'Fidelity Bank',
            'union': 'Union Bank',
            'wema': 'Wema Bank',
            'polaris': 'Polaris Bank',
            'stanbic': 'Stanbic IBTC',
            'fcmb': 'FCMB',
            'ecobank': 'Ecobank Nigeria',
            'keystone': 'Keystone Bank',
            'providus': 'Providus Bank',
            'kuda': 'Kuda Bank',
            'opay': 'OPay',
            'palmpay': 'PalmPay',
            'moniepoint': 'Moniepoint'
        };

        function verifyAccountName() {
            const bankCode = document.getElementById('withdraw-bank').value;
            const accountNumber = document.getElementById('withdraw-account').value.trim();
            
            if (!bankCode) {
                alert('Please select a bank');
                return;
            }
            
            if (!accountNumber || accountNumber.length !== 10) {
                alert('Please enter a valid 10-digit account number');
                return;
            }

            // Simulate account verification (In production, this would call a real bank API)
            const verificationDiv = document.getElementById('account-verification');
            const loadingMessage = 'Verifying account...';
            
            verificationDiv.style.display = 'block';
            verificationDiv.innerHTML = `
                <p class="text-sm text-blue-700">
                    <i class="fa-solid fa-spinner fa-spin mr-2"></i>${loadingMessage}
                </p>
            `;

            // Simulate API call delay
            setTimeout(() => {
                // Generate a realistic Nigerian name for demo purposes
                const firstNames = ['Chukwu', 'Oluwaseun', 'Adewale', 'Ngozi', 'Emeka', 'Amaka', 'Tunde', 'Chioma', 'Ibrahim', 'Fatima', 'Aisha', 'Yusuf'];
                const lastNames = ['Okafor', 'Adeyemi', 'Nwosu', 'Bello', 'Oladipo', 'Eze', 'Musa', 'Adeleke', 'Okoro', 'Hassan'];
                const randomFirstName = firstNames[Math.floor(Math.random() * firstNames.length)];
                const randomLastName = lastNames[Math.floor(Math.random() * lastNames.length)];
                const accountName = `${randomFirstName} ${randomLastName}`;
                
                document.getElementById('verified-account-name').textContent = accountName;
                document.getElementById('verified-bank-name').textContent = bankNames[bankCode];
                document.getElementById('verified-account-number').textContent = accountNumber;
                
                verificationDiv.innerHTML = `
                    <p class="text-xs font-bold text-green-800 mb-2">
                        <i class="fa-solid fa-check-circle"></i> ACCOUNT VERIFIED
                    </p>
                    <p class="text-sm font-bold text-slate-800">${accountName}</p>
                    <p class="text-xs text-slate-600 mt-1">
                        ${bankNames[bankCode]} â€¢ ${accountNumber}
                    </p>
                `;
                
                // Store verification for withdrawal
                sessionStorage.setItem('verifiedAccount', JSON.stringify({
                    name: accountName,
                    bank: bankCode,
                    bankName: bankNames[bankCode],
                    accountNumber: accountNumber,
                    verified: true
                }));
                
            }, 2000);
        }

        function processWithdrawal() {
            const xp = parseInt(localStorage.getItem('xp') || '0');
            const withdrawAmount = parseInt(document.getElementById('withdraw-amount').value || '0');
            const verifiedAccount = JSON.parse(sessionStorage.getItem('verifiedAccount') || 'null');
            
            // Validations
            if (!verifiedAccount || !verifiedAccount.verified) {
                alert('âš ï¸ Please verify your account details first');
                return;
            }
            
            if (withdrawAmount < 7000) {
                alert('âš ï¸ Minimum withdrawal is 7,000 XP (â‚¦3,500)');
                return;
            }
            
            if (withdrawAmount > xp) {
                alert('âš ï¸ Insufficient XP balance');
                return;
            }
            
            if (withdrawAmount % 1000 !== 0) {
                alert('âš ï¸ Please enter XP amount in multiples of 1,000');
                return;
            }

            const nairaAmount = Math.floor((withdrawAmount / 7000) * 3500);
            
            const confirmMessage = `
CONFIRM WITHDRAWAL
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Amount: ${withdrawAmount.toLocaleString()} XP
You'll Receive: â‚¦${nairaAmount.toLocaleString()}

Bank: ${verifiedAccount.bankName}
Account: ${verifiedAccount.accountNumber}
Name: ${verifiedAccount.name}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Proceed with withdrawal?
            `.trim();
            
            if (!confirm(confirmMessage)) {
                return;
            }

            // Process withdrawal
            const newXP = xp - withdrawAmount;
            localStorage.setItem('xp', newXP);
            
            // Save withdrawal record
            const withdrawals = JSON.parse(localStorage.getItem('withdrawals') || '[]');
            withdrawals.push({
                id: Date.now(),
                xpAmount: withdrawAmount,
                nairaAmount: nairaAmount,
                bank: verifiedAccount.bankName,
                accountNumber: verifiedAccount.accountNumber,
                accountName: verifiedAccount.name,
                status: 'Pending',
                requestDate: new Date().toISOString(),
                timestamp: Date.now()
            });
            
            localStorage.setItem('withdrawals', JSON.stringify(withdrawals));
            
            // Clear form and verification
            document.getElementById('withdraw-amount').value = '';
            document.getElementById('withdraw-bank').value = '';
            document.getElementById('withdraw-account').value = '';
            document.getElementById('account-verification').style.display = 'none';
            sessionStorage.removeItem('verifiedAccount');
            
            // Refresh page
            loadEarnPage();
            updateXPDisplay();
            
            alert(`âœ… WITHDRAWAL REQUEST SUBMITTED!

Amount: â‚¦${nairaAmount.toLocaleString()}
Account: ${verifiedAccount.accountNumber}

Your withdrawal will be processed within 24-48 hours. You'll receive a notification once completed.`);
        }

        function renderWithdrawalHistory() {
            const withdrawals = JSON.parse(localStorage.getItem('withdrawals') || '[]');
            const container = document.getElementById('withdrawal-history');
            
            if (withdrawals.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No withdrawals yet</p>';
                return;
            }

            const statusColors = {
                'Pending': 'bg-amber-50 border-amber-200 text-amber-800',
                'Processing': 'bg-blue-50 border-blue-200 text-blue-800',
                'Completed': 'bg-green-50 border-green-200 text-green-800',
                'Failed': 'bg-red-50 border-red-200 text-red-800'
            };

            const statusIcons = {
                'Pending': 'fa-clock',
                'Processing': 'fa-spinner fa-spin',
                'Completed': 'fa-check-circle',
                'Failed': 'fa-times-circle'
            };

            container.innerHTML = withdrawals.reverse().map(w => {
                const date = new Date(w.requestDate).toLocaleDateString();
                const colorClass = statusColors[w.status] || statusColors['Pending'];
                const iconClass = statusIcons[w.status] || statusIcons['Pending'];
                
                return `
                    <div class="p-3 ${colorClass} rounded-xl border">
                        <div class="flex justify-between items-start mb-2">
                            <div class="flex-1">
                                <p class="font-bold text-slate-800">â‚¦${w.nairaAmount.toLocaleString()}</p>
                                <p class="text-xs text-slate-600">${w.xpAmount.toLocaleString()} XP</p>
                            </div>
                            <span class="text-xs font-bold px-2 py-1 rounded-full ${colorClass}">
                                <i class="fa-solid ${iconClass} mr-1"></i>${w.status}
                            </span>
                        </div>
                        <p class="text-xs text-slate-600 mb-1">${w.bank} â€¢ ${w.accountNumber}</p>
                        <p class="text-xs text-slate-500">${date}</p>
                    </div>
                `;
            }).join('');
        }




        function renderRecentActivity() {
            const allEntries = [];
            
            // Gather all entries
            const moods = JSON.parse(localStorage.getItem('moodHistory') || '[]');
            const gratitude = JSON.parse(localStorage.getItem('gratitudeEntries') || '[]');
            const bible = JSON.parse(localStorage.getItem('bibleEntries') || '[]');
            const gym = JSON.parse(localStorage.getItem('gymEntries') || '[]');
            const journal = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            
            moods.forEach(e => allEntries.push({...e, type: 'mood'}));
            gratitude.forEach(e => allEntries.push({...e, type: 'gratitude'}));
            bible.forEach(e => allEntries.push({...e, type: 'bible'}));
            gym.forEach(e => allEntries.push({...e, type: 'gym'}));
            journal.forEach(e => allEntries.push({...e, type: 'journal'}));
            
            // Sort by timestamp
            allEntries.sort((a, b) => b.timestamp - a.timestamp);
            
            const container = document.getElementById('log-history');
            if (allEntries.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400">No activity yet</p>';
                return;
            }
            
            container.innerHTML = allEntries.slice(0, 5).map(e => {
                const icons = {
                    mood: 'ðŸ˜Š',
                    gratitude: 'ðŸ’›',
                    bible: 'ðŸ“–',
                    gym: 'ðŸ’ª',
                    journal: 'âœï¸'
                };
                
                let content = '';
                if (e.type === 'mood') content = `Mood: ${e.mood}`;
                else if (e.type === 'gratitude') content = e.content.substring(0, 50) + '...';
                else if (e.type === 'bible') content = e.content.substring(0, 50) + '...';
                else if (e.type === 'gym') content = `${e.exercise} - ${e.reps}`;
                else if (e.type === 'journal') content = e.title;
                
                return `
                    <div class="entry-item">
                        <p class="text-xs font-bold text-slate-400 mb-1">${icons[e.type]} ${e.type.toUpperCase()}</p>
                        <p class="text-sm text-slate-700">${content}</p>
                        <p class="text-xs text-slate-400 mt-1">${e.date} â€¢ ${e.time}</p>
                    </div>
                `;
            }).join('');
        }

        function renderFullHistory() {
            const allEntries = [];
            
            // Gather ALL entries from all categories
            const moods = JSON.parse(localStorage.getItem('moodHistory') || '[]');
            const gratitude = JSON.parse(localStorage.getItem('gratitudeEntries') || '[]');
            const bible = JSON.parse(localStorage.getItem('bibleEntries') || '[]');
            const gym = JSON.parse(localStorage.getItem('gymEntries') || '[]');
            const journal = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            const mindset = JSON.parse(localStorage.getItem('mindsetEntries') || '[]');
            const wellness = JSON.parse(localStorage.getItem('wellnessEntries') || '[]');
            const learning = JSON.parse(localStorage.getItem('learningEntries') || '[]');
            const finance = JSON.parse(localStorage.getItem('financeEntries') || '[]');
            const productivity = JSON.parse(localStorage.getItem('productivityEntries') || '[]');
            
            moods.forEach(e => allEntries.push({...e, category: 'mood', icon: 'ðŸ˜Š', color: 'rose'}));
            gratitude.forEach(e => allEntries.push({...e, category: 'gratitude', icon: 'ðŸ’›', color: 'amber'}));
            bible.forEach(e => allEntries.push({...e, category: 'bible', icon: 'ðŸ“–', color: 'blue'}));
            gym.forEach(e => allEntries.push({...e, category: 'gym', icon: 'ðŸ’ª', color: 'orange'}));
            journal.forEach(e => allEntries.push({...e, category: 'journal', icon: 'âœï¸', color: 'slate'}));
            mindset.forEach(e => allEntries.push({...e, category: 'mindset', icon: 'âš¡', color: 'yellow'}));
            wellness.forEach(e => allEntries.push({...e, category: 'wellness', icon: 'ðŸ§˜', color: 'cyan'}));
            learning.forEach(e => allEntries.push({...e, category: 'learning', icon: 'ðŸ“š', color: 'purple'}));
            finance.forEach(e => allEntries.push({...e, category: 'finance', icon: 'ðŸ’°', color: 'green'}));
            productivity.forEach(e => allEntries.push({...e, category: 'productivity', icon: 'ðŸŽ¯', color: 'indigo'}));
            
            allEntries.sort((a, b) => b.timestamp - a.timestamp);
            
            const container = document.getElementById('full-history');
            const noHistory = document.getElementById('no-history');
            
            if (allEntries.length === 0) {
                container.style.display = 'none';
                noHistory.classList.remove('hidden');
                return;
            }
            
            container.style.display = 'block';
            noHistory.classList.add('hidden');
            
            // Group by date
            const grouped = {};
            allEntries.forEach(e => {
                if (!grouped[e.date]) grouped[e.date] = [];
                grouped[e.date].push(e);
            });
            
            container.innerHTML = Object.keys(grouped).map(date => `
                <div>
                    <h3 class="day-divider text-slate-600 mb-3 pb-2 border-b border-slate-200">${date}</h3>
                    <div class="space-y-3">
                        ${grouped[date].map(e => {
                            let content = '';
                            if (e.category === 'mood') content = `Mood: ${e.mood}`;
                            else if (e.content) content = e.content.substring(0, 80) + (e.content.length > 80 ? '...' : '');
                            else if (e.category === 'gym') content = `${e.exercise} - ${e.reps}`;
                            else if (e.category === 'journal') content = e.title;
                            else if (e.category === 'productivity') {
                                if (e.type === 'priorities') {
                                    content = `Set top 3 priorities`;
                                } else {
                                    content = e.task;
                                }
                            }
                            else if (e.category === 'wellness' && e.type === 'sleep') content = `Slept ${e.hours} hours (${e.quality})`;
                            else if (e.category === 'wellness' && e.type === 'meditation') content = `Meditated ${e.minutes} minutes`;
                            else if (e.category === 'learning' && e.type === 'reading') content = `Read ${e.pages} pages of ${e.book}`;
                            else if (e.category === 'learning' && e.type === 'skill') content = `Practiced ${e.skill} for ${e.time} minutes`;
                            else if (e.category === 'finance' && e.type === 'savings') content = `Saved $${e.amount} (${e.category})`;
                            
                            return `
                                <div class="entry-item">
                                    <p class="text-xs font-bold text-${e.color}-600 mb-1">${e.icon} ${e.category.toUpperCase()}</p>
                                    <p class="text-sm text-slate-700">${content}</p>
                                    <p class="text-xs text-slate-400 mt-1">${e.time}</p>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
            `).join('');
        }

        function resetData() {
            if (!confirm('Are you sure you want to reset all data? This cannot be undone.')) return;
            
            // Keep user authentication data
            const currentUser = localStorage.getItem('currentUser');
            const users = localStorage.getItem('users');
            
            localStorage.clear();
            
            // Restore user data
            if (currentUser) localStorage.setItem('currentUser', currentUser);
            if (users) localStorage.setItem('users', users);
            
            location.reload();
        }

        // ============================================
        // ADMIN FUNCTIONS
        // ============================================

        function loadAdminDashboard() {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const userList = Object.values(users);
            
            // Calculate stats
            const totalUsers = userList.length;
            const premiumUsers = userList.filter(u => u.isPremium).length;
            
            // Calculate total entries across all users
            let totalEntries = 0;
            const allEntryTypes = ['moodHistory', 'gratitudeEntries', 'bibleEntries', 'gymEntries', 
                                   'journalEntries', 'mindsetEntries', 'wellnessEntries', 'learningEntries', 
                                   'financeEntries', 'productivityEntries'];
            
            allEntryTypes.forEach(type => {
                const entries = JSON.parse(localStorage.getItem(type) || '[]');
                totalEntries += entries.length;
            });
            
            // Active today (users with entries today)
            const today = new Date().toDateString();
            let activeToday = 0;
            allEntryTypes.forEach(type => {
                const entries = JSON.parse(localStorage.getItem(type) || '[]');
                const todayEntries = entries.filter(e => e.date === today);
                if (todayEntries.length > 0) activeToday++;
            });
            
            // Update dashboard stats
            document.getElementById('admin-total-users').innerText = totalUsers;
            document.getElementById('admin-premium-users').innerText = premiumUsers;
            document.getElementById('admin-total-entries').innerText = totalEntries;
            document.getElementById('admin-active-today').innerText = activeToday;
            
            // Load user list
            renderAdminUserList(userList);
        }

        function renderAdminUserList(userList) {
            const container = document.getElementById('admin-users-list');
            
            if (userList.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400 text-center py-4">No users registered yet</p>';
                return;
            }
            
            container.innerHTML = userList.map(user => `
                <div class="p-4 bg-slate-50 rounded-xl border border-slate-200">
                    <div class="flex items-center justify-between mb-2">
                        <div>
                            <p class="font-bold text-slate-800">${user.name}</p>
                            <p class="text-xs text-slate-600">@${user.username}</p>
                            <p class="text-xs text-slate-500">${user.email}</p>
                        </div>
                        <div class="text-right">
                            ${user.isPremium ? 
                                '<span class="text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded-full font-bold">â­ Premium</span>' : 
                                '<span class="text-xs bg-slate-200 text-slate-600 px-2 py-1 rounded-full font-bold">Free</span>'
                            }
                        </div>
                    </div>
                    <div class="flex gap-2 mt-2">
                        <button onclick="viewUserDetails('${user.username}')" class="flex-1 text-xs bg-blue-100 text-blue-700 px-3 py-2 rounded-lg font-bold">
                            View Details
                        </button>
                        ${!user.isPremium ? 
                            `<button onclick="grantPremiumToUser('${user.username}')" class="flex-1 text-xs bg-amber-100 text-amber-700 px-3 py-2 rounded-lg font-bold">
                                Grant Premium
                            </button>` : 
                            `<button onclick="revokePremiumFromUser('${user.username}')" class="flex-1 text-xs bg-red-100 text-red-700 px-3 py-2 rounded-lg font-bold">
                                Revoke Premium
                            </button>`
                        }
                    </div>
                </div>
            `).join('');
        }

        function filterUsers() {
            const searchTerm = document.getElementById('admin-search-user').value.toLowerCase();
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const userList = Object.values(users);
            
            if (searchTerm === '') {
                renderAdminUserList(userList);
                return;
            }
            
            const filtered = userList.filter(user => 
                user.username.toLowerCase().includes(searchTerm) || 
                user.name.toLowerCase().includes(searchTerm) ||
                user.email.toLowerCase().includes(searchTerm)
            );
            
            renderAdminUserList(filtered);
        }

        function grantPremium() {
            const username = document.getElementById('admin-premium-username').value.trim();
            if (!username) {
                alert('Please enter a username');
                return;
            }
            
            grantPremiumToUser(username);
            document.getElementById('admin-premium-username').value = '';
        }

        function grantPremiumToUser(username) {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            
            if (!users[username]) {
                alert('User not found: ' + username);
                return;
            }
            
            if (users[username].isPremium) {
                alert('User already has premium access');
                return;
            }
            
            users[username].isPremium = true;
            localStorage.setItem('users', JSON.stringify(users));
            
            // Update current user if it's them
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
            if (currentUser && currentUser.username === username) {
                currentUser.isPremium = true;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
            }
            
            alert('âœ“ Premium access granted to ' + username);
            loadAdminDashboard();
        }

        function revokePremium() {
            const username = document.getElementById('admin-revoke-username').value.trim();
            if (!username) {
                alert('Please enter a username');
                return;
            }
            
            revokePremiumFromUser(username);
            document.getElementById('admin-revoke-username').value = '';
        }

        function revokePremiumFromUser(username) {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            
            if (!users[username]) {
                alert('User not found: ' + username);
                return;
            }
            
            if (!users[username].isPremium) {
                alert('User does not have premium access');
                return;
            }
            
            if (!confirm('Are you sure you want to revoke premium access from ' + username + '?')) {
                return;
            }
            
            users[username].isPremium = false;
            localStorage.setItem('users', JSON.stringify(users));
            
            // Update current user if it's them
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
            if (currentUser && currentUser.username === username) {
                currentUser.isPremium = false;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
            }
            
            alert('âœ“ Premium access revoked from ' + username);
            loadAdminDashboard();
        }

        function viewUserDetails(username) {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const user = users[username];
            
            if (!user) {
                alert('User not found');
                return;
            }
            
            const details = `
USER DETAILS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Name: ${user.name}
Username: @${user.username}
Email: ${user.email}
Status: ${user.isPremium ? 'â­ Premium' : 'ðŸ”“ Free'}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
            `.trim();
            
            alert(details);
        }

        function exportAllUserData() {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const allData = {
                users: users,
                totalUsers: Object.keys(users).length,
                exportDate: new Date().toISOString(),
                exportedBy: 'Admin'
            };
            
            const dataStr = JSON.stringify(allData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'daily-dawn-users-' + new Date().toISOString().split('T')[0] + '.json';
            link.click();
            
            alert('âœ“ User data exported successfully');
        }

        function viewSystemLogs() {
            const logs = `
SYSTEM LOGS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Date: ${new Date().toLocaleString()}
Platform: Daily Dawn v2.0
Status: Operational
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Recent Activity:
â€¢ Admin dashboard accessed
â€¢ All systems nominal
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
            `.trim();
            
            alert(logs);
        }

        function clearInactiveUsers() {
            if (!confirm('This will delete all users who have never logged any entries. Continue?')) {
                return;
            }
            
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            let deletedCount = 0;
            
            // For now, just show a message since we don't track user-specific entries
            alert('Feature coming soon: This will track and remove users with no activity in 90+ days');
        }

        function toggleMaintenanceMode() {
            const isEnabled = document.getElementById('maintenance-mode').checked;
            
            if (isEnabled) {
                if (!confirm('Enable maintenance mode? This will prevent regular users from accessing the app.')) {
                    document.getElementById('maintenance-mode').checked = false;
                    return;
                }
                localStorage.setItem('maintenanceMode', 'true');
                alert('âš  Maintenance mode enabled');
            } else {
                localStorage.removeItem('maintenanceMode');
                alert('âœ“ Maintenance mode disabled');
            }
        }

        function broadcastMessage() {
            const message = prompt('Enter message to broadcast to all users:');
            if (!message) return;
            
            localStorage.setItem('adminBroadcast', message);
            localStorage.setItem('adminBroadcastTime', new Date().toISOString());
            
            alert('âœ“ Message broadcasted to all users!\n\nUsers will see this message on their next login.');
        }

        function deleteUser() {
            const username = prompt('Enter username to delete:');
            if (!username) return;
            
            if (!confirm('âš  WARNING: This will permanently delete the user account for "' + username + '". This action cannot be undone. Continue?')) {
                return;
            }
            
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            
            if (!users[username]) {
                alert('User not found: ' + username);
                return;
            }
            
            delete users[username];
            localStorage.setItem('users', JSON.stringify(users));
            
            alert('âœ“ User account deleted: ' + username);
            loadAdminDashboard();
        }

        function resetAllUserData() {
            const confirmation = prompt('âš  CRITICAL WARNING âš \n\nThis will DELETE ALL USER DATA permanently.\n\nType "DELETE ALL DATA" to confirm:');
            
            if (confirmation !== 'DELETE ALL DATA') {
                alert('Action cancelled');
                return;
            }
            
            if (!confirm('Last chance! Are you absolutely sure you want to delete ALL user data? This cannot be undone!')) {
                return;
            }
            
            // Keep admin account
            const adminUser = {
                username: 'DaveAI',
                name: 'Admin',
                email: 'admin@dailydawn.com',
                password: 'DailyDawn',
                isPremium: true,
                isAdmin: true
            };
            
            localStorage.clear();
            
            // Restore admin
            localStorage.setItem('users', JSON.stringify({ 'DaveAI': adminUser }));
            localStorage.setItem('currentUser', JSON.stringify({
                username: 'DaveAI',
                name: 'Admin',
                email: 'admin@dailydawn.com',
                isPremium: true,
                isAdmin: true
            }));
            
            alert('âœ“ All user data has been reset. Admin account preserved.');
            location.reload();
        }

        // ===== SHARE ACHIEVEMENTS FUNCTIONS =====
        function generateQuoteCard() {
            const text = document.getElementById('quote-card-text').value.trim();
            if (!text) {
                alert('Please enter some text for your quote card');
                return;
            }

            // Create a simple canvas-based quote card
            const canvas = document.createElement('canvas');
            canvas.width = 1080;
            canvas.height = 1080;
            const ctx = canvas.getContext('2d');

            // Gradient background
            const gradient = ctx.createLinearGradient(0, 0, 1080, 1080);
            gradient.addColorStop(0, '#1e293b');
            gradient.addColorStop(1, '#0f172a');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, 1080, 1080);

            // Add decorative elements
            ctx.strokeStyle = '#f59e0b';
            ctx.lineWidth = 4;
            ctx.strokeRect(80, 80, 920, 920);

            // Add quote text
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 48px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            // Word wrap
            const words = text.split(' ');
            let line = '';
            let y = 450;
            const lineHeight = 60;
            const maxWidth = 800;

            for (let word of words) {
                const testLine = line + word + ' ';
                const metrics = ctx.measureText(testLine);
                if (metrics.width > maxWidth && line !== '') {
                    ctx.fillText(line, 540, y);
                    line = word + ' ';
                    y += lineHeight;
                } else {
                    line = testLine;
                }
            }
            ctx.fillText(line, 540, y);

            // Add branding
            ctx.font = 'bold 24px Arial';
            ctx.fillStyle = '#f59e0b';
            ctx.fillText('Daily Dawn', 540, 950);

            // Download the image
            canvas.toBlob(blob => {
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'daily-dawn-quote-card.png';
                link.click();
                URL.revokeObjectURL(url);
                alert('âœ“ Quote card generated! Check your downloads.');
            });
        }

        function shareToX() {
            const streak = localStorage.getItem('currentStreak') || 0;
            const text = encodeURIComponent(`ðŸ”¥ Day ${streak} of my Daily Dawn journey! Staying consistent with my goals, faith, and fitness. #DailyDawn #PersonalGrowth #Consistency`);
            window.open(`https://twitter.com/intent/tweet?text=${text}`, '_blank');
        }

        function shareToInstagram() {
            alert('ðŸ’¡ TIP: Use the Quote Card Generator to create a beautiful image, then share it to Instagram!\n\n1. Generate your quote card\n2. Download the image\n3. Post to Instagram with your caption');
        }

        // ===== AUDIO BIBLE FUNCTIONS =====
        let audioContext = null;
        let backgroundAudioEnabled = false;

        // Nigerian English TTS Configuration for clear, well-spoken audio
        function getNigerianVoice() {
            const voices = window.speechSynthesis.getVoices();
            
            // Priority order: Male voices that are clear and natural
            // Prefer British/Nigerian English for better clarity for Nigerian audience
            const preferredVoices = [
                // First try to find male British English voices (clear and easy to understand)
                voices.find(voice => 
                    voice.lang.startsWith('en-GB') && 
                    (voice.name.toLowerCase().includes('male') || voice.name.toLowerCase().includes('george') || voice.name.toLowerCase().includes('daniel'))
                ),
                // Then try Nigerian English if available
                voices.find(voice => voice.lang === 'en-NG'),
                // Then any male British voice
                voices.find(voice => 
                    voice.lang.startsWith('en-GB') && 
                    !voice.name.toLowerCase().includes('female')
                ),
                // South African English (also clear)
                voices.find(voice => voice.lang === 'en-ZA'),
                // US English male voices as backup
                voices.find(voice => 
                    voice.lang.startsWith('en-US') && 
                    (voice.name.toLowerCase().includes('male') || voice.name.toLowerCase().includes('david'))
                ),
                // Any English voice
                voices.find(voice => voice.lang.startsWith('en'))
            ];
            
            return preferredVoices.find(v => v) || voices[0];
        }

        function speakWithNigerianAccent(text, rate = 0.75) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                
                // Set voice - preferring male British/Nigerian voices
                const voice = getNigerianVoice();
                if (voice) {
                    utterance.voice = voice;
                }
                
                // Slower, clearer settings for Nigerian audience
                utterance.rate = rate; // Slower for better comprehension (0.75 = 25% slower than normal)
                utterance.pitch = 1.0; // Natural pitch
                utterance.volume = 1.0; // Full volume
                
                window.speechSynthesis.speak(utterance);
            }
        }

        // Load voices when available
        if ('speechSynthesis' in window) {
            window.speechSynthesis.onvoiceschanged = function() {
                window.speechSynthesis.getVoices();
            };
        }

        function playAudioVerse() {
            const verse = document.getElementById('bible-verse-display').textContent;
            if ('speechSynthesis' in window) {
                speakWithNigerianAccent(verse, 0.7); // Very slow and clear
                alert('ðŸŽ§ Playing audio verse...');
            } else {
                alert('Sorry, your browser does not support text-to-speech.');
            }
        }

        function playAudioDevotional() {
            const devotional = "Welcome to your daily audio devotional. Take a moment to breathe deeply and center your thoughts on God's presence. Today's verse reminds us of God's faithfulness and love. Remember that you are blessed, you are capable, and you are exactly where you need to be. Keep moving forward with faith.";
            if ('speechSynthesis' in window) {
                speakWithNigerianAccent(devotional, 0.75); // Slow and clear
                alert('ðŸŽ§ Playing audio devotional...');
            } else {
                alert('Sorry, your browser does not support text-to-speech.');
            }
        }

        function toggleBackgroundAudio() {
            backgroundAudioEnabled = document.getElementById('background-audio-toggle').checked;
            if (backgroundAudioEnabled) {
                alert('ðŸŽµ Background audio enabled! Bible audio will continue playing while you use other apps.');
                localStorage.setItem('backgroundAudio', 'true');
            } else {
                speechSynthesis.cancel();
                localStorage.removeItem('backgroundAudio');
            }
        }

        // ===== PRAYER TRACKING FUNCTIONS =====
        function addPrayerRequest() {
            const title = document.getElementById('prayer-request-title').value.trim();
            const details = document.getElementById('prayer-request-details').value.trim();
            
            if (!title) {
                alert('Please enter what you\'re praying for');
                return;
            }

            const prayer = {
                id: Date.now(),
                title: title,
                details: details,
                date: new Date().toISOString(),
                answered: false
            };

            const prayers = JSON.parse(localStorage.getItem('prayerRequests') || '[]');
            prayers.unshift(prayer);
            localStorage.setItem('prayerRequests', JSON.stringify(prayers));

            document.getElementById('prayer-request-title').value = '';
            document.getElementById('prayer-request-details').value = '';
            
            loadPrayerRequests();
            alert('âœ“ Prayer request added!');
        }

        function loadPrayerRequests() {
            const prayers = JSON.parse(localStorage.getItem('prayerRequests') || '[]');
            const activePrayers = prayers.filter(p => !p.answered);
            const answeredPrayers = prayers.filter(p => p.answered);

            const activeContainer = document.getElementById('active-prayers');
            const answeredContainer = document.getElementById('answered-prayers');
            const answeredCount = document.getElementById('answered-prayers-count');

            activeContainer.innerHTML = activePrayers.length === 0 
                ? '<p class="text-sm text-slate-500 text-center py-4">No active prayer requests</p>'
                : activePrayers.map(p => `
                    <div class="p-3 bg-blue-50 rounded-xl border border-blue-200">
                        <div class="flex justify-between items-start mb-2">
                            <p class="font-bold text-blue-900">${p.title}</p>
                            <button onclick="markPrayerAnswered(${p.id})" class="text-green-600 hover:text-green-700">
                                <i class="fa-solid fa-check-circle"></i>
                            </button>
                        </div>
                        ${p.details ? `<p class="text-xs text-blue-800 mb-1">${p.details}</p>` : ''}
                        <p class="text-xs text-blue-600">${new Date(p.date).toLocaleDateString()}</p>
                    </div>
                `).join('');

            answeredContainer.innerHTML = answeredPrayers.map(p => `
                <div class="p-3 bg-green-50 rounded-xl border border-green-200">
                    <p class="font-bold text-green-900 mb-1">${p.title}</p>
                    <p class="text-xs text-green-700">Answered: ${new Date(p.answeredDate || p.date).toLocaleDateString()}</p>
                    ${p.testimony ? `<p class="text-xs text-green-800 mt-2 italic">"${p.testimony}"</p>` : ''}
                </div>
            `).join('');

            answeredCount.textContent = `(${answeredPrayers.length})`;
        }

        function markPrayerAnswered(id) {
            const testimony = prompt('ðŸ™ Praise God! How was this prayer answered? (Optional testimony to share)');
            
            const prayers = JSON.parse(localStorage.getItem('prayerRequests') || '[]');
            const prayer = prayers.find(p => p.id === id);
            
            if (prayer) {
                prayer.answered = true;
                prayer.answeredDate = new Date().toISOString();
                if (testimony) prayer.testimony = testimony;
                
                localStorage.setItem('prayerRequests', JSON.stringify(prayers));
                loadPrayerRequests();
                
                alert('âœ“ Prayer marked as answered! Glory to God!');
            }
        }

        function toggleAnsweredPrayers() {
            const container = document.getElementById('answered-prayers');
            const chevron = document.getElementById('answered-prayers-chevron');
            
            if (container.classList.contains('hidden')) {
                container.classList.remove('hidden');
                chevron.style.transform = 'rotate(180deg)';
            } else {
                container.classList.add('hidden');
                chevron.style.transform = 'rotate(0deg)';
            }
        }

        function togglePrayerReminder() {
            const enabled = document.getElementById('prayer-reminder-toggle').checked;
            if (enabled) {
                localStorage.setItem('prayerReminder', 'true');
                alert('ðŸ”” Prayer reminder enabled! You\'ll receive daily reminders to pray.');
            } else {
                localStorage.removeItem('prayerReminder');
            }
        }

        // ===== FASTING TRACKER FUNCTIONS =====
        let fastingInterval = null;
        let fastingGoalHours = 16;

        function startFast() {
            const startTime = new Date().toISOString();
            localStorage.setItem('fastingStartTime', startTime);
            localStorage.setItem('fastingGoalHours', fastingGoalHours.toString());
            
            document.getElementById('start-fast-btn').classList.add('hidden');
            document.getElementById('end-fast-btn').classList.remove('hidden');
            document.getElementById('fasting-status').textContent = `Goal: ${fastingGoalHours} hours`;
            
            updateFastingTimer();
            fastingInterval = setInterval(updateFastingTimer, 1000);
            
            alert(`â±ï¸ Fast started! Goal: ${fastingGoalHours} hours`);
        }

        function endFast() {
            const startTime = localStorage.getItem('fastingStartTime');
            if (!startTime) return;
            
            const duration = (new Date() - new Date(startTime)) / 1000 / 3600;
            
            const fastEntry = {
                id: Date.now(),
                startTime: startTime,
                endTime: new Date().toISOString(),
                duration: duration.toFixed(1),
                goal: fastingGoalHours
            };
            
            const fastHistory = JSON.parse(localStorage.getItem('fastingHistory') || '[]');
            fastHistory.unshift(fastEntry);
            localStorage.setItem('fastingHistory', JSON.stringify(fastHistory));
            
            localStorage.removeItem('fastingStartTime');
            localStorage.removeItem('fastingGoalHours');
            clearInterval(fastingInterval);
            
            document.getElementById('start-fast-btn').classList.remove('hidden');
            document.getElementById('end-fast-btn').classList.add('hidden');
            document.getElementById('fasting-timer').textContent = '00:00:00';
            document.getElementById('fasting-status').textContent = 'Not Fasting';
            
            loadFastingHistory();
            alert(`âœ“ Fast complete! Duration: ${duration.toFixed(1)} hours\n\n${duration >= fastingGoalHours ? 'ðŸŽ‰ Goal achieved!' : 'Keep it up next time!'}`);
        }

        function updateFastingTimer() {
            const startTime = localStorage.getItem('fastingStartTime');
            if (!startTime) return;
            
            const elapsed = (new Date() - new Date(startTime)) / 1000;
            const hours = Math.floor(elapsed / 3600);
            const minutes = Math.floor((elapsed % 3600) / 60);
            const seconds = Math.floor(elapsed % 60);
            
            document.getElementById('fasting-timer').textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function setFastingGoal(hours) {
            fastingGoalHours = hours;
            alert(`Fasting goal set to ${hours} hours`);
        }

        function loadFastingHistory() {
            const history = JSON.parse(localStorage.getItem('fastingHistory') || '[]');
            const container = document.getElementById('fasting-history');
            
            if (history.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-500 text-center py-4">No fasting history yet</p>';
                return;
            }
            
            container.innerHTML = history.slice(0, 10).map(entry => `
                <div class="p-3 bg-indigo-50 rounded-xl border border-indigo-200">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-bold text-indigo-900">${entry.duration} hours</p>
                            <p class="text-xs text-indigo-700">${new Date(entry.startTime).toLocaleDateString()}</p>
                        </div>
                        <div class="text-right">
                            <p class="text-xs text-indigo-600">Goal: ${entry.goal}hr</p>
                            ${parseFloat(entry.duration) >= entry.goal ? '<span class="text-xs text-green-600">âœ“ Goal Met</span>' : ''}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // ===== DAILY FASTING TRACKER (for Bible Daily tab) =====
        let dailyFastingInterval = null;
        let dailyFastingGoalHours = 16;

        function startDailyFast() {
            const startTime = new Date().toISOString();
            localStorage.setItem('dailyFastingStartTime', startTime);
            localStorage.setItem('dailyFastingGoalHours', dailyFastingGoalHours.toString());
            
            document.getElementById('daily-start-fast-btn').classList.add('hidden');
            document.getElementById('daily-end-fast-btn').classList.remove('hidden');
            document.getElementById('daily-fasting-status').textContent = `Goal: ${dailyFastingGoalHours} hours`;
            
            updateDailyFastingTimer();
            dailyFastingInterval = setInterval(updateDailyFastingTimer, 1000);
            
            alert(`â±ï¸ Fast started! Goal: ${dailyFastingGoalHours} hours`);
        }

        function endDailyFast() {
            const startTime = localStorage.getItem('dailyFastingStartTime');
            if (!startTime) return;
            
            const duration = (new Date() - new Date(startTime)) / 1000 / 3600;
            
            const fastEntry = {
                id: Date.now(),
                startTime: startTime,
                endTime: new Date().toISOString(),
                duration: duration.toFixed(1),
                goal: dailyFastingGoalHours,
                date: new Date().toLocaleDateString(),
                time: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})
            };
            
            const fastHistory = JSON.parse(localStorage.getItem('dailyFastingHistory') || '[]');
            fastHistory.unshift(fastEntry);
            localStorage.setItem('dailyFastingHistory', JSON.stringify(fastHistory));
            
            localStorage.removeItem('dailyFastingStartTime');
            localStorage.removeItem('dailyFastingGoalHours');
            clearInterval(dailyFastingInterval);
            
            document.getElementById('daily-start-fast-btn').classList.remove('hidden');
            document.getElementById('daily-end-fast-btn').classList.add('hidden');
            document.getElementById('daily-fasting-timer').textContent = '00:00:00';
            document.getElementById('daily-fasting-status').textContent = 'Not Fasting';
            
            loadDailyFastingHistory();
            addXP(25); // Reward for completing fast
            alert(`âœ“ Fast complete! Duration: ${duration.toFixed(1)} hours\n\n${duration >= dailyFastingGoalHours ? 'ðŸŽ‰ Goal achieved! +25 XP' : 'Keep it up next time! +25 XP'}`);
        }

        function updateDailyFastingTimer() {
            const startTime = localStorage.getItem('dailyFastingStartTime');
            if (!startTime) return;
            
            const elapsed = (new Date() - new Date(startTime)) / 1000;
            const hours = Math.floor(elapsed / 3600);
            const minutes = Math.floor((elapsed % 3600) / 60);
            const seconds = Math.floor(elapsed % 60);
            
            document.getElementById('daily-fasting-timer').textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function setDailyFastingGoal(hours) {
            dailyFastingGoalHours = hours;
            alert(`Fasting goal set to ${hours} hours`);
        }

        function loadDailyFastingHistory() {
            const history = JSON.parse(localStorage.getItem('dailyFastingHistory') || '[]');
            const container = document.getElementById('daily-fasting-history');
            
            if (history.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-400 text-center py-2">No fasting records yet</p>';
                return;
            }
            
            container.innerHTML = history.slice(0, 5).map(entry => `
                <div class="p-3 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg border border-indigo-200">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-bold text-sm text-indigo-900">${entry.duration} hours</p>
                            <p class="text-xs text-indigo-700">${entry.date} â€¢ ${entry.time}</p>
                        </div>
                        <div class="text-right">
                            ${parseFloat(entry.duration) >= entry.goal ? 
                                '<span class="text-2xl">ðŸŽ‰</span>' : 
                                '<span class="text-2xl">ðŸ’ª</span>'
                            }
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Initialize daily fasting on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Check if there's an active fast
            const dailyFastStart = localStorage.getItem('dailyFastingStartTime');
            if (dailyFastStart) {
                document.getElementById('daily-start-fast-btn').classList.add('hidden');
                document.getElementById('daily-end-fast-btn').classList.remove('hidden');
                const goal = localStorage.getItem('dailyFastingGoalHours') || 16;
                document.getElementById('daily-fasting-status').textContent = `Goal: ${goal} hours`;
                updateDailyFastingTimer();
                dailyFastingInterval = setInterval(updateDailyFastingTimer, 1000);
            }
            
            loadDailyFastingHistory();
        });

        // ===== JOURNAL TYPE SWITCHING =====
        let currentJournalType = 'daily';

        function switchJournalType(type) {
            currentJournalType = type;
            
            // Hide all sections
            document.getElementById('daily-journal-section').style.display = 'none';
            document.getElementById('prayer-journal-section').style.display = 'none';
            document.getElementById('dream-journal-section').style.display = 'none';
            
            // Reset button styles
            document.getElementById('journal-type-daily').className = 'p-3 bg-slate-50 text-slate-700 rounded-lg font-bold text-xs border-2 border-slate-200 transition active:scale-95';
            document.getElementById('journal-type-prayer').className = 'p-3 bg-slate-50 text-slate-700 rounded-lg font-bold text-xs border-2 border-slate-200 transition active:scale-95';
            document.getElementById('journal-type-dream').className = 'p-3 bg-slate-50 text-slate-700 rounded-lg font-bold text-xs border-2 border-slate-200 transition active:scale-95';
            
            // Show selected section and highlight button
            if (type === 'daily') {
                document.getElementById('daily-journal-section').style.display = 'block';
                document.getElementById('journal-type-daily').className = 'p-3 bg-slate-900 text-white rounded-lg font-bold text-xs transition active:scale-95';
            } else if (type === 'prayer') {
                document.getElementById('prayer-journal-section').style.display = 'block';
                document.getElementById('journal-type-prayer').className = 'p-3 bg-blue-600 text-white rounded-lg font-bold text-xs transition active:scale-95';
                loadPrayerJournalEntries();
            } else if (type === 'dream') {
                document.getElementById('dream-journal-section').style.display = 'block';
                document.getElementById('journal-type-dream').className = 'p-3 bg-indigo-600 text-white rounded-lg font-bold text-xs transition active:scale-95';
                loadDreamJournalEntries();
            }
        }

        // ===== PRAYER JOURNAL FUNCTIONS =====
        let selectedPrayerTags = [];

        function togglePrayerTag(tag) {
            const index = selectedPrayerTags.indexOf(tag);
            if (index > -1) {
                selectedPrayerTags.splice(index, 1);
            } else {
                selectedPrayerTags.push(tag);
            }
            
            // Update UI
            document.querySelectorAll('.prayer-tag').forEach(btn => {
                if (btn.textContent.toLowerCase().includes(tag)) {
                    if (selectedPrayerTags.includes(tag)) {
                        btn.className = 'prayer-tag px-3 py-1 bg-blue-600 text-white border-2 border-blue-600 rounded-lg text-xs font-bold transition active:scale-95';
                    } else {
                        btn.className = 'prayer-tag px-3 py-1 bg-slate-50 border-2 border-slate-200 rounded-lg text-xs font-bold text-slate-700 transition active:scale-95';
                    }
                }
            });
        }

        function savePrayerJournal() {
            const title = document.getElementById('prayer-journal-title').value.trim();
            const body = document.getElementById('prayer-journal-body').value.trim();
            
            if (!title || !body) {
                alert('Please fill in both the title and prayer details');
                return;
            }
            
            const entry = {
                id: Date.now(),
                title: title,
                body: body,
                tags: [...selectedPrayerTags],
                date: new Date().toISOString()
            };
            
            const entries = JSON.parse(localStorage.getItem('prayerJournalEntries') || '[]');
            entries.unshift(entry);
            localStorage.setItem('prayerJournalEntries', JSON.stringify(entries));
            
            document.getElementById('prayer-journal-title').value = '';
            document.getElementById('prayer-journal-body').value = '';
            selectedPrayerTags = [];
            
            // Reset tags
            document.querySelectorAll('.prayer-tag').forEach(btn => {
                btn.className = 'prayer-tag px-3 py-1 bg-slate-50 border-2 border-slate-200 rounded-lg text-xs font-bold text-slate-700 transition active:scale-95';
            });
            
            loadPrayerJournalEntries();
            alert('âœ“ Prayer journal entry saved!');
        }

        function loadPrayerJournalEntries() {
            const entries = JSON.parse(localStorage.getItem('prayerJournalEntries') || '[]');
            const container = document.getElementById('prayer-journal-entries');
            
            if (entries.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-500 text-center py-4">No prayer journal entries yet</p>';
                return;
            }
            
            container.innerHTML = entries.map(entry => `
                <div class="entry-item">
                    <div class="flex justify-between items-start mb-2">
                        <p class="font-bold text-slate-900">${entry.title}</p>
                        <p class="text-xs text-slate-500">${new Date(entry.date).toLocaleDateString()}</p>
                    </div>
                    <p class="text-sm text-slate-700 mb-2">${entry.body}</p>
                    ${entry.tags && entry.tags.length > 0 ? `
                        <div class="flex flex-wrap gap-1">
                            ${entry.tags.map(tag => `<span class="px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-bold">${tag}</span>`).join('')}
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        // ===== DREAM JOURNAL FUNCTIONS =====
        let selectedDreamEmotions = [];

        function toggleDreamEmotion(emotion) {
            const index = selectedDreamEmotions.indexOf(emotion);
            if (index > -1) {
                selectedDreamEmotions.splice(index, 1);
            } else {
                selectedDreamEmotions.push(emotion);
            }
            
            // Update UI
            document.querySelectorAll('.dream-emotion').forEach(btn => {
                if (btn.textContent.toLowerCase().includes(emotion)) {
                    if (selectedDreamEmotions.includes(emotion)) {
                        btn.className = 'dream-emotion px-3 py-1 bg-indigo-600 text-white border-2 border-indigo-600 rounded-lg text-xs font-bold transition active:scale-95';
                    } else {
                        btn.className = 'dream-emotion px-3 py-1 bg-slate-50 border-2 border-slate-200 rounded-lg text-xs font-bold text-slate-700 transition active:scale-95';
                    }
                }
            });
        }

        function saveDreamJournal() {
            const user = JSON.parse(localStorage.getItem('currentUser') || 'null');
            if (!user || !user.isPremium) {
                alert('ðŸ”’ Dream Journal is a Premium feature. Upgrade to unlock!');
                return;
            }
            
            const title = document.getElementById('dream-journal-title').value.trim();
            const body = document.getElementById('dream-journal-body').value.trim();
            const tags = document.getElementById('dream-tags-input').value.trim();
            
            if (!title || !body) {
                alert('Please fill in both the dream title and description');
                return;
            }
            
            const entry = {
                id: Date.now(),
                title: title,
                body: body,
                emotions: [...selectedDreamEmotions],
                tags: tags ? tags.split(',').map(t => t.trim()) : [],
                date: new Date().toISOString()
            };
            
            const entries = JSON.parse(localStorage.getItem('dreamJournalEntries') || '[]');
            entries.unshift(entry);
            localStorage.setItem('dreamJournalEntries', JSON.stringify(entries));
            
            document.getElementById('dream-journal-title').value = '';
            document.getElementById('dream-journal-body').value = '';
            document.getElementById('dream-tags-input').value = '';
            selectedDreamEmotions = [];
            
            // Reset emotions
            document.querySelectorAll('.dream-emotion').forEach(btn => {
                btn.className = 'dream-emotion px-3 py-1 bg-slate-50 border-2 border-slate-200 rounded-lg text-xs font-bold text-slate-700 transition active:scale-95';
            });
            
            loadDreamJournalEntries();
            alert('âœ“ Dream recorded!');
        }

        function loadDreamJournalEntries() {
            const entries = JSON.parse(localStorage.getItem('dreamJournalEntries') || '[]');
            const container = document.getElementById('dream-journal-entries');
            
            if (entries.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-500 text-center py-4">No dream entries yet</p>';
                return;
            }
            
            container.innerHTML = entries.map(entry => `
                <div class="entry-item">
                    <div class="flex justify-between items-start mb-2">
                        <p class="font-bold text-slate-900">${entry.title}</p>
                        <p class="text-xs text-slate-500">${new Date(entry.date).toLocaleDateString()}</p>
                    </div>
                    <p class="text-sm text-slate-700 mb-2">${entry.body.substring(0, 200)}${entry.body.length > 200 ? '...' : ''}</p>
                    ${entry.emotions && entry.emotions.length > 0 ? `
                        <div class="flex flex-wrap gap-1 mb-2">
                            ${entry.emotions.map(e => `<span class="px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-bold">${e}</span>`).join('')}
                        </div>
                    ` : ''}
                    ${entry.tags && entry.tags.length > 0 ? `
                        <div class="flex flex-wrap gap-1">
                            ${entry.tags.map(tag => `<span class="px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-xs font-bold">#${tag}</span>`).join('')}
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        function interpretLastDream() {
            const user = JSON.parse(localStorage.getItem('currentUser') || 'null');
            if (!user || !user.isPremium) {
                alert('ðŸ”’ AI Dream Interpretation is a Premium feature. Upgrade to unlock!');
                return;
            }
            
            const entries = JSON.parse(localStorage.getItem('dreamJournalEntries') || '[]');
            if (entries.length === 0) {
                alert('No dreams to interpret. Record a dream first!');
                return;
            }
            
            const lastDream = entries[0];
            const interpretation = `
ðŸ”® AI DREAM INTERPRETATION

Dream: "${lastDream.title}"

Based on your dream description, here are some possible interpretations:

â€¢ The themes in your dream may reflect your subconscious processing of recent experiences
â€¢ Emotions felt: ${lastDream.emotions.join(', ') || 'Not specified'}
â€¢ Common symbols detected: ${lastDream.tags.join(', ') || 'None tagged'}

Dreams often serve as a way for your mind to work through emotions, experiences, and aspirations. Consider how these themes relate to your waking life.

Remember: You are the best interpreter of your own dreams. Trust your intuition about what feels meaningful to you.
            `.trim();
            
            alert(interpretation);
        }

        function analyzeDreamPatterns() {
            const user = JSON.parse(localStorage.getItem('currentUser') || 'null');
            if (!user || !user.isPremium) {
                alert('ðŸ”’ Pattern Analysis is a Premium feature. Upgrade to unlock!');
                return;
            }
            
            const entries = JSON.parse(localStorage.getItem('dreamJournalEntries') || '[]');
            if (entries.length < 3) {
                alert('Record at least 3 dreams to analyze patterns!');
                return;
            }
            
            // Analyze patterns
            const allTags = entries.flatMap(e => e.tags || []);
            const tagCounts = {};
            allTags.forEach(tag => {
                tagCounts[tag] = (tagCounts[tag] || 0) + 1;
            });
            
            const allEmotions = entries.flatMap(e => e.emotions || []);
            const emotionCounts = {};
            allEmotions.forEach(emotion => {
                emotionCounts[emotion] = (emotionCounts[emotion] || 0) + 1;
            });
            
            const topTags = Object.entries(tagCounts).sort((a, b) => b[1] - a[1]).slice(0, 5);
            const topEmotions = Object.entries(emotionCounts).sort((a, b) => b[1] - a[1]).slice(0, 3);
            
            const analysis = `
ðŸ“Š DREAM PATTERN ANALYSIS
Based on ${entries.length} recorded dreams

RECURRING THEMES:
${topTags.map(([tag, count]) => `â€¢ ${tag}: ${count} times`).join('\n') || 'â€¢ No recurring themes yet'}

COMMON EMOTIONS:
${topEmotions.map(([emotion, count]) => `â€¢ ${emotion}: ${count} times`).join('\n') || 'â€¢ No recurring emotions yet'}

INSIGHTS:
â€¢ You've been tracking dreams for ${Math.ceil((new Date() - new Date(entries[entries.length - 1].date)) / (1000 * 60 * 60 * 24))} days
â€¢ Most recent dream: ${entries[0].title}
â€¢ Your dreams show patterns related to: ${topTags.map(([tag]) => tag).join(', ') || 'various themes'}

Keep recording your dreams to discover deeper patterns over time!
            `.trim();
            
            alert(analysis);
        }

        // Initialize page on load
        window.addEventListener("DOMContentLoaded", function() {
            updateProfileDisplay();
            loadDashboard();
            refreshInspiration();
            loadPrayerRequests();
            loadFastingHistory();
            
            // Check if fasting is in progress
            const fastingStartTime = localStorage.getItem('fastingStartTime');
            if (fastingStartTime) {
                document.getElementById('start-fast-btn').classList.add('hidden');
                document.getElementById('end-fast-btn').classList.remove('hidden');
                updateFastingTimer();
                fastingInterval = setInterval(updateFastingTimer, 1000);
            }
            
            // Load prayer reminder setting
            const prayerReminder = localStorage.getItem('prayerReminder');
            if (prayerReminder) {
                document.getElementById('prayer-reminder-toggle').checked = true;
            }
            
            // Load background audio setting
            const backgroundAudio = localStorage.getItem('backgroundAudio');
            if (backgroundAudio) {
                document.getElementById('background-audio-toggle').checked = true;
                backgroundAudioEnabled = true;
            }
        });


        // ===== CHARACTER DEVELOPMENT FUNCTIONS =====

        function switchCharacterTab(tab) {
            // Update tab buttons
            document.querySelectorAll('[id^="char-tab-"]').forEach(btn => {
                btn.classList.remove('bg-slate-900', 'text-white');
                btn.classList.add('bg-slate-100', 'text-slate-700');
            });
            document.getElementById('char-tab-' + tab).classList.remove('bg-slate-100', 'text-slate-700');
            document.getElementById('char-tab-' + tab).classList.add('bg-slate-900', 'text-white');
            
            // Update content
            if (tab === 'traits') {
                document.getElementById('character-traits-content').style.display = 'block';
                document.getElementById('character-assessment-content').style.display = 'none';
                loadCharacterTraits();
            } else {
                document.getElementById('character-traits-content').style.display = 'none';
                document.getElementById('character-assessment-content').style.display = 'block';
                loadAssessments();
            }
        }

        function showAddCharacterTrait() {
            document.getElementById('add-character-trait-modal').classList.add('active');
        }

        function hideCharacterTraitModal() {
            document.getElementById('add-character-trait-modal').classList.remove('active');
        }

        function saveCharacterTrait() {
            const traitName = document.getElementById('character-trait-select').value;
            const why = document.getElementById('character-trait-why').value.trim();
            const action = document.getElementById('character-trait-action').value.trim();
            
            if (!traitName || !why) {
                alert('Please select a trait and explain why it\'s important');
                return;
            }
            
            const trait = {
                id: Date.now(),
                name: traitName,
                why: why,
                action: action,
                progress: 0,
                createdAt: new Date().toISOString(),
                lastUpdated: new Date().toISOString()
            };
            
            const traits = JSON.parse(localStorage.getItem('characterTraits') || '[]');
            traits.push(trait);
            localStorage.setItem('characterTraits', JSON.stringify(traits));
            
            // Reset form
            document.getElementById('character-trait-select').value = '';
            document.getElementById('character-trait-why').value = '';
            document.getElementById('character-trait-action').value = '';
            
            hideCharacterTraitModal();
            loadCharacterTraits();
            alert('âœ“ Character trait added!');
        }

        function loadCharacterTraits() {
            const traits = JSON.parse(localStorage.getItem('characterTraits') || '[]');
            const container = document.getElementById('character-traits-list');
            
            if (!container) return;
            
            if (traits.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-500 text-center py-4">No character goals yet. Add one to start your journey!</p>';
                return;
            }
            
            container.innerHTML = traits.map(trait => `
                <div class="p-4 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl" onclick="incrementTraitProgress(${trait.id})">
                    <div class="flex justify-between items-start mb-2">
                        <div class="flex-1">
                            <p class="font-bold text-lg">${trait.name}</p>
                            <p class="text-sm opacity-90 mt-1">${trait.why}</p>
                            ${trait.action ? `<p class="text-xs opacity-75 mt-1">ðŸ“Œ ${trait.action}</p>` : ''}
                        </div>
                        <div class="text-center ml-3">
                            <p class="text-3xl font-black">${trait.progress}%</p>
                            <p class="text-xs opacity-75">progress</p>
                        </div>
                    </div>
                    <div class="h-2 bg-white/30 rounded-full overflow-hidden">
                        <div class="h-full bg-white transition-all duration-500" style="width: ${trait.progress}%"></div>
                    </div>
                    <p class="text-xs opacity-75 mt-2">Tap to increase progress (+5%)</p>
                </div>
            `).join('');
        }

        function incrementTraitProgress(traitId) {
            const traits = JSON.parse(localStorage.getItem('characterTraits') || '[]');
            const trait = traits.find(t => t.id === traitId);
            
            if (trait && trait.progress < 100) {
                trait.progress = Math.min(100, trait.progress + 5);
                trait.lastUpdated = new Date().toISOString();
                localStorage.setItem('characterTraits', JSON.stringify(traits));
                loadCharacterTraits();
            } else if (trait && trait.progress >= 100) {
                alert('ðŸŽ‰ Congratulations! You\'ve mastered this trait!');
            }
        }

        function saveWeeklyAssessment() {
            const growth = document.getElementById('assess-growth').value;
            const trait = document.getElementById('assess-trait').value.trim();
            const improve = document.getElementById('assess-improve').value.trim();
            const challenges = document.getElementById('assess-challenges').value.trim();
            const gratitude = document.getElementById('assess-gratitude').value.trim();
            
            if (!growth || !trait || !improve || !challenges || !gratitude) {
                alert('Please complete all assessment questions');
                return;
            }
            
            const assessment = {
                id: Date.now(),
                growth: parseInt(growth),
                trait: trait,
                improve: improve,
                challenges: challenges,
                gratitude: gratitude,
                date: new Date().toISOString()
            };
            
            const assessments = JSON.parse(localStorage.getItem('weeklyAssessments') || '[]');
            assessments.unshift(assessment);
            localStorage.setItem('weeklyAssessments', JSON.stringify(assessments));
            
            // Reset form
            document.getElementById('assess-growth').value = '';
            document.getElementById('assess-trait').value = '';
            document.getElementById('assess-improve').value = '';
            document.getElementById('assess-challenges').value = '';
            document.getElementById('assess-gratitude').value = '';
            
            loadAssessments();
            alert('âœ“ Weekly assessment saved!');
        }

        function loadAssessments() {
            const assessments = JSON.parse(localStorage.getItem('weeklyAssessments') || '[]');
            
            // Load growth metrics
            const metricsContainer = document.getElementById('growth-metrics');
            if (metricsContainer && assessments.length > 0) {
                const avgGrowth = (assessments.reduce((sum, a) => sum + a.growth, 0) / assessments.length).toFixed(1);
                metricsContainer.innerHTML = `
                    <div class="grid grid-cols-2 gap-3">
                        <div class="text-center">
                            <p class="text-3xl font-black text-emerald-600">${avgGrowth}</p>
                            <p class="text-xs text-emerald-800">Avg Growth Score</p>
                        </div>
                        <div class="text-center">
                            <p class="text-3xl font-black text-emerald-600">${assessments.length}</p>
                            <p class="text-xs text-emerald-800">Assessments</p>
                        </div>
                    </div>
                `;
            }
            
            // Load past assessments
            const listContainer = document.getElementById('past-assessments-list');
            if (listContainer) {
                if (assessments.length === 0) {
                    listContainer.innerHTML = '<p class="text-sm text-slate-500 text-center py-4">No assessments yet</p>';
                    return;
                }
                
                listContainer.innerHTML = assessments.slice(0, 5).map(a => `
                    <div class="p-3 bg-slate-50 rounded-lg">
                        <div class="flex justify-between items-center mb-1">
                            <p class="font-bold text-sm text-slate-800">${new Date(a.date).toLocaleDateString()}</p>
                            <span class="px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold">${a.growth}/10</span>
                        </div>
                        <p class="text-xs text-slate-600">Trait: ${a.trait}</p>
                        <p class="text-xs text-slate-600">Focus: ${a.improve}</p>
                    </div>
                `).join('');
            }
        }

        // ===== GYM - NUTRITION FUNCTIONS =====

        function switchGymTab(tab) {
            // Update tab buttons
            document.querySelectorAll('.gym-tab').forEach(btn => {
                btn.classList.remove('active');
            });
            const tabButton = document.getElementById('gym-tab-' + tab);
            if (tabButton) {
                tabButton.classList.add('active');
            }
            
            // Update content
            document.querySelectorAll('.gym-tab-content').forEach(content => {
                content.style.display = 'none';
            });
            const tabContent = document.getElementById('gym-' + tab + '-content');
            if (tabContent) {
                tabContent.style.display = 'block';
            }
            
            if (tab === 'nutrition') loadNutritionData();
            if (tab === 'progress') loadProgressData();
        }

        function loadNutritionData() {
            const today = new Date().toDateString();
            const meals = JSON.parse(localStorage.getItem('meals') || '[]');
            const todayMeals = meals.filter(m => new Date(m.date).toDateString() === today);
            
            // Calculate macros
            const totalProtein = todayMeals.reduce((sum, m) => sum + (m.protein || 0), 0);
            const totalCarbs = todayMeals.reduce((sum, m) => sum + (m.carbs || 0), 0);
            const totalFats = todayMeals.reduce((sum, m) => sum + (m.fats || 0), 0);
            const totalCalories = (totalProtein * 4) + (totalCarbs * 4) + (totalFats * 9);
            
            const proteinEl = document.getElementById('protein-today');
            const carbsEl = document.getElementById('carbs-today');
            const fatsEl = document.getElementById('fats-today');
            const caloriesEl = document.getElementById('calories-today');
            
            if (proteinEl) proteinEl.textContent = totalProtein;
            if (carbsEl) carbsEl.textContent = totalCarbs;
            if (fatsEl) fatsEl.textContent = totalFats;
            if (caloriesEl) caloriesEl.textContent = Math.round(totalCalories);
            
            // Water intake
            const lastWaterDate = localStorage.getItem('lastWaterDate');
            let waterCount = 0;
            if (lastWaterDate === today) {
                waterCount = parseInt(localStorage.getItem('waterToday') || '0');
            }
            const waterCountEl = document.getElementById('water-count');
            const waterProgressEl = document.getElementById('water-progress');
            if (waterCountEl) waterCountEl.textContent = waterCount;
            if (waterProgressEl) waterProgressEl.style.width = ((waterCount / 8) * 100) + '%';
            
            // Eating streak
            const eatingStreak = parseInt(localStorage.getItem('eatingStreak') || '0');
            const streakEl = document.getElementById('eating-streak');
            if (streakEl) streakEl.textContent = eatingStreak;
            
            // Meal history
            loadMealHistory();
        }

        function addWaterGlass() {
            const today = new Date().toDateString();
            const lastWaterDate = localStorage.getItem('lastWaterDate');
            
            let waterCount = 0;
            if (lastWaterDate === today) {
                waterCount = parseInt(localStorage.getItem('waterToday') || '0');
            }
            
            if (waterCount < 8) {
                waterCount++;
                localStorage.setItem('waterToday', waterCount.toString());
                localStorage.setItem('lastWaterDate', today);
                loadNutritionData();
                
                if (waterCount === 8) {
                    alert('ðŸŽ‰ Great job! You\'ve reached your water goal for today!');
                }
            } else {
                alert('You\'ve already reached your water goal for today!');
            }
        }

        function showLogMealModal() {
            document.getElementById('log-meal-modal').classList.add('active');
            // Add real-time calorie calculation
            ['meal-protein', 'meal-carbs', 'meal-fats'].forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.addEventListener('input', updateMealCaloriesPreview);
                }
            });
        }

        function hideLogMealModal() {
            document.getElementById('log-meal-modal').classList.remove('active');
        }

        function updateMealCaloriesPreview() {
            const protein = parseInt(document.getElementById('meal-protein').value) || 0;
            const carbs = parseInt(document.getElementById('meal-carbs').value) || 0;
            const fats = parseInt(document.getElementById('meal-fats').value) || 0;
            const calories = (protein * 4) + (carbs * 4) + (fats * 9);
            const previewEl = document.getElementById('meal-calories-preview');
            if (previewEl) {
                previewEl.textContent = Math.round(calories);
            }
        }

        function saveMealLog() {
            const name = document.getElementById('meal-name').value.trim();
            const protein = parseInt(document.getElementById('meal-protein').value) || 0;
            const carbs = parseInt(document.getElementById('meal-carbs').value) || 0;
            const fats = parseInt(document.getElementById('meal-fats').value) || 0;
            
            if (!name) {
                alert('Please enter a meal name');
                return;
            }
            
            const meal = {
                id: Date.now(),
                name: name,
                protein: protein,
                carbs: carbs,
                fats: fats,
                calories: (protein * 4) + (carbs * 4) + (fats * 9),
                date: new Date().toISOString()
            };
            
            const meals = JSON.parse(localStorage.getItem('meals') || '[]');
            meals.unshift(meal);
            localStorage.setItem('meals', JSON.stringify(meals));
            
            // Update eating streak
            updateEatingStreak();
            
            // Reset form
            document.getElementById('meal-name').value = '';
            document.getElementById('meal-protein').value = '';
            document.getElementById('meal-carbs').value = '';
            document.getElementById('meal-fats').value = '';
            
            hideLogMealModal();
            loadNutritionData();
            alert('âœ“ Meal logged successfully!');
        }

        function updateEatingStreak() {
            const today = new Date().toDateString();
            const lastMealDate = localStorage.getItem('lastMealDate');
            const currentStreak = parseInt(localStorage.getItem('eatingStreak') || '0');
            
            if (lastMealDate === today) {
                return; // Already logged today
            }
            
            const yesterday = new Date(Date.now() - 86400000).toDateString();
            if (lastMealDate === yesterday) {
                localStorage.setItem('eatingStreak', (currentStreak + 1).toString());
            } else if (lastMealDate !== today) {
                localStorage.setItem('eatingStreak', '1');
            }
            
            localStorage.setItem('lastMealDate', today);
        }

        function loadMealHistory() {
            const meals = JSON.parse(localStorage.getItem('meals') || '[]');
            const container = document.getElementById('meal-history');
            
            if (!container) return;
            
            if (meals.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-500 text-center py-4">No meals logged today</p>';
                return;
            }
            
            container.innerHTML = meals.slice(0, 10).map(meal => `
                <div class="p-3 bg-slate-50 rounded-lg">
                    <div class="flex justify-between items-start mb-1">
                        <p class="font-bold text-sm text-slate-800">${meal.name}</p>
                        <p class="text-xs text-slate-500">${new Date(meal.date).toLocaleTimeString([], {hour: '2-digit', minute: '2-digit'})}</p>
                    </div>
                    <div class="flex gap-3 text-xs">
                        <span class="text-red-600 font-bold">P: ${meal.protein}g</span>
                        <span class="text-blue-600 font-bold">C: ${meal.carbs}g</span>
                        <span class="text-amber-600 font-bold">F: ${meal.fats}g</span>
                        <span class="text-slate-600 font-bold">${Math.round(meal.calories)} cal</span>
                    </div>
                </div>
            `).join('');
        }

        // ===== GYM - WORKOUT FUNCTIONS =====

        const workoutPlans = {
            'beginner-gym': {
                name: 'Beginner - Gym',
                description: '3 days/week full body workout designed to build foundation strength',
                days: [
                    {
                        name: 'Day 1: Full Body A',
                        exercises: ['Squat 3x10', 'Bench Press 3x10', 'Lat Pulldown 3x10', 'Leg Curl 3x12', 'Plank 3x30s']
                    },
                    {
                        name: 'Day 2: Full Body B',
                        exercises: ['Deadlift 3x8', 'Overhead Press 3x10', 'Barbell Row 3x10', 'Leg Press 3x12', 'Bicycle Crunches 3x15']
                    },
                    {
                        name: 'Day 3: Full Body C',
                        exercises: ['Front Squat 3x10', 'Incline Press 3x10', 'Pull-ups 3x8', 'Lunges 3x10 each', 'Cable Crunches 3x15']
                    }
                ]
            },
            'beginner-home': {
                name: 'Beginner - Home',
                description: '3 days/week bodyweight workout requiring no equipment',
                days: [
                    {
                        name: 'Day 1: Upper Body',
                        exercises: ['Push-ups 3x10', 'Pike Push-ups 3x8', 'Inverted Rows 3x10', 'Tricep Dips 3x10', 'Plank 3x30s']
                    },
                    {
                        name: 'Day 2: Lower Body',
                        exercises: ['Bodyweight Squats 3x15', 'Bulgarian Split Squats 3x10', 'Glute Bridges 3x15', 'Calf Raises 3x20', 'Wall Sit 3x45s']
                    },
                    {
                        name: 'Day 3: Full Body',
                        exercises: ['Burpees 3x10', 'Mountain Climbers 3x20', 'Jump Squats 3x12', 'Push-ups 3x12', 'Leg Raises 3x15']
                    }
                ]
            },
            'intermediate-gym': {
                name: 'Intermediate - Gym',
                description: '4 days/week Push/Pull/Legs split for muscle building',
                days: [
                    {
                        name: 'Push Day',
                        exercises: ['Bench Press 4x8', 'Overhead Press 4x10', 'Incline Dumbbell Press 3x12', 'Lateral Raises 3x15', 'Tricep Pushdown 3x12']
                    },
                    {
                        name: 'Pull Day',
                        exercises: ['Deadlift 4x6', 'Pull-ups 4x10', 'Barbell Row 4x10', 'Face Pulls 3x15', 'Bicep Curls 3x12']
                    },
                    {
                        name: 'Legs Day',
                        exercises: ['Squat 4x8', 'Romanian Deadlift 4x10', 'Leg Press 3x12', 'Leg Curl 3x12', 'Calf Raises 4x15']
                    },
                    {
                        name: 'Upper Body',
                        exercises: ['Dumbbell Press 4x10', 'Cable Rows 4x12', 'Dips 3x12', 'Dumbbell Curls 3x12', 'Core Circuit']
                    }
                ]
            },
            'intermediate-home': {
                name: 'Intermediate - Home',
                description: '4 days/week with resistance bands',
                days: [
                    {
                        name: 'Upper Push',
                        exercises: ['Band Chest Press 4x12', 'Band Shoulder Press 4x12', 'Diamond Push-ups 3x15', 'Band Lateral Raises 3x15']
                    },
                    {
                        name: 'Upper Pull',
                        exercises: ['Band Rows 4x12', 'Band Pull-aparts 4x15', 'Pull-ups/Negatives 4x8', 'Band Bicep Curls 3x15']
                    },
                    {
                        name: 'Lower Body',
                        exercises: ['Band Squats 4x15', 'Band RDLs 4x12', 'Band Glute Bridges 4x15', 'Band Leg Curls 3x15']
                    },
                    {
                        name: 'Full Body HIIT',
                        exercises: ['Burpees 4x10', 'Jump Squats 4x12', 'Mountain Climbers 4x20', 'Push-up to T 3x10']
                    }
                ]
            },
            'advanced-gym': {
                name: 'Advanced - Gym',
                description: '5-6 days/week split routine for maximum muscle growth',
                days: [
                    {
                        name: 'Chest',
                        exercises: ['Flat Bench 5x5', 'Incline Press 4x8', 'Cable Flyes 4x12', 'Dips 4x10', 'Pushups AMRAP']
                    },
                    {
                        name: 'Back',
                        exercises: ['Deadlift 5x5', 'Pull-ups 4x10', 'Barbell Row 4x8', 'Lat Pulldown 4x12', 'Face Pulls 4x15']
                    },
                    {
                        name: 'Legs',
                        exercises: ['Squat 5x5', 'Front Squat 4x8', 'RDL 4x10', 'Leg Press 4x12', 'Calf Raises 5x15']
                    },
                    {
                        name: 'Shoulders',
                        exercises: ['OHP 5x5', 'Arnold Press 4x10', 'Lateral Raises 5x12', 'Rear Delt Flyes 4x15', 'Shrugs 4x12']
                    },
                    {
                        name: 'Arms',
                        exercises: ['Close Grip Bench 4x8', 'Weighted Dips 4x10', 'Barbell Curl 4x8', 'Hammer Curls 4x12', 'Cable Work']
                    },
                    {
                        name: 'Optional: Full Body',
                        exercises: ['Power Cleans 5x3', 'Front Squats 4x6', 'Weighted Pull-ups 4x6', 'Push Press 4x6']
                    }
                ]
            },
            'advanced-home': {
                name: 'Advanced - Home',
                description: '5-6 days/week HIIT + Strength training',
                days: [
                    {
                        name: 'HIIT Upper',
                        exercises: ['Explosive Push-ups 5x10', 'Pull-up Variations 5x8', 'Pike Push-ups 4x12', 'Burpees 4x15']
                    },
                    {
                        name: 'HIIT Lower',
                        exercises: ['Jump Squats 5x12', 'Bulgarian Splits 4x10', 'Box Jumps 5x10', 'Sprint Intervals 10x30s']
                    },
                    {
                        name: 'Strength Upper',
                        exercises: ['Weighted Push-ups 5x12', 'Weighted Pull-ups 5x8', 'Handstand Practice', 'Dips 4x15']
                    },
                    {
                        name: 'Strength Lower',
                        exercises: ['Pistol Squats 5x5', 'Single Leg RDL 4x10', 'Nordic Curls 4x6', 'Calf Jumps 5x15']
                    },
                    {
                        name: 'Full Body Circuit',
                        exercises: ['Burpee Pull-ups 5x8', 'Pistol Squats 4x5', 'Handstand Push-ups 4x8', 'Core Circuit']
                    },
                    {
                        name: 'Active Recovery',
                        exercises: ['Yoga Flow 30min', 'Mobility Work', 'Light Cardio', 'Stretching']
                    }
                ]
            }
        };

        function showWorkoutPlan(planId) {
            const plan = workoutPlans[planId];
            if (!plan) return;
            
            const titleEl = document.getElementById('workout-plan-title');
            if (titleEl) {
                titleEl.textContent = plan.name;
            }
            
            const detailsHTML = `
                <p class="text-sm text-slate-600 mb-4">${plan.description}</p>
                <div class="space-y-3">
                    ${plan.days.map((day, index) => `
                        <div class="p-4 bg-slate-50 rounded-xl">
                            <p class="font-bold text-sm text-slate-900 mb-2">${day.name}</p>
                            <ul class="space-y-1">
                                ${day.exercises.map(ex => `
                                    <li class="text-xs text-slate-700 flex items-center">
                                        <span class="w-2 h-2 bg-indigo-600 rounded-full mr-2"></span>
                                        ${ex}
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    `).join('')}
                </div>
            `;
            
            const detailsEl = document.getElementById('workout-plan-details');
            if (detailsEl) {
                detailsEl.innerHTML = detailsHTML;
            }
            document.getElementById('workout-plan-modal').classList.add('active');
        }

        function hideWorkoutPlanModal() {
            document.getElementById('workout-plan-modal').classList.remove('active');
        }

        function showLogWorkoutModal() {
            document.getElementById('log-workout-modal').classList.add('active');
        }

        function hideLogWorkoutModal() {
            document.getElementById('log-workout-modal').classList.remove('active');
        }

        function saveWorkoutLog() {
            const exercise = document.getElementById('workout-exercise').value.trim();
            const sets = parseInt(document.getElementById('workout-sets').value) || 0;
            const reps = parseInt(document.getElementById('workout-reps').value) || 0;
            const weight = parseInt(document.getElementById('workout-weight').value) || 0;
            const notes = document.getElementById('workout-notes').value.trim();
            
            if (!exercise || sets === 0 || reps === 0) {
                alert('Please fill in exercise name, sets, and reps');
                return;
            }
            
            const workout = {
                id: Date.now(),
                exercise: exercise,
                sets: sets,
                reps: reps,
                weight: weight,
                notes: notes,
                volume: sets * reps * weight, // Training volume
                date: new Date().toISOString()
            };
            
            const workouts = JSON.parse(localStorage.getItem('workouts') || '[]');
            workouts.unshift(workout);
            localStorage.setItem('workouts', JSON.stringify(workouts));
            
            // Reset form
            document.getElementById('workout-exercise').value = '';
            document.getElementById('workout-sets').value = '';
            document.getElementById('workout-reps').value = '';
            document.getElementById('workout-weight').value = '';
            document.getElementById('workout-notes').value = '';
            
            hideLogWorkoutModal();
            loadProgressData();
            alert('âœ“ Workout logged successfully!');
        }

        function loadProgressData() {
            const workouts = JSON.parse(localStorage.getItem('workouts') || '[]');
            
            // Group by exercise
            const exerciseData = {};
            workouts.forEach(w => {
                if (!exerciseData[w.exercise]) {
                    exerciseData[w.exercise] = [];
                }
                exerciseData[w.exercise].push(w);
            });
            
            // Calculate weekly progress
            const weekAgo = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);
            const thisWeek = workouts.filter(w => new Date(w.date) > weekAgo);
            
            const progressContainer = document.getElementById('weekly-progress');
            if (progressContainer && thisWeek.length > 0) {
                const totalVolume = thisWeek.reduce((sum, w) => sum + w.volume, 0);
                progressContainer.innerHTML = `
                    <div class="grid grid-cols-2 gap-3">
                        <div class="text-center">
                            <p class="text-2xl font-black text-emerald-600">${thisWeek.length}</p>
                            <p class="text-xs text-emerald-800">Workouts</p>
                        </div>
                        <div class="text-center">
                            <p class="text-2xl font-black text-emerald-600">${Math.round(totalVolume / 1000)}k</p>
                            <p class="text-xs text-emerald-800">Total Volume (kg)</p>
                        </div>
                    </div>
                `;
            }
            
            // Display exercise progress
            const exerciseList = document.getElementById('exercise-progress-list');
            if (exerciseList) {
                if (Object.keys(exerciseData).length === 0) {
                    exerciseList.innerHTML = '<p class="text-sm text-slate-500 text-center py-4">Log workouts to track progress</p>';
                } else {
                    exerciseList.innerHTML = Object.entries(exerciseData).slice(0, 5).map(([exercise, logs]) => {
                        const latest = logs[0];
                        const previous = logs[1];
                        let change = '';
                        if (previous && latest.weight > previous.weight) {
                            change = `<span class="text-green-600 text-xs font-bold">â†‘ +${latest.weight - previous.weight}kg</span>`;
                        }
                        return `
                            <div class="p-3 bg-slate-50 rounded-lg">
                                <div class="flex justify-between items-start mb-1">
                                    <p class="font-bold text-sm text-slate-800">${exercise}</p>
                                    ${change}
                                </div>
                                <p class="text-xs text-slate-600">${latest.sets}x${latest.reps} @ ${latest.weight}kg</p>
                                <p class="text-xs text-slate-500">${logs.length} session${logs.length > 1 ? 's' : ''} logged</p>
                            </div>
                        `;
                    }).join('');
                }
            }
            
            // Workout history
            loadWorkoutHistory();
        }

        function loadWorkoutHistory() {
            const workouts = JSON.parse(localStorage.getItem('workouts') || '[]');
            const container = document.getElementById('workout-history-list');
            
            if (!container) return;
            
            if (workouts.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-500 text-center py-4">No workouts logged yet</p>';
                return;
            }
            
            container.innerHTML = workouts.slice(0, 10).map(workout => `
                <div class="p-3 bg-slate-50 rounded-lg">
                    <div class="flex justify-between items-start mb-1">
                        <p class="font-bold text-sm text-slate-800">${workout.exercise}</p>
                        <p class="text-xs text-slate-500">${new Date(workout.date).toLocaleDateString()}</p>
                    </div>
                    <p class="text-xs text-slate-600">${workout.sets}x${workout.reps} @ ${workout.weight}kg</p>
                    ${workout.notes ? `<p class="text-xs text-slate-500 mt-1">${workout.notes}</p>` : ''}
                </div>
            `).join('');
        }



        // ===== BOOK LIBRARY FUNCTIONS =====

        // Sample book data for recommendations
        const bookRecommendations = [
            { title: "Atomic Habits", author: "James Clear", category: "Self-Help" },
            { title: "Deep Work", author: "Cal Newport", category: "Productivity" },
            { title: "Thinking, Fast and Slow", author: "Daniel Kahneman", category: "Psychology" },
            { title: "The 48 Laws of Power", author: "Robert Greene", category: "Strategy" },
            { title: "Sapiens", author: "Yuval Noah Harari", category: "History" },
            { title: "The Alchemist", author: "Paulo Coelho", category: "Fiction" },
            { title: "Rich Dad Poor Dad", author: "Robert Kiyosaki", category: "Finance" },
            { title: "The 7 Habits of Highly Effective People", author: "Stephen Covey", category: "Self-Help" }
        ];

        let currentBookForProgress = null;

        function switchLearningTab(tab) {
            // Update tab buttons
            document.querySelectorAll('.learning-tab').forEach(btn => {
                btn.classList.remove('active');
            });
            const tabButton = document.getElementById('learning-tab-' + tab);
            if (tabButton) {
                tabButton.classList.add('active');
            }
            
            // Update content
            document.querySelectorAll('.learning-tab-content').forEach(content => {
                content.style.display = 'none';
            });
            const tabContent = document.getElementById('learning-' + tab + '-content');
            if (tabContent) {
                tabContent.style.display = 'block';
            }
            
            // Load data for specific tabs
            if (tab === 'library') {
                loadBookshelf();
                updateReadingGoalDisplay();
            } else if (tab === 'reading') {
                loadCurrentlyReading();
                loadReadingStats();
            } else if (tab === 'quotes') {
                loadQuotes();
            } else if (tab === 'skills') {
                renderLearningEntries();
            }
        }

        // Reading Goal Functions
        function showSetGoalModal() {
            const currentGoal = localStorage.getItem('annualReadingGoal') || '24';
            document.getElementById('annual-reading-goal').value = currentGoal;
            document.getElementById('set-goal-modal').classList.add('active');
        }

        function hideSetGoalModal() {
            document.getElementById('set-goal-modal').classList.remove('active');
        }

        function saveReadingGoal() {
            const goal = parseInt(document.getElementById('annual-reading-goal').value) || 24;
            localStorage.setItem('annualReadingGoal', goal.toString());
            hideSetGoalModal();
            updateReadingGoalDisplay();
            alert('âœ“ Reading goal updated!');
        }

        function updateReadingGoalDisplay() {
            const goal = parseInt(localStorage.getItem('annualReadingGoal') || '24');
            const books = JSON.parse(localStorage.getItem('myBooks') || '[]');
            const completedBooks = books.filter(b => b.status === 'completed').length;
            const totalPages = books.reduce((sum, b) => sum + (b.currentPage || 0), 0);
            
            document.getElementById('books-goal-count').textContent = goal;
            document.getElementById('books-read-count').textContent = completedBooks;
            document.getElementById('pages-read-total').textContent = totalPages;
            
            const percentage = Math.min(100, Math.round((completedBooks / goal) * 100));
            document.getElementById('goal-percentage').textContent = percentage;
            document.getElementById('goal-progress-bar').style.width = percentage + '%';
        }

        // Book Search Functions
        async function searchBooks() {
            const query = document.getElementById('book-search-input').value.trim();
            if (!query) {
                alert('Please enter a search term');
                return;
            }

            const resultsContainer = document.getElementById('book-search-results');
            resultsContainer.style.display = 'block';
            resultsContainer.innerHTML = '<div class="p-4 text-center"><i class="fa-solid fa-spinner fa-spin text-2xl text-purple-600"></i><p class="text-sm text-slate-600 mt-2">Searching...</p></div>';

            try {
                const response = await fetch(`https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(query)}&maxResults=10`);
                const data = await response.json();

                if (!data.items || data.items.length === 0) {
                    resultsContainer.innerHTML = '<div class="p-4 text-center text-sm text-slate-500">No books found</div>';
                    return;
                }

                resultsContainer.innerHTML = data.items.map(item => {
                    const book = item.volumeInfo;
                    const thumbnail = book.imageLinks?.thumbnail || book.imageLinks?.smallThumbnail || '';
                    const authors = book.authors?.join(', ') || 'Unknown Author';
                    const pageCount = book.pageCount || 'N/A';
                    
                    return `
                        <div class="book-search-result" onclick='showBookDetails(${JSON.stringify(item).replace(/'/g, "&apos;")})'>
                            <div class="flex gap-3">
                                <div class="w-16 h-24 flex-shrink-0">
                                    ${thumbnail ? `<img src="${thumbnail}" alt="${book.title}" class="w-full h-full object-cover rounded">` : 
                                    `<div class="w-full h-full bg-gradient-to-br from-purple-400 to-indigo-500 rounded flex items-center justify-center text-white text-xs font-bold text-center p-1">${book.title.substring(0, 20)}</div>`}
                                </div>
                                <div class="flex-1">
                                    <p class="font-bold text-sm text-slate-900">${book.title}</p>
                                    <p class="text-xs text-slate-600 mb-1">${authors}</p>
                                    <p class="text-xs text-slate-500">${pageCount} pages</p>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
            } catch (error) {
                resultsContainer.innerHTML = '<div class="p-4 text-center text-sm text-red-600">Error searching books. Please try again.</div>';
                console.error('Book search error:', error);
            }
        }

        function showBookDetails(bookData) {
            const book = bookData.volumeInfo;
            const thumbnail = book.imageLinks?.thumbnail || book.imageLinks?.smallThumbnail || '';
            const authors = book.authors?.join(', ') || 'Unknown Author';
            const pageCount = book.pageCount || 'Unknown';
            const description = book.description || 'No description available';
            const publishedDate = book.publishedDate || 'Unknown';
            const categories = book.categories?.join(', ') || 'Uncategorized';
            
            const previewLink = bookData.volumeInfo.previewLink || '';
            const infoLink = bookData.volumeInfo.infoLink || '';

            document.getElementById('book-detail-title').textContent = book.title;
            document.getElementById('book-details-content').innerHTML = `
                <div class="mb-4">
                    ${thumbnail ? `<img src="${thumbnail.replace('&edge=curl', '')}" alt="${book.title}" class="w-32 h-48 object-cover rounded mx-auto mb-3">` : 
                    `<div class="w-32 h-48 bg-gradient-to-br from-purple-400 to-indigo-500 rounded mx-auto mb-3 flex items-center justify-center text-white font-bold text-center p-2">${book.title}</div>`}
                    <p class="font-bold text-lg text-slate-900 text-center">${book.title}</p>
                    <p class="text-sm text-slate-600 text-center mb-2">${authors}</p>
                    <div class="flex justify-center gap-2 mb-3">
                        <span class="px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-bold">${pageCount} pages</span>
                        <span class="px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-bold">${publishedDate}</span>
                    </div>
                </div>
                <div class="mb-4">
                    <p class="text-xs font-bold text-slate-600 mb-1">Category</p>
                    <p class="text-sm text-slate-800">${categories}</p>
                </div>
                <div class="mb-4">
                    <p class="text-xs font-bold text-slate-600 mb-1">Description</p>
                    <p class="text-sm text-slate-700 leading-relaxed">${description.substring(0, 500)}${description.length > 500 ? '...' : ''}</p>
                </div>
                <div class="space-y-2">
                    <button onclick='addBookToLibrary(${JSON.stringify(bookData).replace(/'/g, "&apos;")}, "reading")' class="w-full bg-blue-600 text-white py-3 rounded-xl font-bold text-sm">
                        <i class="fa-solid fa-book-open"></i> Start Reading
                    </button>
                    <button onclick='addBookToLibrary(${JSON.stringify(bookData).replace(/'/g, "&apos;")}, "wishlist")' class="w-full bg-amber-600 text-white py-3 rounded-xl font-bold text-sm">
                        <i class="fa-solid fa-heart"></i> Add to Wishlist
                    </button>
                    ${previewLink ? `<button onclick="openBookReader('${previewLink}', '${book.title.replace(/'/g, "&apos;")}')" class="w-full bg-purple-600 text-white py-3 rounded-xl font-bold text-sm">
                        <i class="fa-solid fa-glasses"></i> Preview Book
                    </button>` : ''}
                    ${infoLink ? `<a href="${infoLink}" target="_blank" class="block w-full bg-slate-600 text-white py-3 rounded-xl font-bold text-sm text-center">
                        <i class="fa-solid fa-external-link"></i> More Info
                    </a>` : ''}
                </div>
            `;
            
            document.getElementById('book-details-modal').classList.add('active');
        }

        function hideBookDetailsModal() {
            document.getElementById('book-details-modal').classList.remove('active');
        }

        function addBookToLibrary(bookData, status) {
            const book = bookData.volumeInfo;
            const myBook = {
                id: Date.now(),
                googleId: bookData.id,
                title: book.title,
                authors: book.authors?.join(', ') || 'Unknown Author',
                thumbnail: book.imageLinks?.thumbnail || book.imageLinks?.smallThumbnail || '',
                pageCount: book.pageCount || 0,
                currentPage: 0,
                status: status, // 'reading', 'completed', 'wishlist'
                addedDate: new Date().toISOString(),
                previewLink: book.previewLink || '',
                description: book.description || '',
                categories: book.categories?.join(', ') || 'Uncategorized'
            };

            const books = JSON.parse(localStorage.getItem('myBooks') || '[]');
            
            // Check if book already exists
            if (books.find(b => b.googleId === myBook.googleId)) {
                alert('This book is already in your library!');
                return;
            }

            books.push(myBook);
            localStorage.setItem('myBooks', JSON.stringify(books));
            
            hideBookDetailsModal();
            loadBookshelf();
            updateReadingGoalDisplay();
            alert(`âœ“ "${myBook.title}" added to your library!`);
        }

        // Bookshelf Functions
        function loadBookshelf(filter = 'all') {
            const books = JSON.parse(localStorage.getItem('myBooks') || '[]');
            const container = document.getElementById('bookshelf-grid');
            
            const filteredBooks = filter === 'all' ? books : books.filter(b => b.status === filter);
            
            if (filteredBooks.length === 0) {
                container.innerHTML = '<p class="col-span-2 text-sm text-slate-500 text-center py-8">No books in this category</p>';
                return;
            }

            container.innerHTML = filteredBooks.map(book => {
                const progress = book.pageCount > 0 ? Math.round((book.currentPage / book.pageCount) * 100) : 0;
                const statusClass = book.status === 'reading' ? 'status-reading' : 
                                   book.status === 'completed' ? 'status-completed' : 'status-wishlist';
                const statusText = book.status === 'reading' ? 'Reading' :
                                  book.status === 'completed' ? 'Completed' : 'Wishlist';
                
                return `
                    <div class="book-card" onclick="showBookOptions(${book.id})">
                        <div class="book-cover mb-3">
                            ${book.thumbnail ? `<img src="${book.thumbnail}" alt="${book.title}">` : 
                            `<span class="text-center">${book.title}</span>`}
                        </div>
                        <span class="book-status-badge ${statusClass} mb-2">${statusText}</span>
                        <p class="font-bold text-sm text-slate-900 mb-1 line-clamp-2">${book.title}</p>
                        <p class="text-xs text-slate-600 mb-2">${book.authors}</p>
                        ${book.status === 'reading' ? `
                            <div class="reading-progress-bar mb-1">
                                <div class="reading-progress-fill" style="width: ${progress}%"></div>
                            </div>
                            <p class="text-xs text-slate-500">${book.currentPage}/${book.pageCount} pages (${progress}%)</p>
                        ` : ''}
                    </div>
                `;
            }).join('');
        }

        function filterBooks(status) {
            // Update filter buttons
            ['all', 'reading', 'completed', 'wishlist'].forEach(s => {
                const btn = document.getElementById('filter-' + s);
                if (btn) {
                    btn.classList.remove('bg-slate-900', 'text-white');
                    btn.classList.add('bg-slate-100', 'text-slate-700');
                }
            });
            const activeBtn = document.getElementById('filter-' + status);
            if (activeBtn) {
                activeBtn.classList.remove('bg-slate-100', 'text-slate-700');
                activeBtn.classList.add('bg-slate-900', 'text-white');
            }
            
            loadBookshelf(status);
        }

        function showBookOptions(bookId) {
            const books = JSON.parse(localStorage.getItem('myBooks') || '[]');
            const book = books.find(b => b.id === bookId);
            
            if (!book) return;

            const options = [];
            if (book.status === 'reading') {
                options.push(`<button onclick="showUpdateProgressModal(${bookId})" class="w-full bg-blue-600 text-white py-3 rounded-xl font-bold text-sm mb-2">
                    <i class="fa-solid fa-chart-line"></i> Update Progress
                </button>`);
            }
            if (book.status === 'wishlist') {
                options.push(`<button onclick="changeBookStatus(${bookId}, 'reading')" class="w-full bg-green-600 text-white py-3 rounded-xl font-bold text-sm mb-2">
                    <i class="fa-solid fa-play"></i> Start Reading
                </button>`);
            }
            if (book.status === 'reading') {
                options.push(`<button onclick="changeBookStatus(${bookId}, 'completed')" class="w-full bg-green-600 text-white py-3 rounded-xl font-bold text-sm mb-2">
                    <i class="fa-solid fa-check"></i> Mark as Completed
                </button>`);
            }
            if (book.previewLink) {
                options.push(`<button onclick="openBookReader('${book.previewLink}', '${book.title.replace(/'/g, "&apos;")}')" class="w-full bg-purple-600 text-white py-3 rounded-xl font-bold text-sm mb-2">
                    <i class="fa-solid fa-glasses"></i> Read Preview
                </button>`);
            }
            options.push(`<button onclick="removeBook(${bookId})" class="w-full bg-red-600 text-white py-3 rounded-xl font-bold text-sm">
                <i class="fa-solid fa-trash"></i> Remove from Library
            </button>`);

            document.getElementById('book-details-content').innerHTML = `
                <div class="mb-4">
                    ${book.thumbnail ? `<img src="${book.thumbnail}" alt="${book.title}" class="w-32 h-48 object-cover rounded mx-auto mb-3">` : 
                    `<div class="w-32 h-48 bg-gradient-to-br from-purple-400 to-indigo-500 rounded mx-auto mb-3 flex items-center justify-center text-white font-bold text-center p-2">${book.title}</div>`}
                    <p class="font-bold text-lg text-slate-900 text-center">${book.title}</p>
                    <p class="text-sm text-slate-600 text-center mb-2">${book.authors}</p>
                </div>
                <div class="space-y-2">
                    ${options.join('')}
                </div>
            `;
            
            document.getElementById('book-detail-title').textContent = book.title;
            document.getElementById('book-details-modal').classList.add('active');
        }

        function showUpdateProgressModal(bookId) {
            const books = JSON.parse(localStorage.getItem('myBooks') || '[]');
            const book = books.find(b => b.id === bookId);
            
            if (!book) return;

            currentBookForProgress = bookId;
            document.getElementById('progress-book-title').textContent = book.title;
            document.getElementById('current-page-input').value = book.currentPage || 0;
            document.getElementById('total-pages-input').value = book.pageCount || 0;
            document.getElementById('reading-notes-input').value = '';
            
            hideBookDetailsModal();
            document.getElementById('update-progress-modal').classList.add('active');
        }

        function hideUpdateProgressModal() {
            document.getElementById('update-progress-modal').classList.remove('active');
            currentBookForProgress = null;
        }

        function saveReadingProgress() {
            if (!currentBookForProgress) return;

            const books = JSON.parse(localStorage.getItem('myBooks') || '[]');
            const bookIndex = books.findIndex(b => b.id === currentBookForProgress);
            
            if (bookIndex === -1) return;

            const currentPage = parseInt(document.getElementById('current-page-input').value) || 0;
            const notes = document.getElementById('reading-notes-input').value.trim();

            books[bookIndex].currentPage = currentPage;
            books[bookIndex].lastReadDate = new Date().toISOString();

            // Log reading session
            const readingSessions = JSON.parse(localStorage.getItem('readingSessions') || '[]');
            readingSessions.unshift({
                id: Date.now(),
                bookId: currentBookForProgress,
                bookTitle: books[bookIndex].title,
                pageNumber: currentPage,
                notes: notes,
                date: new Date().toISOString()
            });
            localStorage.setItem('readingSessions', JSON.stringify(readingSessions));

            // Check if completed
            if (currentPage >= books[bookIndex].pageCount) {
                books[bookIndex].status = 'completed';
                books[bookIndex].completedDate = new Date().toISOString();
                alert('ðŸŽ‰ Congratulations! You finished this book!');
            }

            localStorage.setItem('myBooks', JSON.stringify(books));
            
            hideUpdateProgressModal();
            loadBookshelf();
            updateReadingGoalDisplay();
            alert('âœ“ Progress updated!');
        }

        function changeBookStatus(bookId, newStatus) {
            const books = JSON.parse(localStorage.getItem('myBooks') || '[]');
            const bookIndex = books.findIndex(b => b.id === bookId);
            
            if (bookIndex === -1) return;

            books[bookIndex].status = newStatus;
            if (newStatus === 'completed') {
                books[bookIndex].completedDate = new Date().toISOString();
                books[bookIndex].currentPage = books[bookIndex].pageCount;
            }

            localStorage.setItem('myBooks', JSON.stringify(books));
            
            hideBookDetailsModal();
            loadBookshelf();
            updateReadingGoalDisplay();
            alert('âœ“ Book status updated!');
        }

        function removeBook(bookId) {
            if (!confirm('Are you sure you want to remove this book from your library?')) {
                return;
            }

            const books = JSON.parse(localStorage.getItem('myBooks') || '[]');
            const filteredBooks = books.filter(b => b.id !== bookId);
            localStorage.setItem('myBooks', JSON.stringify(filteredBooks));
            
            hideBookDetailsModal();
            loadBookshelf();
            updateReadingGoalDisplay();
            alert('âœ“ Book removed from library');
        }

        // Book Reader Functions
        function openBookReader(previewLink, bookTitle) {
            document.getElementById('reader-book-title').textContent = bookTitle;
            
            // Create iframe for Google Books preview
            document.getElementById('book-reader-content').innerHTML = `
                <iframe src="${previewLink}&embedded=true" width="100%" height="800px" frameborder="0" allowfullscreen></iframe>
            `;
            
            document.getElementById('book-reader-container').classList.add('active');
        }

        function closeBookReader() {
            document.getElementById('book-reader-container').classList.remove('active');
            document.getElementById('book-reader-content').innerHTML = '';
        }

        // Reading Statistics
        function loadCurrentlyReading() {
            const books = JSON.parse(localStorage.getItem('myBooks') || '[]');
            const readingBooks = books.filter(b => b.status === 'reading');
            const container = document.getElementById('currently-reading-list');
            
            if (readingBooks.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-500 text-center py-4">No books in progress</p>';
                return;
            }

            container.innerHTML = readingBooks.map(book => {
                const progress = book.pageCount > 0 ? Math.round((book.currentPage / book.pageCount) * 100) : 0;
                return `
                    <div class="p-4 bg-slate-50 rounded-xl" onclick="showBookOptions(${book.id})">
                        <div class="flex gap-3 mb-3">
                            <div class="w-16 h-24 flex-shrink-0">
                                ${book.thumbnail ? `<img src="${book.thumbnail}" alt="${book.title}" class="w-full h-full object-cover rounded">` : 
                                `<div class="w-full h-full bg-gradient-to-br from-purple-400 to-indigo-500 rounded flex items-center justify-center text-white text-xs font-bold text-center p-1">${book.title.substring(0, 15)}</div>`}
                            </div>
                            <div class="flex-1">
                                <p class="font-bold text-sm text-slate-900 mb-1">${book.title}</p>
                                <p class="text-xs text-slate-600 mb-2">${book.authors}</p>
                                <p class="text-xs text-slate-500">${book.currentPage}/${book.pageCount} pages</p>
                            </div>
                        </div>
                        <div class="reading-progress-bar mb-1">
                            <div class="reading-progress-fill" style="width: ${progress}%"></div>
                        </div>
                        <p class="text-xs text-slate-500 text-center">${progress}% complete</p>
                    </div>
                `;
            }).join('');
        }

        function loadReadingStats() {
            const books = JSON.parse(localStorage.getItem('myBooks') || '[]');
            const sessions = JSON.parse(localStorage.getItem('readingSessions') || '[]');
            
            // Total pages read
            const totalPages = books.reduce((sum, b) => sum + (b.currentPage || 0), 0);
            
            // Total books completed
            const completedCount = books.filter(b => b.status === 'completed').length;
            
            // Average pages per day (last 30 days)
            const thirtyDaysAgo = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000);
            const recentSessions = sessions.filter(s => new Date(s.date) > thirtyDaysAgo);
            const avgPages = recentSessions.length > 0 ? Math.round(totalPages / 30) : 0;
            
            // Reading streak
            const lastSession = sessions[0];
            const yesterday = new Date(Date.now() - 24 * 60 * 60 * 1000).toDateString();
            const today = new Date().toDateString();
            let streak = parseInt(localStorage.getItem('readingStreak') || '0');
            
            if (lastSession && new Date(lastSession.date).toDateString() === today) {
                // Already logged today, keep streak
            } else if (lastSession && new Date(lastSession.date).toDateString() === yesterday) {
                // Continue streak
            } else {
                streak = 0;
            }
            
            // Update display
            document.getElementById('avg-pages-per-day').textContent = avgPages;
            document.getElementById('reading-streak').textContent = streak;
            document.getElementById('total-books-read').textContent = completedCount;
            document.getElementById('reading-time-total').textContent = Math.round(totalPages / 250); // Assuming 250 words per page, 250 words per minute
            
            // Load reading history
            loadReadingHistory();
        }

        function loadReadingHistory() {
            const sessions = JSON.parse(localStorage.getItem('readingSessions') || '[]');
            const container = document.getElementById('reading-history-list');
            
            if (sessions.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-500 text-center py-4">No reading sessions logged</p>';
                return;
            }

            container.innerHTML = sessions.slice(0, 20).map(session => `
                <div class="p-3 bg-slate-50 rounded-lg">
                    <div class="flex justify-between items-start mb-1">
                        <p class="font-bold text-sm text-slate-800">${session.bookTitle}</p>
                        <p class="text-xs text-slate-500">${new Date(session.date).toLocaleDateString()}</p>
                    </div>
                    <p class="text-xs text-slate-600">Page ${session.pageNumber}</p>
                    ${session.notes ? `<p class="text-xs text-slate-500 mt-1 italic">${session.notes}</p>` : ''}
                </div>
            `).join('');
        }

        // Quotes Functions
        function saveQuote() {
            const bookTitle = document.getElementById('quote-book-title').value.trim();
            const quoteText = document.getElementById('quote-text').value.trim();
            const page = document.getElementById('quote-page').value.trim();
            
            if (!bookTitle || !quoteText) {
                alert('Please enter book title and quote');
                return;
            }

            const quote = {
                id: Date.now(),
                bookTitle: bookTitle,
                text: quoteText,
                page: page,
                date: new Date().toISOString()
            };

            const quotes = JSON.parse(localStorage.getItem('bookQuotes') || '[]');
            quotes.unshift(quote);
            localStorage.setItem('bookQuotes', JSON.stringify(quotes));

            // Reset form
            document.getElementById('quote-book-title').value = '';
            document.getElementById('quote-text').value = '';
            document.getElementById('quote-page').value = '';

            loadQuotes();
            alert('âœ“ Quote saved!');
        }

        function loadQuotes() {
            const quotes = JSON.parse(localStorage.getItem('bookQuotes') || '[]');
            const container = document.getElementById('quotes-list');
            
            if (quotes.length === 0) {
                container.innerHTML = '<p class="text-sm text-slate-500 text-center py-4">No quotes saved yet</p>';
                return;
            }

            container.innerHTML = quotes.map(quote => `
                <div class="quote-card">
                    <p class="text-sm font-medium text-amber-900 italic mb-2">"${quote.text}"</p>
                    <div class="flex justify-between items-center">
                        <p class="text-xs font-bold text-amber-800">â€” ${quote.bookTitle}${quote.page ? `, p.${quote.page}` : ''}</p>
                        <button onclick="deleteQuote(${quote.id})" class="text-amber-600 hover:text-amber-800">
                            <i class="fa-solid fa-trash text-xs"></i>
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function deleteQuote(quoteId) {
            if (!confirm('Delete this quote?')) return;

            const quotes = JSON.parse(localStorage.getItem('bookQuotes') || '[]');
            const filtered = quotes.filter(q => q.id !== quoteId);
            localStorage.setItem('bookQuotes', JSON.stringify(filtered));
            loadQuotes();
        }

        function showRandomQuote() {
            const quotes = JSON.parse(localStorage.getItem('bookQuotes') || '[]');
            const display = document.getElementById('random-quote-display');
            
            if (quotes.length === 0) {
                // Show default inspirational quote
                const defaultQuotes = [
                    { text: "The more that you read, the more things you will know. The more that you learn, the more places you'll go.", author: "Dr. Seuss" },
                    { text: "A reader lives a thousand lives before he dies. The man who never reads lives only one.", author: "George R.R. Martin" },
                    { text: "Books are a uniquely portable magic.", author: "Stephen King" },
                    { text: "There is no friend as loyal as a book.", author: "Ernest Hemingway" },
                    { text: "Reading is to the mind what exercise is to the body.", author: "Joseph Addison" }
                ];
                const randomDefault = defaultQuotes[Math.floor(Math.random() * defaultQuotes.length)];
                display.innerHTML = `
                    <p class="text-sm font-medium text-amber-900 italic mb-2">"${randomDefault.text}"</p>
                    <p class="text-xs font-bold text-amber-800">â€” ${randomDefault.author}</p>
                `;
            } else {
                const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
                display.innerHTML = `
                    <p class="text-sm font-medium text-amber-900 italic mb-2">"${randomQuote.text}"</p>
                    <p class="text-xs font-bold text-amber-800">â€” ${randomQuote.bookTitle}${randomQuote.page ? `, p.${randomQuote.page}` : ''}</p>
                `;
            }
        }

        // Book Recommendations
        function loadRecommendations() {
            const container = document.getElementById('recommendations-list');
            
            // Shuffle recommendations
            const shuffled = [...bookRecommendations].sort(() => Math.random() - 0.5).slice(0, 5);
            
            container.innerHTML = shuffled.map(book => `
                <div class="p-3 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl border border-purple-200">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-bold text-sm text-slate-900">${book.title}</p>
                            <p class="text-xs text-slate-600 mb-1">${book.author}</p>
                            <span class="px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-bold">${book.category}</span>
                        </div>
                        <button onclick="searchBookByTitle('${book.title}')" class="text-purple-600 hover:text-purple-800">
                            <i class="fa-solid fa-search text-sm"></i>
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function searchBookByTitle(title) {
            document.getElementById('book-search-input').value = title;
            switchLearningTab('library');
            setTimeout(() => searchBooks(), 300);
        }

        // Bible Tab Switching
        function switchBibleTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.bible-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.bible-tab').forEach(tab => {
                tab.classList.remove('active');
                tab.style.borderBottomColor = 'transparent';
                tab.style.color = '#64748b';
            });
            
            // Show selected content
            const selectedContent = document.getElementById(`bible-content-${tabName}`);
            if (selectedContent) {
                selectedContent.classList.add('active');
            }
            
            // Activate selected tab
            const selectedTab = document.getElementById(`bible-tab-${tabName}`);
            if (selectedTab) {
                selectedTab.classList.add('active');
            }

            // Load content for specific tabs
            if (tabName === 'read') {
                initializeBibleReader();
            }
        }

        // Bible Reading Functionality
        const bibleBooks = {
            old: [
                { name: 'Genesis', chapters: 50, abbr: 'Gen' },
                { name: 'Exodus', chapters: 40, abbr: 'Exod' },
                { name: 'Leviticus', chapters: 27, abbr: 'Lev' },
                { name: 'Numbers', chapters: 36, abbr: 'Num' },
                { name: 'Deuteronomy', chapters: 34, abbr: 'Deut' },
                { name: 'Joshua', chapters: 24, abbr: 'Josh' },
                { name: 'Judges', chapters: 21, abbr: 'Judg' },
                { name: 'Ruth', chapters: 4, abbr: 'Ruth' },
                { name: '1 Samuel', chapters: 31, abbr: '1Sam' },
                { name: '2 Samuel', chapters: 24, abbr: '2Sam' },
                { name: '1 Kings', chapters: 22, abbr: '1Kgs' },
                { name: '2 Kings', chapters: 25, abbr: '2Kgs' },
                { name: 'Psalms', chapters: 150, abbr: 'Ps' },
                { name: 'Proverbs', chapters: 31, abbr: 'Prov' }
            ],
            new: [
                { name: 'Matthew', chapters: 28, abbr: 'Matt' },
                { name: 'Mark', chapters: 16, abbr: 'Mark' },
                { name: 'Luke', chapters: 24, abbr: 'Luke' },
                { name: 'John', chapters: 21, abbr: 'John' },
                { name: 'Acts', chapters: 28, abbr: 'Acts' },
                { name: 'Romans', chapters: 16, abbr: 'Rom' },
                { name: '1 Corinthians', chapters: 16, abbr: '1Cor' },
                { name: '2 Corinthians', chapters: 13, abbr: '2Cor' },
                { name: 'Galatians', chapters: 6, abbr: 'Gal' },
                { name: 'Ephesians', chapters: 6, abbr: 'Eph' },
                { name: 'Philippians', chapters: 4, abbr: 'Phil' },
                { name: 'James', chapters: 5, abbr: 'Jas' },
                { name: '1 Peter', chapters: 5, abbr: '1Pet' },
                { name: 'Revelation', chapters: 22, abbr: 'Rev' }
            ]
        };

        let currentTestament = 'old';
        let currentBook = null;
        let currentChapter = 1;
        let fontSize = 16;

        function initializeBibleReader() {
            loadBibleBooks('old');
        }

        function switchTestament(testament) {
            currentTestament = testament;
            loadBibleBooks(testament);
            
            // Update button styles
            if (testament === 'old') {
                document.getElementById('testament-old').className = 'flex-1 p-3 bg-slate-800 text-white rounded-xl font-bold text-sm active:scale-95 transition';
                document.getElementById('testament-new').className = 'flex-1 p-3 bg-slate-200 text-slate-600 rounded-xl font-bold text-sm active:scale-95 transition';
            } else {
                document.getElementById('testament-old').className = 'flex-1 p-3 bg-slate-200 text-slate-600 rounded-xl font-bold text-sm active:scale-95 transition';
                document.getElementById('testament-new').className = 'flex-1 p-3 bg-slate-800 text-white rounded-xl font-bold text-sm active:scale-95 transition';
            }
        }

        function loadBibleBooks(testament) {
            const grid = document.getElementById('bible-books-grid');
            const books = bibleBooks[testament];
            
            grid.innerHTML = books.map(book => `
                <button onclick="selectBook('${book.name}', ${book.chapters}, '${testament}')" class="bible-book-button text-left">
                    <p class="font-bold text-sm">${book.name}</p>
                    <p class="text-xs text-slate-500">${book.chapters} chapters</p>
                </button>
            `).join('');
            
            // Hide chapters and reading sections
            document.getElementById('chapters-section').style.display = 'none';
            document.getElementById('bible-reading-section').style.display = 'none';
        }

        function selectBook(bookName, chapters, testament) {
            currentBook = { name: bookName, chapters: chapters, testament: testament };
            
            // Update selected book name
            document.getElementById('selected-book-name').textContent = `${bookName} - Select Chapter`;
            
            // Generate chapter buttons
            const chaptersGrid = document.getElementById('bible-chapters-grid');
            let chaptersHTML = '';
            for (let i = 1; i <= chapters; i++) {
                chaptersHTML += `<button onclick="loadChapter(${i})" class="bible-chapter-button">${i}</button>`;
            }
            chaptersGrid.innerHTML = chaptersHTML;
            
            // Show chapters section
            document.getElementById('chapters-section').style.display = 'block';
            
            // Scroll to chapters
            document.getElementById('chapters-section').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function loadChapter(chapter) {
            currentChapter = chapter;
            
            // Update reading view
            document.getElementById('reading-book-name').textContent = `${currentBook.name} ${chapter}`;
            
            // Load sample verses (in real app, you'd fetch from Bible API)
            loadSampleVerses(currentBook.name, chapter);
            
            // Hide chapters section and show reading
            document.getElementById('chapters-section').style.display = 'none';
            document.getElementById('bible-reading-section').style.display = 'block';
            
            // Scroll to reading section
            document.getElementById('bible-reading-section').scrollIntoView({ behavior: 'smooth' });
        }

        async function loadSampleVerses(book, chapter) {
            const container = document.getElementById('bible-verses-container');
            
            // Show loading state
            container.innerHTML = `
                <div class="text-center py-8">
                    <div class="loading-spinner inline-block mb-2"></div>
                    <p class="text-sm text-slate-600">Loading ${book} ${chapter}...</p>
                </div>
            `;
            
            try {
                // Get book abbreviation
                const bookData = [...bibleBooks.old, ...bibleBooks.new].find(b => b.name === book);
                const bookAbbr = bookData ? bookData.abbr : book;
                
                // Use Bible.com API (free, no API key required for basic access)
                const response = await fetch(`https://bible-api.com/${bookAbbr}+${chapter}`);
                
                if (!response.ok) {
                    throw new Error('Failed to load chapter');
                }
                
                const data = await response.json();
                
                // Display verses
                let versesHTML = '<div class="space-y-3">';
                data.verses.forEach(verse => {
                    versesHTML += `
                        <div class="bible-verse">
                            <span class="verse-number">${verse.verse}</span>
                            <span class="verse-text-bible">${verse.text.trim()}</span>
                        </div>
                    `;
                });
                versesHTML += '</div>';
                
                container.innerHTML = versesHTML;
                applyFontSize();
                
            } catch (error) {
                console.error('Error loading Bible verses:', error);
                
                // Fallback to sample verses if API fails
                container.innerHTML = `
                    <div class="p-4 bg-red-50 border border-red-200 rounded-xl mb-4">
                        <div class="flex items-start gap-2">
                            <i class="fa-solid fa-exclamation-circle text-red-600 mt-1"></i>
                            <div>
                                <p class="font-bold text-red-900 text-sm mb-1">Unable to load chapter</p>
                                <p class="text-xs text-red-800">Check your internet connection or try another chapter.</p>
                            </div>
                        </div>
                    </div>
                    <div class="space-y-3">
                        <div class="bible-verse">
                            <span class="verse-number">1</span>
                            <span class="verse-text-bible">In the beginning God created the heaven and the earth.</span>
                        </div>
                        <div class="bible-verse">
                            <span class="verse-number">2</span>
                            <span class="verse-text-bible">And the earth was without form, and void; and darkness was upon the face of the deep.</span>
                        </div>
                        <div class="bible-verse">
                            <span class="verse-number">3</span>
                            <span class="verse-text-bible">And God said, Let there be light: and there was light.</span>
                        </div>
                    </div>
                `;
                applyFontSize();
            }
        }

        function closeBibleReading() {
            document.getElementById('bible-reading-section').style.display = 'none';
            document.getElementById('chapters-section').style.display = 'block';
            document.getElementById('chapters-section').scrollIntoView({ behavior: 'smooth' });
        }

        function toggleBibleSettings() {
            const settings = document.getElementById('bible-settings');
            settings.style.display = settings.style.display === 'none' ? 'block' : 'none';
        }

        function adjustFontSize(change) {
            fontSize += change;
            if (fontSize < 12) fontSize = 12;
            if (fontSize > 24) fontSize = 24;
            applyFontSize();
        }

        function applyFontSize() {
            const verses = document.querySelectorAll('.verse-text-bible');
            verses.forEach(verse => {
                verse.style.fontSize = fontSize + 'px';
            });
        }

        function previousChapter() {
            if (currentChapter > 1) {
                loadChapter(currentChapter - 1);
            }
        }

        function nextChapter() {
            if (currentChapter < currentBook.chapters) {
                loadChapter(currentChapter + 1);
            }
        }

    </script>
</body>
</html>
